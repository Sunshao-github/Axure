$axure.document.configuration.showConsole&&$(document).ready(function(){var e;$axure.player.createPluginHost({id:"debugHost",context:"inspect",title:"Console",gid:3}),e="<div id='debugHeader'>",e+="<div id='debugToolbar'>",e+="<div id='consoleTitle' class='pluginNameHeader'>Console</div>",e+="</div>",e+="</div>",e+="<div id='variablesContainer' style='max-height:300px; overflow-y:auto'>",e+="<div id='variablesTitle' class='sectionTitle'>Variables</div>",e+="<a id='variablesClearLink' class='traceOption'>Reset Variables</a>",e+="<div id='variablesDiv'></div></div>",e+="<div id='traceContainer'>",e+="<div id='traceHeader'>",e+="<span class='sectionTitle'>Trace</span><a id='traceClear' class='traceOption'>Clear Trace</a><a id='traceToggle' class='traceOption'>Stop Trace</a>",e+="</div>",e+="</div>",e+="<div id='debugScrollContainer'>",e+="<div id='debugContainer'>",e+="<div id='traceEmptyState'>",e+="<div class='startInstructions'>Click the button below to start recording interactions as you click through the prototype.</div>",e+="<div id='traceStart' class='startButton'>Start Trace</div>",e+="</div>",e+="<div id='traceDiv'></div></div>",e+="</div></div>",$("#debugHost").html(e),$("#traceEmptyState").show(),$("#variablesClearLink").click(function(e){$axure.messageCenter.postMessage("resetGlobalVariables","")}),$("#traceClear").click(function(e){$("#traceDiv").html("")}),$("#traceToggle").click(s),$("#traceStart").click(r),$("#traceClear").hide(),$("#traceToggle").hide(),$("#closeConsole").click(function(){$axure.player.pluginClose("debugHost")});var a=[],i=[];$axure.messageCenter.addMessageListener(function(e,a){if("axCompositeEventMessage"==e)for(var i=0;i<a.length;i++)t(a[i].message,a[i].data);else t(e,a)});var t=function(e,t){if("globalVariableValues"==e)for(var r in $("#variablesDiv").empty(),t){var s=""==t[r]?"(blank)":t[r];$("#variablesDiv").append('<div class="variableList"><div class="variableName">'+r+'</div><div class="variableValue">'+s+"</div></div>")}else if("axEvent"==e){var l="<div class='axEventBlock'>";l+="<div class='axEventContainer'>",l+="    <div class='axTime'>"+(new Date).toLocaleTimeString()+"</div>",l+="    <div class='axEvent'>"+t.event.description+": </div>",l+="    <div class='axLabel'>"+t.label+" ("+t.type+")</div>",l+="</div>",a.push(l)}else if("axEventComplete"==e){if(a[a.length-1]+="</div>",i.push(a.pop()),0==a.length){$("#traceEmptyState").hide(),$("#traceClear").show(),$("#traceToggle").show();for(var c=i.length-1;c>=0;c--)$("#traceDiv").children().length>99&&$("#traceDiv").children().last().remove(),$("#traceDiv").prepend(i[c]);i=[]}}else"axCase"==e?(l="<div class='axCaseContainer'>",l+="    <div class='axCaseItem'>"+t.item+"</div>",t.description&&(l+="    <div class='axCaseDescription' title='"+t.description+"'>"+t.description+"</div>"),l+="</div>",a[a.length-1]+=l):"axAction"==e?(l="<div class='axActionContainer'>",l+="    <div class='axActionItem'>"+t.name+"</div>",l+="</div>",a[a.length-1]+=l):"axInfo"==e&&(l="<div class='axInfoContainer'>",l+="    <div class='axInfoItem'>"+t.item+"</div>",t.description&&(l+="    <div class='axInfoDescription' title='"+t.longDescription+"'>"+t.description+"</div>"),l+="</div>",a[a.length-1]+=l)};function r(e){$axure.messageCenter.setState("isTracing",!0),$("#traceEmptyState").hide(),$("#traceClear").show(),$("#traceToggle").text("Stop Trace"),$("#traceToggle").off("click"),$("#traceToggle").click(s),$("#traceToggle").show(),console.log("starting trace"),$axure.player.setVarInCurrentUrlHash(TRACE_VAR_NAME,1)}function s(e){$axure.messageCenter.setState("isTracing",!1),$("#traceDiv").prepend('<div class="tracePausedNotification">Trace Paused<div>'),$("#traceToggle").text("Restart Trace"),$("#traceToggle").off("click"),$("#traceToggle").click(r),console.log("stopping trace"),$axure.player.deleteVarFromCurrentUrlHash(TRACE_VAR_NAME)}$axure.page.bind("load.debug",function(){return $axure.player.getHashStringVar(TRACE_VAR_NAME).length>0?$axure.messageCenter.setState("isTracing",!0):$axure.messageCenter.setState("isTracing",!1),$axure.messageCenter.postMessage("getGlobalVariables",""),!1})});