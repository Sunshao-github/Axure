$axure.internal(function(e){var t,r,n=function(t,r){var n=function(e,t){for(var r=0;r<e.length;r++)a(e[r],t)},a=function(a,i){if(e.initializeObject("diagramObject",a),r[t.packageId+"~"+a.id]=a,a.parent=i,a.owner=t,a.scriptIds=[],a.diagrams)for(var o=0;o<a.diagrams.length;o++){var l=a.diagrams[o];n(l.objects,l)}else if(e.public.fn.IsLayer(a.type)){var c=a.objs;n(c,i)}a.objects&&n(a.objects,a)};n(t.diagram.objects,t.diagram)};!function(){var i={},o={},l={},c={},d={},p={},s={},u=[],g={},m={};r=function(){if(t&&t.page&&t.page.diagram){var r={};for(var o in n(t.page,r),t.masters){var p=t.masters[o];n(p,r)}var g=[];a(t.objectPaths,[],g,s);for(var m=0;m<g.length;m++){var f=g[m].idPath,h=g[m].scriptId,I=t.page.packageId;if(f.length>1)for(var v=0;v<f.length-1;v++){I=r[I+"~"+f[v]].masterId}var b=r[I+"~"+f[f.length-1]];b.scriptIds[b.scriptIds.length]=h,l[h]=b,u[u.length]=h}var E=function(e,t){c[e]=t;var r=d[t];r?r[r.length]=e:d[t]=[e]},y=function(t,r,n){var a=e.deepCopy(n);a[n.length]=t.id;var o=e.getScriptIdFromPath(a);i[o]=r},P=function(t,r,n){for(var a=e.deepCopy(t),i=0;i<r.length;i++){var o=r[i];a[t.length]=o.id;var l=e.getScriptIdFromPath(a);if(n&&E(l,n),e.public.fn.IsDynamicPanel(o.type))for(var c=0;c<o.diagrams.length;c++)P(t,o.diagrams[c].objects,n);else if(e.public.fn.IsReferenceDiagramObject(o.type))P(a,e.pageData.masters[o.masterId].diagram.objects,n);else if(e.public.fn.IsRepeater(o.type))E(l,l),P(t,o.objects,l);else if(e.public.fn.IsLayer(o.type)){var d=o.objs;for(c=0;c<d.length;c++)y(d[c],l,t);P(t,d,n)}else if(o.objects&&o.objects.length&&n)for(c=0;c<o.objects.length;c++)P(t,o.objects,n)}};P([],e.pageData.page.diagram.objects)}},e.getPathFromScriptId=function(e){for(var t=[],r=s[e];r&&r.uniqueId;)t[t.length]=r.uniqueId,r=r.parent;return t.reverse()};var f=function(t,r,n){var a,i=[],o=!1;r&&(r.srcElement?(a=e.repeater.getScriptIdFromElementId(r.srcElement),o=r.isMasterEvent):"string"==typeof r&&(a=r),a?(i=e.getPathFromScriptId(a),o||(i=i.slice(0,i.length-1))):r instanceof Array&&(i=r));var l=function(t){for(var r=e.pageData.objectPaths,n=0;n<t.length;n++)if(!(r=r[t[n]]))return r;return r&&r.scriptId}(i.concat(t));return(n||!e.visibility.isScriptIdLimbo(l))&&l};e.getScriptIdFromPath=f;e.getElementIdsFromPath=function(t,r){var n=f(t,r);return n?e.getElementIdsFromEventAndScriptId(r,n):[]};e.getElementIdFromPath=function(t,r,n){var a=f(t,r.relativeTo,n);if(!a)return a;var i=r.itemNum;return r.relativeTo&&"string"==typeof r.relativeTo&&$jobj(r.relativeTo)&&(i=e.repeater.getItemIdFromElementId(r.relativeTo)),e.repeater.createElementId(a,i)};e.getElementIdsFromEventAndScriptId=function(t,r){var n=t&&e.repeater.getItemIdFromElementId(t.srcElement),a=!1;n||(n=t&&t.targetElement&&e.repeater.getItemIdFromElementId(t.targetElement))&&(a=!0);var i=e.getParentRepeaterFromScriptId(r);if(i&&r!=i){if(n&&(!t||i==e.getParentRepeaterFromScriptId(e.repeater.getScriptIdFromElementId(a?t.targetElement:t.srcElement))))return[e.repeater.createElementId(r,n)];var o=[],l=e.getItemIdsForRepeater(i);if(!l)return[];for(var c=0;c<l.length;c++)o[c]=e.repeater.createElementId(r,l[c]);return o}return[r]};var h=function(e){for(var t=$(e.srcElement||e.target);t&&t.length&&(!$obj(t.attr("id"))||$jobj(t.attr("id")).hasClass("text"));)t=t.parent();return t.attr("id")};e.getSrcElementIdFromEvent=h;e.getEventInfoFromEvent=function(t,r,n){var a={};if(a.srcElement=n,a.now=new Date,null!=t){a.srcElement=n||""==n?n:h(t),a.which=t.which;var i=t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]||t.originalEvent;i&&!i.type&&(i.type=t.type),r&&(a.skipShowDescriptions=!0),e.event.updateMouseLocation(i)}var o=a.cursor={};o.x=e.mouseLocation.x,o.y=e.mouseLocation.y;var l=$("body");return"relative"==l.css("position")&&(o.x-=e.getNumFromPx(l.css("left"))+Math.max(0,($(window).width()-l.width())/2)),a.pageX=o.x+"px",a.pageY=o.y+"px",a.keyInfo=e.event.keyState(),a.window=e.getWindowInfo(),a.thiswidget=b(a.srcElement),a.item=v(a.srcElement),a.dragInfo=e.drag.GetWidgetDragInfo(),a},e.getBasicEventInfo=function(){var t={};return t.now=new Date,t.window=e.getWindowInfo(),t.cursor={x:0,y:0},t};var I=[];e.cacheRepeaterInfo=function(e,t){I[e]=t},e.removeCachedRepeaterInfo=function(e){I[e]=void 0};var v=function(t){if(!t)return{valid:!1};t=E(t);var r=e.repeater.getItemIdFromElementId(t);if(!r)return{valid:!1};var n={valid:!0},a=e.repeater.getScriptIdFromElementId(t),i=e.getParentRepeaterFromScriptId(a);return n.repeater=I[i]?I[i]:b(i),e.repeater.setDisplayProps(n,i,r),n.ismarked=e.repeater.isEditItem(i,r),n.isvisible=Boolean($jobj(t).length),n};e.getItemInfo=v;var b=function(t){if(!t)return{valid:!1};t=E(t);var r=$jobj(t),n=$obj(t),a={valid:!0,isWidget:!0,obj:n,elementQuery:r,isLayer:e.public.fn.IsLayer(n.type)};a.elementId=t,a.name=a.label=r.data("label")?r.data("label"):"",a.opacity=100*Number(r.css("opacity"));var i=e.repeater.getScriptIdFromElementId(t),o=e.getParentRepeaterFromScriptId(i);if(o&&(a.repeater=e.public.fn.IsRepeater(n.type)?a:b(o)),e.public.fn.IsDynamicPanel(n.type)){var l=e.visibility.GetPanelState(t);if(l){var c=$("#"+l);a.scrollx=c.scrollLeft(),a.scrolly=c.scrollTop()}}else a.scrollx=0,a.scrolly=0;return e.public.fn.IsRepeater(n.type)&&(a.visibleitemcount=p[i]?p[i].length:e.repeater.getVisibleDataCount(i),a.itemcount=e.repeater.getFilteredDataCount(i),a.datacount=e.repeater.getDataCount(i),a.pagecount=e.repeater.getPageCount(i),a.pageindex=e.repeater.getPageIndex(i)),a.x=function(){return this.getProp("x")},a.y=function(){return this.getProp("y")},a.pagex=function(){return this.getProp("pagex")},a.pagey=function(){return this.getProp("pagey")},a.width=function(){return this.getProp("width")},a.height=function(){return this.getProp("height")},a.left=function(){return this.x()},a.top=function(){return this.y()},a.right=function(){return this.x()+this.width()},a.bottom=function(){return this.y()+this.height()},a.rotation=function(){return this.getProp("rotation")},a.text=function(){return this.getProp("text")},a.getProp=function(e){var t=e+"Prop";return void 0!==this[t]?this[t]:this[t]=this.cacheProp(e)},a.cacheProp=function(t){if("x"==t||"y"==t||"width"==t||"height"==t){var r=e("#"+this.elementId).offsetBoundingRect(!0);this.xProp=r.left,this.yProp=r.top,this.widthProp=r.width,this.heightProp=r.height}if("pagex"==t||"pagey"==t){var n=e("#"+this.elementId).viewportLocation();this.pagexProp=n.left,this.pageyProp=n.top}return"rotation"==t&&(this.rotationProp=e.move.getRotationDegree(this.elementId)),"text"==t&&(this.textProp=e("#"+this.elementId).text()),this[t+"Prop"]},a};e.getWidgetInfo=b,e.GetTextPanelId=function(t,r){if(!e("#"+t).SupportsRichText())return"";var n=e.GetButtonShape(t),a=n.find(".text")[0];if(!a){if(!r)return"";var i=e.adaptive.currentViewId,o=$('<div id="'+(t+"_text")+'" class="text'+(i?" "+i:"")+'" style="visibility: inherit; position: absolute"><p><span></span></p></div>');n.append(o),e.style.setAdaptiveStyle(t,e.style.computeAllOverrides(t,void 0,e.style.generateState(t),i)),a=o[0]}return a.id},e.GetParentIdFromLink=function(t){return e.GetShapeIdFromText($jobj(t).parentsUntil(".text").parent().attr("id"))},e.GetButtonShapeId=function(t){var r=$obj(t);switch(r.type){case e.constants.TREE_NODE_OBJECT_TYPE:return r.buttonShapeId?e.getElementIdFromPath([r.buttonShapeId],{relativeTo:t}):"";case e.constants.LINK_TYPE:return"";default:return t}},e.GetButtonShape=function(t){return $jobj(e.GetButtonShapeId(t))},e.GetShapeIdFromText=function(t){if(t){var r=document.getElementById(t);if(r)for(r=r.parentElement;r&&"BODY"!=r.tagName;){var n=r.id;if(n&&"base"!=n)return e.visibility.getWidgetFromContainer(n);r=r.parentElement}}},e.GetImageIdFromShape=function(t){var r=e.GetButtonShape(t).find("img[id$=img]");return r.length||(r=$jobj(t).find("img[id$=image_sketch]")),r.attr("id")};var E=e.getParentElement=function(t){for(var r=$obj(t);r.isContained;){var n=e.getPathFromScriptId(e.repeater.getScriptIdFromElementId(t)),a=e.repeater.getItemIdFromElementId(t);n[n.length-1]=r.parent.id,t=e.getElementIdFromPath(n,{itemNum:a}),r=$obj(t)}return t};e.addItemIdToRepeater=function(t,r){var n=p[r];n?n[n.length]=t:p[r]=[t];for(var a=d[r],i=0;i<a.length;i++)o[e.repeater.createElementId(a[i],t)]=e.getObjectFromScriptId(a[i])},e.getAllElementIds=function(){for(var t=[],r=0;r<u.length;r++){var n=u[r],a=c[n];if(a&&a!=n)for(var i=p[a]||[],o=0;o<i.length;o++)t[t.length]=e.repeater.createElementId(n,i[o]);else t[t.length]=n}return t},e.getAllScriptIds=function(){return u},e.getObjectFromElementId=function(t){return e.getObjectFromScriptId(e.repeater.getScriptIdFromElementId(t))},e.getObjectFromScriptId=function(e){return l[e]},e.getParentRepeaterFromElementId=function(t){return e.getParentRepeaterFromScriptId(e.repeater.getScriptIdFromElementId(t))},e.getParentRepeaterFromElementIdExcludeSelf=function(t){var r=e.getParentRepeaterFromElementId(t);return r!=t?r:void 0},e.getParentRepeaterFromScriptId=function(e){return c[e]};var y=function(e){return p[e]||[]};e.getItemIdsForRepeater=y;e.clearItemsForRepeater=function(e){p[e]=[]},e.getChildElementIdsForRepeater=function(t){var r=function(e){return d[e]}(t),n=y(t),a=[];if(!n||!r)return a;for(var i=0;i<r.length;i++)for(var o=0;o<n.length;o++)a[a.length]=e.repeater.createElementId(r[i],n[o]);return a},e.getRdoParentFromElementId=function(t){var r=e.repeater.getScriptIdFromElementId(t),n=s[r].parent.scriptId;return e.getParentRepeaterFromScriptId(n)&&(n=e.repeater.createElementId(n,e.repeater.getItemIdFromElementId(t))),n},e.getLayerParentFromElementId=function(t){var r=e.repeater.getItemIdFromElementId(t),n=i[e.repeater.getScriptIdFromElementId(t)];return e.getParentRepeaterFromElementId(n)?e.repeater.createElementId(n,r):n},e.updateElementText=function(e,t){g[e]=t},e.hasElementTextChanged=function(e,t){return g[e]!=t},e.updateRadioButtonSelected=function(e,t){var r=m[e];return m[e]=t,r},e.hasRadioButtonSelectedChanged=function(e,t){return m[e]!=t}}();var a=function(e,t,r,n){for(var i in e)if("scriptId"!=i){var o=e[i];a(o,t.concat(i),r,n),o.parent=e,o.uniqueId=i}else r[r.length]={idPath:t,scriptId:e.scriptId},n[e.scriptId]=e};e.public.loadCurrentPage=e.loadCurrentPage=function(n){e.pageData=t=n,r()},e.public.loadDocument=e.loadDocument=function(t){e.document=t,function(e){var t={},r=e.customStyles;for(var n in r){var a=r[n];t[a.id]=a}var i=e.duplicateStyles;for(var o in i)t[o]=t[i[o]];e.stylesById=t}(e.document.stylesheet)},e.public.navigate=e.navigate=function(t){var r;if("object"==typeof t)if(r=t.includeVariables?e.globalVariableProvider.getLinkUrl(t.url,t.useGlobalVarNameInUrl):t.url,"new"==t.target)window.open(r,"");else if("popup"==t.target){var n=o(t.popupOptions);window.open(r,"",n)}else{var a=window.location;if("current"==t.target);else if("parent"==t.target){if(!top.opener)return;a=top.opener.window.location}else if("parentFrame"==t.target)a=parent.location;else if("frame"==t.target)return void $(t.frame).attr("src",r||"about:blank");i(a,t.url)?a.href=$axure.utils.getReloadPath()+"#"+encodeURI(r):a.href=r||"about:blank"}else e.navigate({url:t,target:"current",includeVariables:arguments[1]})};var i=function(e,t){var r=!1;try{var n=e.href.split("#")[0],a=n.lastIndexOf("/");a>0&&(n=n.substring(a+1,n.length))==encodeURI(t)&&(r=!0)}catch(e){}return r},o=function(e){var t=$.extend({},{toolbar:!0,scrollbars:!0,location:!0,status:!0,menubar:!0,directories:!0,resizable:!0,centerwindow:!0,left:-1,top:-1,height:-1,width:-1},e),r=[];r.push("toolbar="+(t.toolbar?"yes":"no")),r.push("scrollbars="+(t.scrollbars?"yes":"no")),r.push("location="+(t.location?"yes":"no")),r.push("status="+(t.status?"yes":"no")),r.push("menubar="+(t.menubar?"yes":"no")),r.push("directories="+(t.directories?"yes":"no")),r.push("resizable="+(t.resizable?"yes":"no")),0==t.centerwindow&&(t.left>-1&&r.push("left="+t.left),t.top>-1&&r.push("top="+t.top));var n=0,a=0;t.height>0&&(r.push("height="+t.height),n=t.height),t.width>0&&(r.push("width="+t.width),a=t.width);var i=r.join(",");t.centerwindow&&(i=i+",left="+(window.screen.width-a)/2+",top="+(window.screen.height-n)/2);return i};e.public.closeWindow=e.closeWindow=function(){parent.window.close()},e.public.back=e.back=function(){window.history.go(-1)},e.public.reload=e.reload=function(t){var r=!1===t?$axure.utils.getReloadPath()+"#"+encodeURI(e.pageData.url):$axure.utils.getReloadPath()+"#"+encodeURI(e.globalVariableProvider.getLinkUrl(e.pageData.url));window.location.href=r},e.public.setGlobalVariable=e.setGlobalVariable=function(t,r){t&&r&&e.globalVariableProvider.setVariableValue(t,r)},e.public.getGlobalVariable=e.getGlobalVariable=function(t){e.globalVariableProvider.getVariableValue(t)},e.getObjectFromElementIdDisregardHex=function(e){var t="#"==e.charAt(0)?e.substring(1):e;return this.getObjectFromElementId(t)},e.getTypeFromElementId=function(e){var t=this.getObjectFromElementIdDisregardHex(e);return t&&t.type},e.getNumFromPx=function(e){return Number(e.replace("px",""))}});