$axure.internal(function(e){e.tree={},e.menu={};e.menu.InitializeSubmenu=function(i,n){var o=$("#"+i);$("#"+n).mouseenter(function(n){e.visibility.SetIdVisible(i,!0),e.legacy.BringToFront(i),t(i,"onShow")}).mouseleave(function(s){var d=o.offset(),r=o.width(),l=o.height();(s.pageX+3<d.left||s.pageX>d.left+r||s.pageY+3<d.top||s.pageY>d.top+l)&&(o.find(".sub_menu").addBack().each(function(){e.visibility.SetVisible(this,!1),t(i,"onHide")}),e.style.SetWidgetHover(n,!1))}),o.css("display","none"),o.mouseleave(function(i){$(this).find(".sub_menu").addBack().css({visibility:"hidden",display:"none"}).each(function(){t(this.id,"onHide")}),e.style.SetWidgetHover(n,!1)})};var t=function(t,i){var n=e.getObjectFromElementId(t),o=n.interactionMap&&n.interactionMap[i];if(o){var s=e.getEventInfoFromEvent(e.getjBrowserEvent(),!1,t);e.event.handleEvent(t,s,o,!1,!0)}};function i(t){for(var i=window.document.getElementById(t),n=i.parentNode;!$(i).hasClass("treeroot");){if(!e.visibility.IsVisible(n))return!1;i=n,n=n.parentNode}return!0}e.tree.ExpandNode=function(t,o,s){var d=window.document.getElementById(o);if(d&&!e.visibility.IsVisible(d)){e.visibility.SetVisible(d,!0),""!=s&&e.style.SetWidgetSelected(s,!0);for(var r=n(t,o),l=i(t),a=window.document.getElementById(t),c=a.parentNode;!$(a).hasClass("treeroot");){var u=!1,v=0;for(v=0;v<c.childNodes.length;v++){var f=c.childNodes[v];if(u&&f.id&&$(f).hasClass("treenode")){var m=f.id;f.style.top=e.getNumFromPx($(f).css("top"))+r+"px";var y=window.document.getElementById(m+"_ann");y&&(y.style.top=e.getNumFromPx($(y).css("top"))+r+"px")}f==a&&(u=!0)}if(a=c,c=c.parentNode,!l&&e.visibility.IsVisible(c))break}}},e.tree.CollapseNode=function(t,o,s){var d=window.document.getElementById(o);if(d&&e.visibility.IsVisible(d)){""!=s&&e.style.SetWidgetSelected(s,!1);var r=n(t,o);e.visibility.SetVisible(d,!1);for(var l=i(t),a=window.document.getElementById(t),c=a.parentNode;!$(a).hasClass("treeroot");){var u=!1,v=0;for(v=0;v<c.childNodes.length;v++){var f=c.childNodes[v];if(u&&f.id&&$(f).hasClass("treenode")){var m=f.id;f.style.top=e.getNumFromPx($(f).css("top"))-r+"px";var y=window.document.getElementById(m+"_ann");y&&(y.style.top=e.getNumFromPx($(y).css("top"))-r+"px")}f==a&&(u=!0)}if(c=(a=c).parentNode,!l&&e.visibility.IsVisible(c))break}}};var n=function(e,t){return o(t)},o=function(t){var i=0;return $("#"+t).children().each(function(){if($(this).hasClass("treenode")){i+=$(this).height();var t=window.document.getElementById(this.id+"_children");t&&e.visibility.IsVisible(t)&&(i+=o(t.id))}}),i};e.tree.InitializeTreeNode=function(t,i,n,o){var s=window.document.getElementById(n);if(s){var d="hidden"==s.style.visibility;d&&e.visibility.SetVisible(s,!1),d||""==i||e.style.SetWidgetSelected(i,!0)}""!=i&&$jobj(i).click(function(){return e.visibility.IsIdVisible(n)?e.tree.CollapseNode(t,n,i):e.tree.ExpandNode(t,n,i),e.tree.SelectTreeNode(t,!0),!1}).css("cursor","default")};e.tree.SelectTreeNode=function(t,i){e.style.SetWidgetSelected(function(t){var i=$obj(t);return e.public.fn.IsTreeNodeObject(i.type)?e.getElementIdFromPath([i.buttonShapeId],{relativeTo:t}):t}(t),i)}});