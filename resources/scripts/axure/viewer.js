$axure.internal(function(e){var t=["onClick","onDoubleClick","onMouseOver","onMouseMove","onMouseOut","onMouseDown","onMouseUp","onKeyDown","onKeyUp","onFocus","onLostFocus","onTextChange","onSelectionChange","onSelectedChange","onSelect","onUnselect","onSwipeLeft","onSwipeRight","onSwipeUp","onSwipeDown","onDragStart","onDrag","onDragDrop","onScroll","onContextMenu","onMouseHover","onLongClick"];e.messageCenter.addMessageListener(function(t,r){if("toggleSelectWidgetNote"==t){if(IOS||$(".widgetNoteSelected").removeClass("widgetNoteSelected"),!r.value)return;e("*").each(function(e,t){e.id==r.id&&(IOS||$("#"+t).addClass("widgetNoteSelected"),n($("#"+t),r.view))})}});var n=function(e,t){var n=!!IOS&&(0!=window.orientation&&180!=window.orientation),r=IOS?(n?window.screen.height:window.screen.width)-t.panelWidthOffset:$(window).width(),o=IOS?t.height:$(window).height(),i=$("html").last().scrollLeft(),a=$("html").last().scrollTop(),c=i+r,l=a+o,u=$("#base").css("transform");u="none"==u?1:Number(u.substring(u.indexOf("(")+1,u.indexOf(",")));var d=void 0!==$("body").css("left")&&"auto"!==$("body").css("left")?Number($("body").css("left").replace("px","")):0,s=u*Number(e.css("top").replace("px","")),f=s+u*e.height(),g=u*Number(e.css("left").replace("px",""))+d,h=g+u*e.width(),v=g<i||h>c,p=s<a||f>l,m=50*u,y=0;g<i?y=g-m:h>c&&(y=h+m-r);var w=0;s<a?w=s-m:f>l&&(w=f+m-o),(t.h||1==t.scaleVal||2==t.scaleVal)&&(v=!1),(1==t.scaleVal||t.h)&&g>c&&(p=!1),v&&p?$("html, body").animate({scrollLeft:y,scrollTop:w},300):v?$("html, body").animate({scrollLeft:y},300):p&&$("html, body").animate({scrollTop:w},300)},r=!1;e.messageCenter.addMessageListener(function(t,n){"highlightInteractive"==t&&(r=1==n,o(e("*")))});var o=e.applyHighlight=function(n,o){if(!o||r){var i="legacyPulsateBorder",a=function(e){if(e&&e.interactionMap)for(var n in t)if(e.interactionMap[t[n]])return!0;return!1},c=n.filter(function(t,n){return!e.public.fn.IsLayer(t.type)&&(!!a(t)||(!(!e.public.fn.IsVector(t.type)||!t.referencePageUrl)||function(t){var n=e("#"+t).getParents(!0,["layer"])[0];for(var r in n){var o=n[r],i=e.getObjectFromScriptId(o);if(a(i))return!0}return!1}(n)))}).$(),l=c.is("."+i);r&&!l?c.addClass(i):!r&&l&&c.removeClass(i)}},i=function(e,t){var n=document.elementsFromPoint||document.msElementsFromPoint;return"function"==typeof n?n.bind(document)(e,t):[]};$axure.getIdAndRectAtLoc=function(t){var n=document.elementFromPoint(t.x,t.y);if(n){var r=a(n);if(r.length>0){var o=r.attr("id");return{id:o,rect:e("#"+o).pageBoundingRect()}}}},$axure.getListOfIdAndRectAtLoc=function(t){var n=i(t.x,t.y);if(!n||!n.length)return[];const r=[];return n.forEach(function(t){var n=a(t);if(n.length>0){var o=n.attr("id"),i=e("#"+o).pageBoundingRect();r.findIndex(function(e){return e.id===o})<0&&r.push({id:o,rect:i})}}),r},$axure.getIdRectAndStyleAtLoc=function(e){var t=document.elementFromPoint(e.x,e.y);if(t){var n=a(t);if(n.length>0){var r=n.attr("id");return $axure.getRectAndStyleById(r)}}},$axure.getListOfIdRectAndStyleAtLoc=function(e){var t=i(e.x,e.y);if(!t||!t.length)return[];const n=[];return t.forEach(function(e){var t=a(e);if(t.length>0){var r=t.attr("id");n.findIndex(function(e){return e.id===r})<0&&n.push($axure.getRectAndStyleById(r))}}),n},$axure.getRectAndStyleById=function(t){var n=e("#"+t),r=n.pageBoundingRect(),o=e.style.computeFullStyle(t,e.style.generateState(t),e.adaptive.currentViewId);return o.text=n.text(),{id:t,rect:r,style:o}},$axure.isIdVisible=function(t){return!!t&&e.visibility.IsIdVisible(t)},$axure.getParentElementById=function(t){if(t){var n=e.getLayerParentFromElementId(t);if(n)return $axure.getRectAndStyleById(n)}};var a=function(e){for(var t=e.id,n=$(e);(!t||t.indexOf("cache")>-1)&&"HTML"!=n[0].tagName;)t=(n=n.parent()).attr("id");if(t&&"base"!=t){var r=t.split("_");return $("#"+r[0])}return""}});