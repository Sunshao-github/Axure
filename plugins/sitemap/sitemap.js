var currentNodeUrl="",allNodeUrls=[],openNextPage=$axure.player.openNextPage=function(){var e=allNodeUrls.indexOf(currentNodeUrl)+1;if(!(e>=allNodeUrls.length)){var a=allNodeUrls[e];currentNodeUrl=a,$('.sitemapPageLink[nodeUrl="'+a+'"]').parent().mousedown()}},openPreviousPage=$axure.player.openPreviousPage=function(){var e=allNodeUrls.indexOf(currentNodeUrl)-1;if(!(e<0)){var a=allNodeUrls[e];currentNodeUrl=a,$('.sitemapPageLink[nodeUrl="'+a+'"]').parent().mousedown()}};!function(){var e="hi",a="";$(window.document).ready(function(){$axure.player.createPluginHost({id:"sitemapHost",context:"project",title:"Project Pages",gid:1}),$(window.document).bind("keyup",function(e){if("textarea"!=e.target.localName&&"input"!=e.target.localName&&!event.target.isContentEditable)switch(e.which){case 188:openPreviousPage();break;case 190:openNextPage();break;default:return}}),function(){var e="<div id='sitemapHeader'' class='sitemapHeader'>";e+="<div id='sitemapToolbar' class='sitemapToolbar'>",e+='<div id="searchDiv"><span id="searchIcon" class="sitemapToolbarButton"></span><input id="searchBox" type="text"/></div>',e+="<div class='leftArrow sitemapToolbarButton'></div>",e+="<div class='rightArrow sitemapToolbarButton'></div>",e+="</div>",e+="</div>";var a=$axure.player.getProjectName();a||(a="Pages");e+="<div class='sitemapPluginNameHeader pluginNameHeader'>"+a+"</div>",e+="<div id='sitemapTreeContainer'>",e+="<ul class='sitemapTree' style='clear:both;'>";for(var t=$axure.document.sitemap.rootNodes,i=0;i<t.length;i++)e+=u(t[i],0);e+="</ul></div>",MOBILE_DEVICE||(e+="<div id='changePageInstructions' class='pageSwapInstructions'>Use  ",e+='<span class="backKeys"></span>',e+="  and  ",e+='<span class="forwardKeys"></span>',e+="  keys<br>to move between pages",e+="</div>");$("#sitemapHost").html(e)}();var t=$(".sitemapPageLink").length;$(".leftArrow").click(openPreviousPage),$(".rightArrow").click(openNextPage),$(".sitemapPlusMinusLink").click(s),$(".sitemapPageLink").parent().mousedown(l),$("#interfaceAdaptiveViewsListContainer").hide(),$("#projectOptionsShowHotspots").click(r),$("#searchIcon").click(n),$("#searchDiv").click(o),$("#searchBox").keyup(v),$axure.page.bind("load.sitemap",function(){a=$axure.page.location.split("#")[0];var s=decodeURI(a);currentNodeUrl=s.substr(s.lastIndexOf("/")?s.lastIndexOf("/")+1:0),$(location).attr("href").split("#")[0].split("?")[0],"#p="+currentNodeUrl.substr(0,currentNodeUrl.lastIndexOf(".")),$axure.player.setVarInCurrentUrlHash(PAGE_ID_NAME,$axure.player.getPageIdByUrl(currentNodeUrl)),$axure.player.setVarInCurrentUrlHash(PAGE_URL_NAME,currentNodeUrl.substring(0,currentNodeUrl.lastIndexOf(".html"))),$("#sitemapTreeContainer").find(".sitemapHighlight").removeClass("sitemapHighlight");var o=$('.sitemapPageLink[nodeUrl="'+currentNodeUrl+'"]');o.parent().parent().addClass("sitemapHighlight");var n=$axure.page.pageName;if($(".pageNameHeader").html(n),o.length>0&&t>1){var l=o[0],r=$(".sitemapPageLink").index(l)+1;$(".pageCountHeader").html("("+r+" of "+t+")")}else $(".pageCountHeader").html("");var d=$axure.player.getHashStringVar(e);d.length>0&&1==d?($("#showHotspotsOption").find(".overflowOptionCheckbox").addClass("selected"),$("#projectOptionsHotspotsCheckbox").length>0&&$("#projectOptionsHotspotsCheckbox").addClass("selected"),$axure.messageCenter.postMessage("highlightInteractive",!0)):$("#showHotspotsOption").find(".overflowOptionCheckbox").hasClass("selected")&&$axure.messageCenter.postMessage("highlightInteractive",!0),i(!1),MOBILE_DEVICE&&i(!0),$axure.player.suspendRefreshViewPort=!0;var p=$axure.player.getHashStringVar(ADAPTIVE_VIEW_VAR_NAME);if(p.length>0){var c=$('.adaptiveViewOption[val="'+p+'"]');c.length>0?c.click():$('.adaptiveViewOption[val="auto"]').click()}else if($(".selectedRadioButton").length>0){$(".selectedRadioButton").parents(".adaptiveViewOption").click()}function v(){MOBILE_DEVICE&&$axure.player.isMobileMode()?$('.projectOptionsScaleRow[val="0"]').click():$('.vpScaleOption[val="0"]').click()}updateAdaptiveViewHeader();var u=$axure.player.getHashStringVar(SCALE_VAR_NAME);if(u.length>0){var h=$('.vpScaleOption[val="'+u+'"]');h.length>0?h.click():v()}else v();return $axure.player.getHashStringVar(ROT_VAR_NAME).length>0&&$("#vpRotate").prop("checked",!0),$axure.player.suspendRefreshViewPort=!1,$axure.player.isViewOverridden()||$axure.messageCenter.postMessage("setAdaptiveViewForSize",{width:$("#mainPanel").width(),height:$("#mainPanel").height()}),$axure.player.refreshViewPort(),$axure.messageCenter.postMessage("finishInit"),$("#mainPanel").animate({opacity:1},10),$("#clippingBounds").animate({opacity:1},10),!1});var d=$("#interfaceScaleListContainer"),p='<div class="vpScaleOption" val="0"><div class="scaleRadioButton"><div class="selectedRadioButtonFill"></div></div>Default Scale</div>';if(p+='<div class="vpScaleOption" val="1"><div class="scaleRadioButton"><div class="selectedRadioButtonFill"></div></div>Scale to Width</div>',p+='<div class="vpScaleOption" val="2"><div class="scaleRadioButton"><div class="selectedRadioButtonFill"></div></div>Scale to Fit</div>',$(p).appendTo(d),$("#overflowMenuContainer").append('<div id="showHotspotsOption" class="showOption" style="order: 1"><div class="overflowOptionCheckbox"></div>Show Hotspots</div>'),$("#overflowMenuContainer").append(d),d.show(),$("#showHotspotsOption").click(r),$(".vpScaleOption").click(c),$(".vpScaleOption").mouseup(function(e){e.stopPropagation()}),MOBILE_DEVICE){p='<div class="projectOptionsScaleRow" val="1"><div class="scaleRadioButton"><div class="selectedRadioButtonFill"></div></div>Scale to fit width</div>';p+='<div class="projectOptionsScaleRow" val="0"><div class="scaleRadioButton"><div class="selectedRadioButtonFill"></div></div>Original size (100%)</div>',p+='<div class="projectOptionsScaleRow" val="2" style="border-bottom: solid 1px #c7c7c7"><div class="scaleRadioButton"><div class="selectedRadioButtonFill"></div></div>Fit all to screen</div>',$(p).appendTo($("#projectOptionsScaleContainer")),$(".projectOptionsScaleRow").click(c)}$("#searchBox").focusin(function(){$(this).is(".searchBoxHint")&&($(this).val(""),$(this).removeClass("searchBoxHint"))}).focusout(function(){""==$(this).val()&&$(this).addClass("searchBoxHint")}),$("#searchBox").focusout()});var t=function(e){return 0==e?"any":e.toString().includes(".")?e.toFixed(2):e};function i(e){var a=e?$("#projectOptionsAdaptiveViewsContainer"):$("#interfaceAdaptiveViewsListContainer"),i=e?$("#projectOptionsViewSelect"):$("#viewSelect"),s=e?"projectOptionsAdaptiveViewRow":"adaptiveViewOption",o=e?"":"currentAdaptiveView";a.empty(),i.empty();var n='<div class="'+s+'" val="auto"><div class="adapViewRadioButton selectedRadioButton"><div class="selectedRadioButtonFill"></div></div>Adaptive</div>',l='<option value="auto">Adaptive</option>';if(void 0!==$axure.page.defaultAdaptiveView.name){var r=$axure.page.defaultAdaptiveView,p=r.name+" ("+(h=t(r.size.width))+" x "+(g=t(r.size.height))+")";n+='<div class="'+s+" "+o+'" val="default"data-dim="'+r.size.width+"x"+r.size.height+'"><div class="adapViewRadioButton"><div class="selectedRadioButtonFill"></div></div>'+p+"</div>",l+='<option value="default">'+p+"</option>"}var c=!1;if($axure.document.configuration.useViews)for(var v=0;v<$axure.page.adaptiveViews.length;v++){var u=$axure.page.adaptiveViews[v],h=t(u.size.width),g=t(u.size.height);p=u.name+" ("+h+" x "+g+")";n+='<div class="'+s+(e&&v==$axure.page.adaptiveViews.length-1?'" style="border-bottom: solid 1px #c7c7c7; margin-bottom: 15px;':"")+'" val="'+u.id+'"  data-dim="'+u.size.width+"x"+u.size.height+'"><div class="adapViewRadioButton"><div class="selectedRadioButtonFill"></div></div>'+p+"</div>",l+='<option value="'+u.id+'">'+p+"</option>",c=!0}a.append(n),i.append(l),c?e?($("#projectOptionsAdaptiveViewsHeader").show(),$("#projectOptionsAdaptiveViewsContainer").show()):$("#interfaceAdaptiveViewsContainer").show():e?($("#projectOptionsAdaptiveViewsHeader").hide(),$("#projectOptionsAdaptiveViewsContainer").hide()):$("#interfaceAdaptiveViewsContainer").hide(),$("."+s).click(d),e||$("."+s).mouseup(function(e){e.stopPropagation()})}function s(e){$(this).children(".sitemapPlus").length>0?$(this).children(".sitemapPlus").removeClass("sitemapPlus").addClass("sitemapMinus").end().closest("li").children("ul").show(0):$(this).children(".sitemapMinus").removeClass("sitemapMinus").addClass("sitemapPlus").end().closest("li").children("ul").hide(0),e.stopPropagation()}function o(e){$("#searchIcon").hasClass("sitemapToolbarButtonSelected")||($("#searchIcon").addClass("sitemapToolbarButtonSelected"),$("#searchBox").width(0),$("#searchBox").show(),$("#searchBox").animate({width:"95%"},{duration:200,complete:function(){$("#searchBox").focus()}}))}function n(e){$("#searchIcon").hasClass("sitemapToolbarButtonSelected")&&($("#searchBox").animate({width:"0%"},{duration:200,complete:function(){$("#searchBox").hide(),$("#searchIcon").removeClass("sitemapToolbarButtonSelected")}}),$("#searchBox").val(""),$("#searchBox").keyup())}function l(e){$("#mainPanel").css("opacity","0"),$("#clippingBounds").css("opacity","0"),$("#sitemapTreeContainer").find(".sitemapHighlight").removeClass("sitemapHighlight"),$(this).parent().addClass("sitemapHighlight"),$axure.page.navigate($(this).children(".sitemapPageLink")[0].getAttribute("nodeUrl"),!0)}function r(a){var t=$("#showHotspotsOption").find(".overflowOptionCheckbox"),i=$("#projectOptionsHotspotsCheckbox");$(t).hasClass("selected")?(t.removeClass("selected"),i.length>0&&i.removeClass("selected"),$axure.messageCenter.postMessage("highlightInteractive",!1),$axure.player.deleteVarFromCurrentUrlHash(e)):(t.addClass("selected"),i.length>0&&i.addClass("selected"),$axure.messageCenter.postMessage("highlightInteractive",!0),$axure.player.setVarInCurrentUrlHash(e,1))}function d(e){var a=$(this).attr("val");$(".adaptiveViewOption").removeClass("currentAdaptiveView"),a?$('.adaptiveViewOption[val="'+a+'"]').addClass("currentAdaptiveView"):$('.adaptiveViewOption[val="default"]').addClass("currentAdaptiveView"),$(".adapViewRadioButton").find(".selectedRadioButtonFill").hide(),$(".adapViewRadioButton").removeClass("selectedRadioButton"),$('div[val="'+a+'"]').find(".adapViewRadioButton").addClass("selectedRadioButton"),$('div[val="'+a+'"]').find(".selectedRadioButtonFill").show(),p(a),$axure.player.closePopup(),updateAdaptiveViewHeader()}$axure.messageCenter.addMessageListener(function(e,a){"adaptiveViewChange"==e?($(".adaptiveViewOption").removeClass("currentAdaptiveView"),a.viewId?$('.adaptiveViewOption[val="'+a.viewId+'"]').addClass("currentAdaptiveView"):$('.adaptiveViewOption[val="default"]').addClass("currentAdaptiveView"),a.forceSwitchTo&&($(".adapViewRadioButton").find(".selectedRadioButtonFill").hide(),$(".adapViewRadioButton").removeClass("selectedRadioButton"),$('div[val="'+a.forceSwitchTo+'"]').find(".adapViewRadioButton").addClass("selectedRadioButton"),$('div[val="'+a.forceSwitchTo+'"]').find(".selectedRadioButtonFill").show()),updateAdaptiveViewHeader(),$axure.player.refreshViewPort()):"previousPage"==e?openPreviousPage():"nextPage"==e&&openNextPage()}),$axure.player.toggleHotspots=function(e){var a=$("#showHotspotsOption").find(".overflowOptionCheckbox");$(a).hasClass("selected")?e||$("#showHotspotsOption").click():e&&$("#showHotspotsOption").click()};var p=$axure.player.selectAdaptiveView=function(e){if("auto"==e)$axure.messageCenter.postMessage("setAdaptiveViewForSize",{width:$("#mainPanel").width(),height:$("#mainPanel").height()}),$axure.player.deleteVarFromCurrentUrlHash(ADAPTIVE_VIEW_VAR_NAME);else{a=$axure.page.location.split("#")[0];var t=decodeURI(a),i={src:t.substr(t.lastIndexOf("/")?t.lastIndexOf("/")+1:0)};i.view=e,$axure.messageCenter.postMessage("switchAdaptiveView",i),$axure.player.setVarInCurrentUrlHash(ADAPTIVE_VIEW_VAR_NAME,e)}};function c(e){var a=$(this).find(".scaleRadioButton"),t=$(this).attr("val");if(a.hasClass("selectedRadioButton"))return!1;var i=$('.vpScaleOption[val="'+t+'"], .projectOptionsScaleRow[val="'+t+'"]'),s=$(".vpScaleOption, .projectOptionsScaleRow");s.find(".scaleRadioButton").removeClass("selectedRadioButton"),s.find(".selectedRadioButtonFill").hide(),i.find(".scaleRadioButton").addClass("selectedRadioButton"),i.find(".selectedRadioButtonFill").show(),"0"==t?$axure.player.deleteVarFromCurrentUrlHash(SCALE_VAR_NAME):void 0!==t&&$axure.player.setVarInCurrentUrlHash(SCALE_VAR_NAME,t),$axure.player.refreshViewPort()}function v(e){var a=$(this).val().toLowerCase();""==a?($(".sitemapPageName").removeClass("sitemapGreyedName"),$(".sitemapNode").show()):($(".sitemapNode").hide(),$(".sitemapPageName").addClass("sitemapGreyedName").each(function(){-1!=$(this).text().toLowerCase().indexOf(a)&&$(this).removeClass("sitemapGreyedName").parents(".sitemapNode:first").show().parents(".sitemapExpandableNode").show()}))}function u(e,a){var t,i=e.children&&e.children.length>0;t=i?"<li class='sitemapNode sitemapExpandableNode'><div><div class='sitemapPageLinkContainer' style='margin-left:"+(9+17*a)+"px'><a class='sitemapPlusMinusLink'><span class='sitemapMinus'></span></a>":"<li class='sitemapNode sitemapLeafNode'><div><div class='sitemapPageLinkContainer' style='margin-left:"+(19+17*a)+"px'>";var s="Folder"==e.type;if(s||(t+="<a class='sitemapPageLink' nodeUrl='"+e.url+"'>",allNodeUrls.push(e.url)),t+="<span class='sitemapPageIcon","Flow"==e.type&&(t+=" sitemapFlowIcon"),s&&(t+=" sitemapFolderIcon"),t+="'></span><span class='sitemapPageName'>",t+=$("<div/>").text(e.pageName).html(),t+="</span>",s||(t+="</a>"),t+="</div></div>",i){t+="<ul>";for(var o=0;o<e.children.length;o++){t+=u(e.children[o],a+1)}t+="</ul>"}return t+="</li>"}$axure.player.updateAdaptiveViewHeader=updateAdaptiveViewHeader=function(){var e=!0,a=$(".adaptiveViewOption.currentAdaptiveView").text();if(null!=a&&a.indexOf("(any x any)")>=0&&(e=!1),!e){var t=a.substring(0,a.lastIndexOf(" ("));a=t+" ("+$("#mainPanelContainer").width()+" x any)"}$(".adaptiveViewHeader").html(a)},$axure.player.selectScaleOption=function(e){var a=$('.vpScaleOption[val="'+e+'"]');a.length>0&&a.click()}}();