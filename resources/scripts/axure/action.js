$axure.internal(function($ax){var _actionHandlers={},_action=$ax.action={},queueTypes=_action.queueTypes={none:0,move:1,setState:2,fade:3,resize:4,rotate:5},animationQueue={},nextAnimationId=1,animationsToCount={},actionToActionGroups={},getAnimation=function(e,t){return animationQueue[e]&&animationQueue[e][t]&&animationQueue[e][t][0]},_addAnimation=_action.addAnimation=function(e,t,a,o){var n=!getAnimation(e,t),r=animationQueue[e];r||(animationQueue[e]=r={});var i=r[t];i||(r[t]=i=[]),i[i.length]=a,n&&!o&&a()},_addAnimations=function(e){if(1!=e.length){for(var t=!0,a=0,o=0;o<e.length;o++){var n=e[o],r=!getAnimation(n.id,n.type);if(t=t&&r,r)a++;else{var i=actionToActionGroups[n.id];i||(actionToActionGroups[n.id]=i={});var s=i[n.type];s||(i[n.type]=s=[]),s[s.length]=e}}for(o=0;o<e.length;o++)n=e[o],_addAnimation(n.id,n.type,n.func,!0);if(t)for(o=0;o<e.length;o++)e[o].func();else e.id=nextAnimationId++,animationsToCount[e.id]=a}else _addAnimation(e[0].id,e[0].type,e[0].func)},_fireAnimationFromQueue=_action.fireAnimationFromQueue=function(e,t){animationQueue[e]&&animationQueue[e][t]&&$ax.splice(animationQueue[e][t],0,1);var a=getAnimation(e,t);a&&!_checkFireActionGroup(e,t,a)&&a()},_checkFireActionGroup=function(e,t,a){var o=actionToActionGroups[e];if(!(o=o&&o[t])||0==o.length)return!1;for(var n=o[0],r=!1,i=0;i<n.length;i++){var s=n[i];if(s.id==e&&s.type==t){r=a==s.func;break}}if(!r)return!1;$ax.splice(o,0,1);var u=animationsToCount[n.id]+1;if(u!=n.length)return animationsToCount[n.id]=u,!0;delete animationsToCount[n.id];var d=[];for(i=0;i<n.length;i++)s=n[i],d.push(getAnimation(s.id,s.type));for(i=0;i<d.length;i++)d[i]();return!0},_refreshing=[];_action.refreshStart=function(e){_refreshing.push(e)},_action.refreshEnd=function(){_refreshing.pop()};var _repeatersToRefresh=_action.repeatersToRefresh=[],_ignoreAction=function(e){for(var t=0;t<_refreshing.length;t++)if(_refreshing[t]==e)return!0;return!1},_addRefresh=function(e){-1==_repeatersToRefresh.indexOf(e)&&_repeatersToRefresh.push(e)},_getIdToResizeMoveState=function(e){return e.idToResizeMoveState||(e.idToResizeMoveState={}),e.idToResizeMoveState},_queueResizeMove=function(e,t,a,o){t!=queueTypes.resize&&t!=queueTypes.rotate||$ax.public.fn.convertToSingleImage($jobj(e));var n=_getIdToResizeMoveState(a);n[e]||(n[e]={},n[e][queueTypes.move]={queue:[],used:0},n[e][queueTypes.resize]={queue:[],used:0},n[e][queueTypes.rotate]={queue:[],used:0});var r=n[e],i=t==queueTypes.resize?o:o.options;if(r[t].queue.length||i.easing&&"none"!=i.easing&&i.duration){var s=t==queueTypes.move?queueTypes.resize:queueTypes.move,u=t==queueTypes.rotate?queueTypes.resize:queueTypes.rotate;if(r[s].queue.length&&r[u].queue.length){for(var d=i.duration,l=r[s].used,p=r[u].used;r[s].queue.length&&r[u].queue.length&&0!=d;){var f=r[s].queue[0],c=s==queueTypes.resize?f.actionInfo:f.actionInfo.options;if(c.easing&&"none"!=c.easing&&c.duration){var v=r[u].queue[0],m=u==queueTypes.resize?v.actionInfo:v.actionInfo.options;if(m.easing&&"none"!=m.easing&&m.duration){var x=c.duration-l,g=m.duration-p,h=t==queueTypes.resize?o:s==queueTypes.resize?f.actionInfo:v.actionInfo,y=t==queueTypes.rotate?o:s==queueTypes.rotate?f.actionInfo:v.actionInfo,$=t==queueTypes.move?o:s==queueTypes.move?f.actionInfo:v.actionInfo,T={easing:$.options.easing,duration:Math.min(d,x,g)},_={start:i.duration-d,len:i.duration};_.end=_.start+T.duration;var I={start:l,end:T.duration+l,len:c.duration},b={start:p,end:T.duration+p,len:m.duration};T.stop=t==queueTypes.resize?_:s==queueTypes.resize?I:b,T.moveStop=t==queueTypes.move?_:s==queueTypes.move?I:b,T.rotateStop=t==queueTypes.rotate?_:s==queueTypes.rotate?I:b,_addResize(e,a,h,T,$,y),d-=T.duration,x==T.duration?($ax.splice(r[s].queue,0,1),l=0):l+=T.duration,g==T.duration?($ax.splice(r[u].queue,0,1),p=0):p+=T.duration}else(S=u==queueTypes.resize?_addResize:u==queueTypes.rotate?_addRotate:_addMove)(e,a,o,{easing:"none",duration:0,stop:{instant:!0}})}else(S=s==queueTypes.resize?_addResize:s==queueTypes.rotate?_addRotate:_addMove)(e,a,o,{easing:"none",duration:0,stop:{instant:!0}})}d&&(r[t].queue.push({eventInfo:a,actionInfo:o}),r[t].used=i.duration-d),r[s].used=l,r[u].used=p}else r[t].queue.push({eventInfo:a,actionInfo:o})}else{var S=t==queueTypes.resize?_addResize:t==queueTypes.rotate?_addRotate:_addMove;S(e,a,o,{easing:"none",duration:0,stop:{instant:!0}})}};_action.flushAllResizeMoveActions=function(e){var t=_getIdToResizeMoveState(e);for(var a in t)_flushResizeMoveActions(a,t)};var _flushResizeMoveActions=function(e,t){for(var a=t[e],o=a[queueTypes.move],n=o.queue[0],r=a[queueTypes.resize],i=r.queue[0],s=a[queueTypes.rotate],u=s.queue[0];n||i||u;){var d=n?n.eventInfo:i?i.eventInfo:u.eventInfo;if(n=n&&n.actionInfo,i=i&&i.actionInfo,u=u&&u.actionInfo,i){if(!i.duration||"none"==i.easing){_addResize(e,r.queue[0].eventInfo,i,{easing:"none",duration:0,stop:{instant:!0}}),_updateResizeMoveUsed(e,queueTypes.resize,0,t),i=r.queue[0];continue}var l=i.duration-r.used;n&&(l=Math.min(l,n.options.duration-o.used)),u&&(l=Math.min(l,u.options.duration-s.used));var p=n?n.options:i,f={easing:p.easing,duration:l};f.stop={start:r.used,end:r.used+l,len:i.duration},n&&(f.moveStop={start:o.used,end:o.used+l,len:n.options.duration}),u&&(f.rotateStop={start:s.used,end:s.used+l,len:u.options.duration}),_addResize(e,d,i,f,n,u),_updateResizeMoveUsed(e,queueTypes.resize,l,t),i=r.queue[0],u&&(_updateResizeMoveUsed(e,queueTypes.rotate,l,t),u=s.queue[0]),n&&(_updateResizeMoveUsed(e,queueTypes.move,l,t),n=o.queue[0])}else if(u){if(!u.options.duration||"none"==u.options.easing){_addRotate(e,s.queue[0].eventInfo,u,{easing:"none",duration:0,stop:{instant:!0}}),_updateResizeMoveUsed(e,queueTypes.rotate,0,t),u=s.queue[0];continue}l=u.options.duration-s.used,n&&(l=Math.min(l,n.options.duration-o.used)),(f={easing:(p=n?n.options:u.options).easing,duration:l}).stop={start:s.used,end:s.used+l,len:u.options.duration},n&&(f.moveStop={start:o.used,end:o.used+l,len:n.options.duration}),_addRotate(e,d,u,f,n),_updateResizeMoveUsed(e,queueTypes.rotate,l,t),u=s.queue[0],n&&(_updateResizeMoveUsed(e,queueTypes.move,l,t),n=o.queue[0])}else{if(!n.options.duration||"none"==n.options.easing){_addMove(e,d,n,{easing:"none",duration:0,stop:{instant:!0}}),_updateResizeMoveUsed(e,queueTypes.move,0,t),n=o.queue[0];continue}l=n.options.duration-o.used,(f={easing:n.options.easing,duration:l}).stop={start:o.used,end:n.options.duration,len:n.options.duration},_addMove(e,d,n,f),_updateResizeMoveUsed(e,queueTypes.move,l,t),n=o.queue[0]}}},_updateResizeMoveUsed=function(e,t,a,o){var n=o[e][t];n.used+=a;var r=n.queue[0].actionInfo;r.options&&(r=r.options),(r.easing&&"none"!=r.easing&&r.duration||0)<=n.used&&($ax.splice(n.queue,0,1),n.used=0)},_dispatchAction=$ax.action.dispatchAction=function(e,t,a){(a=a||0)>=t.length||_actionHandlers[t[a].action](e,t,a)};_actionHandlers.wait=function(e,t,a){var o=t[a],n=$ax.eventCopy(e);window.setTimeout(function(){n.now=new Date,n.idToResizeMoveState=void 0,_dispatchAction(n,t,a+1),_action.flushAllResizeMoveActions(n)},o.waitTime)},_actionHandlers.expr=function(e,t,a){var o=t[a];$ax.expr.evaluateExpr(o.expr,e),_dispatchAction(e,t,a+1)},_actionHandlers.setFunction=_actionHandlers.expr,_actionHandlers.linkWindow=function(e,t,a){linkActionHelper(e,t,a)},_actionHandlers.closeCurrent=function(e,t,a){$ax.closeWindow(),_dispatchAction(e,t,a+1)},_actionHandlers.linkFrame=function(e,t,a){linkActionHelper(e,t,a)},_actionHandlers.setAdaptiveView=function(e,t,a){var o=t[a].setAdaptiveViewTo;o&&$ax.adaptive.setAdaptiveView(o)};var linkActionHelper=function(e,t,a){var o=t[a];if(e.link=!0,"frame"!=o.linkType){var n=_includeVars(o.target,e);"reloadPage"==o.target.targetType?$ax.reload(o.target.includeVariables):"backUrl"==o.target.targetType&&$ax.back();var r=o.target.url;if(!r&&o.target.urlLiteral&&(r=$ax.expr.evaluateExpr(o.target.urlLiteral,e,!0)),r){let e=shouldUseStartHtml(o);e&&(r=urlWithStartHtml(r),"popup"==o.linkType&&(r=urlWithCollapseSitemap(r))),"popup"==o.linkType?$ax.navigate({url:r,target:o.linkType,includeVariables:n,popupOptions:o.popup,useGlobalVarNameInUrl:e}):$ax.navigate({url:r,target:o.linkType,includeVariables:n,useGlobalVarNameInUrl:e})}}else linkFrame(e,o);e.link=!1,_dispatchAction(e,t,a+1)},shouldUseStartHtml=function(e){return"page"==e.target.targetType&&("popup"==e.linkType||"new"==e.linkType)&&$axure.utils.isInPlayer()&&!$axure.utils.isShareApp()},urlWithStartHtml=function(e){var t=e.substring(0,e.lastIndexOf(".html")),a=$axure.utils.setHashStringVar(START_URL_NAME,PAGE_URL_NAME,t);return START_URL_NAME+a},urlWithCollapseSitemap=function(e){return e+"&"+SITEMAP_COLLAPSE_VAR_NAME+"="+SITEMAP_COLLAPSE_VALUE},_includeVars=function(e,t){if(e.includeVariables)return!0;if(e.urlLiteral){var a=e.urlLiteral,o=a.stos[0];if("stringLiteral"==a.exprType&&0==a.value.indexOf("[[")&&a.value.indexOf("]]"==a.value.length-2)&&1==a.stos.length&&"item"==o.sto&&t.item){var n=$ax.repeater.getData(t,t.item.repeater.elementId,t.item.index,o.name,"data");if(n&&$ax.public.fn.IsPage(n.type))return!0}}return!1},linkFrame=function(e,t){for(var a=0;a<t.framesToTargets.length;a++){var o=t.framesToTargets[a].framePath,n=t.framesToTargets[a].target,r=_includeVars(n,e),i=n.url;!i&&n.urlLiteral&&(i=$ax.expr.evaluateExpr(n.urlLiteral,e,!0));var s=$ax.getElementIdsFromPath(o,e)[0];s&&$ax("#"+$ax.INPUT(s)).openLink(i,r)}},_repeatPanelMap={};_actionHandlers.setPanelState=function(e,t,a){for(var o=t[a],n=0;n<o.panelsToStates.length;n++)for(var r=o.panelsToStates[n],i=r.stateInfo,s=$ax.getElementIdsFromPath(r.panelPath,e),u=0;u<s.length;u++){(function(t,a){_addAnimation(t,queueTypes.setState,function(){var o=a.stateNumber;if("value"==a.setStateType){var n=e.targetElement;e.targetElement=t;var r=$ax.expr.evaluateExpr(a.stateValue,e);e.targetElement=n;for(var i=$ax.getObjectFromElementId(t).diagrams,s=!1,u=0;u<i.length;u++)i[u].label==r&&(o=u+1,s=!0);if(!s){o=Number(r);var d=$("#"+t).children().length;if(isNaN(o)||o<=0||o>d||Math.round(o)!=o)return _fireAnimationFromQueue(t,queueTypes.setState)}}else if("next"==a.setStateType||"previous"==a.setStateType){var l=$ax.deepCopy(a);return"number"==typeof l.repeat&&(_repeatPanelMap[t]=l),_progessPanelState(t,l,l.repeatSkipFirst)}if(delete _repeatPanelMap[t],"current"==a.setStateType)return _fireAnimationFromQueue(t,queueTypes.setState);$ax("#"+t).SetPanelState(o,a.options,a.showWhenSet)})})(s[u],i)}_dispatchAction(e,t,a+1)};var _progessPanelState=function(e,t,a){var o=t.setStateType,n=t.loop,r=t.repeat,i=t.options,s="number"==typeof r,u=$ax.visibility.GetPanelState(e),d="";if(""!=u){u=$ax.repeater.getScriptIdFromElementId(u);var l=Number(u.substr(u.indexOf("state")+5));if("next"==o){if((d=l+2)>$ax.visibility.GetPanelStateCount(e)){if(!n)return delete _repeatPanelMap[e],_fireAnimationFromQueue(e,queueTypes.setState);d=1}}else if("previous"==o&&(d=l)<=0){if(!n)return delete _repeatPanelMap[e],_fireAnimationFromQueue(e,queueTypes.setState);d=$ax.visibility.GetPanelStateCount(e)}if(s&&_repeatPanelMap[e]!=t)return _fireAnimationFromQueue(e,queueTypes.setState);if(a?_fireAnimationFromQueue(e,queueTypes.setState):$ax("#"+e).SetPanelState(d,i,t.showWhenSet),s){var p=i&&i.animateIn;p&&p.easing&&"none"!=p.easing&&p.duration>r&&(r=p.duration),(p=i&&i.animateOut)&&p.easing&&"none"!=p.easing&&p.duration>r&&(r=p.duration),window.setTimeout(function(){_repeatPanelMap[e]==t&&_addAnimation(e,queueTypes.setState,function(){_progessPanelState(e,t,!1)})},r)}else delete _repeatPanelMap[e]}};_actionHandlers.fadeWidget=function(e,t,a){for(var o=t[a],n=0;n<o.objectsToFades.length;n++)for(var r=o.objectsToFades[n].fadeInfo,i=$ax.getElementIdsFromPath(o.objectsToFades[n].objectPath,e),s=0;s<i.length;s++){(function(t,a){_addAnimation(t,queueTypes.fade,function(){"hide"==a.fadeType?$ax("#"+t).hide(a.options):"show"==a.fadeType?$ax("#"+t).show(a.options,e):"toggle"==a.fadeType&&$ax("#"+t).toggleVisibility(a.options)})})(i[s],r)}_dispatchAction(e,t,a+1)},_actionHandlers.setOpacity=function(e,t,a){for(var o=t[a],n=0;n<o.objectsToSetOpacity.length;n++)for(var r=o.objectsToSetOpacity[n].opacityInfo,i=$ax.getElementIdsFromPath(o.objectsToSetOpacity[n].objectPath,e),s=0;s<i.length;s++){(function(t,a){_addAnimation(t,queueTypes.fade,function(){var o=e.targetElement;e.targetElement=t;var n=$ax.expr.evaluateExpr(a.opacity,e);e.targetElement=o,n=Math.min(100,Math.max(0,n)),$ax("#"+t).setOpacity(n/100,a.easing,a.duration)})})(i[s],r)}_dispatchAction(e,t,a+1)},_actionHandlers.moveWidget=function(e,t,a){for(var o=t[a],n=0;n<o.objectsToMoves.length;n++)for(var r=o.objectsToMoves[n].moveInfo,i=$ax.getElementIdsFromPath(o.objectsToMoves[n].objectPath,e),s=0;s<i.length;s++){var u=i[s];_queueResizeMove(u,queueTypes.move,e,r)}_dispatchAction(e,t,a+1)};var _addMove=function(e,t,a,o){var n=$ax.eventCopy(t),r=_getIdToResizeMoveState(n);n.targetElement=e;var i=$ax.deepCopy(a.options);if(i.easing=o.easing,i.duration=o.duration,i.dragInfo=t.dragInfo,$ax.public.fn.IsLayer($obj(e).type)){if(0==$ax.public.fn.getLayerChildrenDeep(e,!0).length)return;var s=[];s.push({id:e,type:queueTypes.move,func:function(){var t=$ax("#"+e).offsetBoundingRect(),s=_getMoveLoc(e,a,n,o.stop,r[e],i,t);$ax.visibility.pushContainer(e,!1),i.onComplete=function(){_fireAnimationFromQueue(e,queueTypes.move),$ax.visibility.popContainer(e,!1)},$ax("#"+e).moveBy(s.x,s.y,i)}}),_addAnimations(s)}else _addAnimation(e,queueTypes.move,function(){var t=_getMoveLoc(e,a,n,o.stop,r[e],i);t.moveTo?$ax("#"+e).moveTo(t.x,t.y,i):$ax("#"+e).moveBy(t.x,t.y,i)})},_moveSingleWidget=function(e,t,a,o){if(!t.x&&!t.y)return $ax.action.fireAnimationFromQueue(e,$ax.action.queueTypes.move),void(o&&o());var n=$ax.dynamicPanelManager.getFixedInfo(e),r="left",i="+=";n&&("right"==n.horizontal?(r="right",i="-="):"center"==n.horizontal&&(r="margin-left"));var s="top",u="+=";n&&("bottom"==n.vertical?(s="bottom",u="-="):"middle"==n.vertical&&(s="margin-top"));var d={};d[r]=i+t.x,d[s]=u+t.y,$ax.visibility.moveMovedLocation(e,t.x,t.y);var l=$ax.move.PrepareForMove(e,t.x,t.y,!1,a);$jobjAll(e).animate(d,{duration:a.duration,easing:a.easing,queue:!1,complete:function(){o&&o(),l.rootLayer&&$ax.visibility.popContainer(l.rootLayer,!1),$ax.dynamicPanelManager.fitParentPanel(e),$ax.action.fireAnimationFromQueue(e,$ax.action.queueTypes.move)}})},_getMoveLoc=function(e,t,a,o,n,r,i){var s,u,d=!1,l=!1,p=0,f=0,c=n.moveResult,v=a.dragInfo,m=$jobj(e);switch(t.moveType){case"location":var x=o.instant?1:(o.end-o.start)/(o.len-o.start);if(c?(p=c.x,f=c.y):(n.moveResult=c={x:$ax.expr.evaluateExpr(t.xValue,a),y:$ax.expr.evaluateExpr(t.yValue,a)},p=c.x,f=c.y),(o.instant||o.end==o.len)&&(n.moveResult=void 0),i)s=i.left,u=i.top;else{var g=$ax("#"+e).offsetLocation();s=g.left,u=g.top,"fixed"==m.css("position")&&(s-=$(window).scrollLeft(),u-=$(window).scrollTop())}p=""==p?0:(p-s)*x,f=""==f?0:(f-u)*x;break;case"delta":var h=o.instant?1:(o.end-o.start)/o.len;c?(p=c.x*h,f=c.y*h):(n.moveResult=c={x:$ax.expr.evaluateExpr(t.xValue,a),y:$ax.expr.evaluateExpr(t.yValue,a)},p=c.x*h,f=c.y*h),(o.instant||o.end==o.len)&&(n.moveResult=void 0);break;case"drag":p=v.xDelta,f=v.yDelta;break;case"dragX":p=v.xDelta,f=0;break;case"dragY":p=0,f=v.yDelta;break;case"locationBeforeDrag":var y=v.movedWidgets[a.targetElement];if(!y)return _fireAnimationFromQueue(a.srcElement,queueTypes.move),{x:0,y:0};var T=$ax("#"+a.targetElement).viewportLocation();p=y.x-T.left,f=y.y-T.top;break;case"withThis":l=!0;var _=$ax.move.GetWidgetMoveInfo()[$ax.getElementIdsFromEventAndScriptId(a,a.srcElement)[0]];r.easing=_.options.easing,r.duration=_.options.duration,p=_.x,f=_.y}if(r&&r.boundaryExpr&&(l&&(p||f)&&_updateLeftExprVariable(r.boundaryExpr,p.toString(),f.toString()),!$ax.expr.evaluateExpr(r.boundaryExpr,a))){var I=r.boundaryStos;if(I){if(l){var b=I.boundaryScope;if(b)for(var S in b){var E=b[S];E.localVariables&&(E.localVariables.withx&&(E.localVariables.withx.value=p.toString()),E.localVariables.withy&&(E.localVariables.withy.value=f.toString()))}}if(i?(s=i.left,u=i.top):(s=(g=$ax("#"+e).offsetLocation()).left,u=g.top,"fixed"==m.css("position")&&(s-=$(window).scrollLeft(),u-=$(window).scrollTop())),I.ySto){var R=i?i.top:u,A=$ax.evaluateSTO(I.ySto,I.boundaryScope,a);f=A-R}if(I.xSto){var P=i?i.left:s,q=$ax.evaluateSTO(I.xSto,I.boundaryScope,a);p=q-P}}}return{x:Number(p),y:Number(f),moveTo:d}},_updateLeftExprVariable=function(e,t,a){if(e.leftExpr&&!e.leftExpr.op){var o=e.leftExpr.localVariables;o&&(o.withx&&(o.withx.value=t),o.withy&&(o.withy.value=a))}e.op&&(e.leftExpr&&_updateLeftExprVariable(e.leftExpr,t,a),e.rightExpr&&_updateLeftExprVariable(e.rightExpr,t,a))},widgetRotationFilter=[$ax.constants.IMAGE_BOX_TYPE,$ax.constants.IMAGE_MAP_REGION_TYPE,$ax.constants.DYNAMIC_PANEL_TYPE,$ax.constants.VECTOR_SHAPE_TYPE,$ax.constants.VERTICAL_LINE_TYPE,$ax.constants.HORIZONTAL_LINE_TYPE];_actionHandlers.rotateWidget=function(e,t,a){for(var o=t[a],n=0;n<o.objectsToRotate.length;n++)for(var r=o.objectsToRotate[n].rotateInfo,i=$ax.getElementIdsFromPath(o.objectsToRotate[n].objectPath,e),s=0;s<i.length;s++){var u=i[s];_queueResizeMove(u,queueTypes.rotate,e,r)}_dispatchAction(e,t,a+1)};var _addRotate=function(elementId,eventInfo,rotateInfo,options,moveInfo){var idToResizeMoveState=_getIdToResizeMoveState(eventInfo);rotateInfo=$ax.deepCopy(rotateInfo),rotateInfo.options.easing=options.easing,rotateInfo.options.duration=options.duration;var eventInfoCopy=$ax.eventCopy(eventInfo),rotateDegree;eventInfoCopy.targetElement=elementId;var offset={},eval=function(e){rotateDegree=parseFloat($ax.expr.evaluateExpr(rotateInfo.degree,eventInfoCopy)),offset.x=Number($ax.expr.evaluateExpr(rotateInfo.offsetX,eventInfoCopy)),offset.y=Number($ax.expr.evaluateExpr(rotateInfo.offsetY,eventInfoCopy)),rotateInfo.options.clockwise||(rotateDegree=-rotateDegree),_updateOffset(offset,rotateInfo.anchor,e)};if(moveInfo)var moveOptions={dragInfo:eventInfoCopy.dragInfo,duration:options.duration,easing:options.easing,boundaryExpr:moveInfo.options.boundaryExpr,boundaryStos:moveInfo.options.boundaryStos};var obj=$obj(elementId);if($ax.public.fn.IsLayer(obj.type)){var childrenIds=$ax.public.fn.getLayerChildrenDeep(elementId,!0,!0);if(0==childrenIds.length)return;var animations=[],centerPoint,degreeDelta,moveDelta;animations.push({id:elementId,type:queueTypes.rotate,func:function(){var boundingRect=$ax("#"+elementId).offsetBoundingRect();eval(boundingRect),centerPoint=boundingRect.centerPoint,centerPoint.x+=offset.x,centerPoint.y+=offset.y,degreeDelta=_initRotateLayer(elementId,rotateInfo,rotateDegree,options,options.stop),_fireAnimationFromQueue(elementId,queueTypes.rotate),moveDelta={x:0,y:0},moveInfo&&(moveDelta=_getMoveLoc(elementId,moveInfo,eventInfoCopy,options.moveStop,idToResizeMoveState[elementId],moveOptions,boundingRect),moveDelta.moveTo&&(moveDelta.x-=$ax.getNumFromPx($jobj(elementId).css("left")),moveDelta.y-=$ax.getNumFromPx($jobj(elementId).css("top"))),$ax.event.raiseSyntheticEvent(elementId,"onMove"))}});for(var idIndex=0;idIndex<childrenIds.length;idIndex++){var childId=childrenIds[idIndex];(function(e){var t=$obj(e),a=-1!=$.inArray(t.type,widgetRotationFilter),o=$ax.public.fn.IsLayer(t.type);animations.push({id:e,type:queueTypes.rotate,func:function(){$ax.event.raiseSyntheticEvent(e,"onRotate"),o?_fireAnimationFromQueue(e,queueTypes.rotate):$ax("#"+e).circularMoveAndRotate(degreeDelta,options,centerPoint.x,centerPoint.y,a,moveDelta)}}),o||animations.push({id:e,type:queueTypes.move,func:function(){}})})(childId)}_addAnimations(animations)}else animations=[],animations.push({id:elementId,type:queueTypes.rotate,func:function(){var jobj=$jobj(elementId),unrotatedDim={width:$ax.getNumFromPx(jobj.css("width")),height:$ax.getNumFromPx(jobj.css("height"))};eval(unrotatedDim);var delta={x:0,y:0};moveInfo&&(delta=_getMoveLoc(elementId,moveInfo,eventInfoCopy,options.moveStop,idToResizeMoveState[elementId],moveOptions),delta.moveTo&&(delta.x-=$ax.getNumFromPx($jobj(elementId).css("left")),delta.y-=$ax.getNumFromPx($jobj(elementId).css("top")))),$ax.event.raiseSyntheticEvent(elementId,"onRotate"),0==offset.x&&0==offset.y?_rotateSingle(elementId,rotateDegree,"location"==rotateInfo.rotateType,delta,options,options.stop,!0):_rotateSingleOffset(elementId,rotateDegree,"location"==rotateInfo.rotateType,delta,{x:offset.x,y:offset.y},options,options.stop),moveInfo&&$ax.event.raiseSyntheticEvent(elementId,"onMove")}}),animations.push({id:elementId,type:queueTypes.move,func:function(){}}),_addAnimations(animations)},_updateOffset=function(e,t,a){-1!=t.indexOf("left")&&(e.x-=a.width/2),-1!=t.indexOf("right")&&(e.x+=a.width/2),-1!=t.indexOf("top")&&(e.y-=a.height/2),-1!=t.indexOf("bottom")&&(e.y+=a.height/2)},_rotateSingle=function(e,t,a,o,n,r,i){var s=_applyRotateStop(t,$ax.move.getRotationDegree(e),a,r);$ax("#"+e).rotate(s,n.easing,n.duration,!1,!0),i&&(o.x||o.y?_moveSingleWidget(e,o,n):$ax.action.fireAnimationFromQueue(e,$ax.action.queueTypes.move))},_rotateSingleOffset=function(e,t,a,o,n,r,i,s){var u=$obj(e),d=$ax.move.getRotationDegree(e);d&&(n=$axure.fn.getPointAfterRotate(d,n,{x:0,y:0}));var l=_applyRotateStop(t,d,a,i),p=$ax("#"+e).offsetBoundingRect().centerPoint,f=-1!=$.inArray(u.type,widgetRotationFilter);$ax("#"+e).circularMoveAndRotate(l,r,p.x+n.x,p.y+n.y,f,o,s)},_applyRotateStop=function(e,t,a,o){var n,r;return a?(n=e-t,r=o.instant?1:(o.end-o.start)/(o.len-o.start)):(n=e,r=o.instant?1:(o.end-o.start)/o.len),n*r},_initRotateLayer=function(e,t,a,o,n){var r=$jobj(e).data("layerDegree");r=void 0===r?0:parseFloat(r);var i="location"==t.rotateType?a:r+a,s=i-r;return s*=n.instant?1:(n.end-n.start)/(n.len-n.start),$jobj(e).data("layerDegree",i),$ax.event.raiseSyntheticEvent(e,"onRotate"),s};_actionHandlers.setWidgetSize=function(e,t,a){for(var o=t[a],n=0;n<o.objectsToResize.length;n++){var r=o.objectsToResize[n].sizeInfo,i=o.objectsToResize[n].objectPath;if("thisItem"!=i)for(var s=$ax.getElementIdsFromPath(i,e),u=0;u<s.length;u++){var d=s[u];_queueResizeMove(d,queueTypes.resize,e,r)}else{var l=e.srcElement,p=$ax.getParentRepeaterFromElementId(l),f=$ax.repeater.getItemIdFromElementId(l),c=$ax.repeater.getItemSize(p,f),v=_getSizeFromInfo(r,e,c.width,c.height);$ax.repeater.setItemSize(p,f,v.width,v.height)}}_dispatchAction(e,t,a+1)};var _addResize=function(e,t,a,o,n,r){var i=$obj(e);(a=$ax.deepCopy(a)).easing=o.easing,a.duration=o.duration;var s=$ax.eventCopy(t);s.targetElement=e;var u=n||"top left"!=a.anchor||$ax.public.fn.IsDynamicPanel(i.type)&&(i.fixedHorizontal&&"center"==i.fixedHorizontal||i.fixedVertical&&"middle"==i.fixedVertical)||r&&(r.offsetX||r.offsetY);if(n)var d={dragInfo:s.dragInfo,duration:o.duration,easing:o.easing,boundaryExpr:n.options.boundaryExpr,boundaryStos:n.options.boundaryStos};var l=_getIdToResizeMoveState(s),p=[];if($ax.public.fn.IsLayer(i.type)){u=!0;var f,c,v,m,x,g,h=$ax.public.fn.getLayerChildrenDeep(e,!0,!0);if(0===h.length)return;p.push({id:e,type:queueTypes.resize,func:function(){$ax.visibility.pushContainer(e,!1),f=$ax("#"+e).offsetBoundingRect();var t=_getSizeFromInfo(a,s,f.width,f.height,e);m={x:0,y:0};var n=o.stop,r=n.instant?1:(n.end-n.start)/(n.len-n.start);c=Math.round(t.width-f.width)/f.width*r,v=Math.round(t.height-f.height)/f.height*r,g=_applyAnchorToResizeOffset(c*f.width,v*f.height,a.anchor),(n.instant||n.end==n.len)&&(l[e].resizeResult=void 0),$ax.event.raiseSyntheticEvent(e,"onResize"),_fireAnimationFromQueue(e,queueTypes.resize)}}),n&&p.push({id:e,type:queueTypes.move,func:function(){m=_getMoveLoc(e,n,s,o.moveStop,l[e],d,f),$ax.visibility.pushContainer(e,!1),_fireAnimationFromQueue(e,queueTypes.move),$ax.event.raiseSyntheticEvent(e,"onMove")}}),r&&p.push({id:e,type:queueTypes.rotate,func:function(){g=_applyAnchorToResizeOffset(c*f.width,v*f.height,a.anchor);var t=parseFloat($ax.expr.evaluateExpr(r.degree,s));x=_initRotateLayer(e,r,t,o,o.rotateStop),_fireAnimationFromQueue(e,queueTypes.rotate),$ax.event.raiseSyntheticEvent(e,"onRotate")}});for(var y=2*h.length,T=0;T<h.length;T++)(function(n){var i=$ax.public.fn.IsLayer($obj(n).type),d=-1!=$.inArray($obj(n).type,widgetRotationFilter);p.push({id:n,type:queueTypes.resize,func:function(){if(i)y-=2,_fireAnimationFromQueue(n,queueTypes.resize),$ax.event.raiseSyntheticEvent(n,"onResize");else{var l={x:m.x,y:m.y},p={x:0,y:0},h=_getCssForResizingLayerChild(n,a.anchor,f,c,v,p),$=function(){0==--y&&$ax.visibility.popContainer(e,!1)};if($ax("#"+n).resize(h,a,!0,u,$),r){var T={x:Number($ax.expr.evaluateExpr(r.offsetX,s)),y:Number($ax.expr.evaluateExpr(r.offsetY,t))};_updateOffset(T,a.anchor,f);var _={x:f.centerPoint.x+T.x,y:f.centerPoint.y+T.y};$ax("#"+n).circularMoveAndRotate(x,o,_.x,_.y,d,l,g,p,$)}else l.x+=p.x,l.y+=p.y,_moveSingleWidget(n,l,o,$)}}}),i||p.push({id:n,type:queueTypes.move,func:function(){}}),!i&&r&&p.push({id:n,type:queueTypes.rotate,func:function(){}})})(h[T])}else p.push({id:e,type:queueTypes.resize,func:function(){var t=$ax.public.fn.IsTextArea(i.type)?$jobj(e).children("textarea").attr("id"):e,p=$ax("#"+t).size(),f=p.width,c=p.height,v=o.stop,m=v.instant?1:(v.end-v.start)/(v.len-v.start),x=_getSizeFromInfo(a,s,f,c,e),g=x.width,h=x.height,y=Math.round(g-f)*m,$=Math.round(h-c)*m;g=f+y,h=c+$;var T={x:0,y:0};n&&(T=_getMoveLoc(e,n,s,o.moveStop,l[e],d)).moveTo&&(T.x-=$ax.getNumFromPx($jobj(e).css("left")),T.y-=$ax.getNumFromPx($jobj(e).css("top")));var _=!1,I={x:0,y:0};r&&(I.x=Number($ax.expr.evaluateExpr(r.offsetX,s)),I.y=Number($ax.expr.evaluateExpr(r.offsetY,s)),_updateOffset(I,r.anchor,$ax("#"+e).offsetBoundingRect()),_=Boolean(r&&(I.x||I.y||"center"!=r.anchor)),$ax.event.raiseSyntheticEvent(e,"onRotate"));var b=null,S=null;if(0==$&&0==y||((S=$ax.move.getRootLayer(e))&&$ax.visibility.pushContainer(S,!1),b=_getCssForResizingWidget(e,s,a.anchor,g,h,f,c,T,o.stop,!_),l[e].resizeResult=void 0),r){var E=parseFloat($ax.expr.evaluateExpr(r.degree,s));if(_){var R=_applyAnchorToResizeOffset(y,$,r.anchor);_rotateSingleOffset(e,E,"location"==r.rotateType,T,I,o,o.rotateStop,R)}else _rotateSingle(e,E,"location"==r.rotateType,{x:0,y:0},o,o.rotateStop),u&&_fireAnimationFromQueue(e,queueTypes.move)}else!b&&u&&_moveSingleWidget(e,T,o);n&&$ax.event.raiseSyntheticEvent(e,"onMove"),b?$ax("#"+e).resize(b,a,!0,u,function(){S&&$ax.visibility.popContainer(S,!1)}):(_fireAnimationFromQueue(e,queueTypes.resize),$ax.event.raiseSyntheticEvent(e,"onResize"))}}),r&&p.push({id:e,type:queueTypes.rotate,func:function(){}}),u&&p.push({id:e,type:queueTypes.move,func:function(){}});_addAnimations(p)},_applyAnchorToResizeOffset=function(e,t,a){var o={};return-1!=a.indexOf("left")?o.x=-e/2:-1!=a.indexOf("right")&&(o.x=e/2),-1!=a.indexOf("top")?o.y=-t/2:-1!=a.indexOf("bottom")&&(o.y=t/2),o},_getSizeFromInfo=function(e,t,a,o,n){var r=t.targetElement;t.targetElement=n;var i=_getIdToResizeMoveState(t)[n];if(i&&i.resizeResult)return i.resizeResult;var s=$ax.expr.evaluateExpr(e.width,t),u=$ax.expr.evaluateExpr(e.height,t);t.targetElement=r,s=""!=s?Number(s):a,u=""!=u?Number(u):o,s=isNaN(s)?a:s,u=isNaN(u)?o:u;var d={width:Math.max(s,0),height:Math.max(u,0)};return i&&(i.resizeResult=d),d},_getCssForResizingWidget=function(e,t,a,o,n,r,i,s,u,d){var l=u.instant?1:(u.end-u.start)/(u.len-u.start),p=(o-r)*l,f=(n-i)*l;if(u.instant||u.end==u.len){var c=_getIdToResizeMoveState(t);c[e]&&(c[e].resizeResult=void 0)}var v={};v.height=i+f;var m=$obj(e);if($ax.dynamicPanelManager.isPercentWidthPanel(m));else v.width=r+p;var x,g=$jobj(e);if("fixed"==g.css("position"))return m.fixedHorizontal&&"center"==m.fixedHorizontal&&(v["margin-left"]="+="+s.x),m.fixedVertical&&"middle"==m.fixedVertical&&(v["margin-top"]="+="+s.y),v;switch(m.fixedVertical&&(a="middle"==m.fixedVertical?m.fixedHorizontal:m.fixedVertical+("center"==m.fixedHorizontal?"":" "+m.fixedHorizontal)),a){case"top left":x={x:0,y:0};break;case"top":x={x:-p/2,y:0};break;case"top right":x={x:-p,y:0};break;case"left":x={x:0,y:-f/2};break;case"center":x={x:-p/2,y:-f/2};break;case"right":x={x:-p,y:-f/2};break;case"bottom left":x={x:0,y:-f};break;case"bottom":x={x:-p/2,y:-f};break;case"bottom right":x={x:-p,y:-f}}if(d)if("absolute"===g.css("position"))v.left=$ax.getNumFromPx(g.css("left"))+x.x+s.x,v.top=$ax.getNumFromPx(g.css("top"))+x.y+s.y;else{var h=$ax("#"+e).offsetLocation();v.left=h.left+x.x+s.x,v.top=h.top+x.y+s.y}else s.x+=x.x,s.y+=x.y;return v.deltaX=x.x+s.x,v.deltaY=x.y+s.y,v},_getCssForResizingLayerChild=function(e,t,a,o,n,r){var i=$ax("#"+e).offsetBoundingRect().centerPoint,s=$ax("#"+e).size(),u=s.width+s.width*o,d=s.height+s.height*n,l={};l.height=d;var p=$obj(e),f=!0;if($ax.dynamicPanelManager.isPercentWidthPanel(p)?f=!1:l.width=u,"fixed"==$jobj(e).css("position"))return l;var c=$ax("#"+e).offsetLocation(),v=c.left,m=c.top,x=$ax.public.fn.IsResizable(p.type);if(t.indexOf("top")>-1){var g=(m-a.top)*n;!x&&Math.round(g)&&(g+=s.height*n)}else if(t.indexOf("bottom")>-1)if(x)g=(m-a.bottom)*n;else{var h=Math.round(m+s.height-a.bottom)*n;g=h?h-s.height*n:0}else if(x)g=(i.y-a.centerPoint.y)*n-s.height*n/2;else{var y=Math.round(i.y-a.centerPoint.y)*n;g=y>0?y+Math.abs(s.height*n/2):y<0?y-Math.abs(s.height*n/2):0}if(f)if(t.indexOf("left")>-1){var $=(v-a.left)*o;!x&&Math.round($)&&($+=s.width*o)}else if(t.indexOf("right")>-1)if(x)$=(v-a.right)*o;else{var T=Math.round(v+s.width-a.right)*o;$=T?T-s.width*o:0}else if(x)$=(i.x-a.centerPoint.x)*o-s.width*o/2;else{var _=Math.round(i.x-a.centerPoint.x)*o;$=_>0?_+Math.abs(s.width*o/2):_<0?_-Math.abs(s.width*o/2):0}return g&&(r.y+=g),$&&f&&(r.x+=$),l};_actionHandlers.setPanelOrder=function(e,t,a){for(var o=t[a],n=0;n<o.panelPaths.length;n++)for(var r=o.panelPaths[n].setOrderInfo.bringToFront?"bringToFront":"sendToBack",i=$ax.getElementIdsFromPath(o.panelPaths[n].panelPath,e),s=0;s<i.length;s++)$ax("#"+i[s])[r]();_dispatchAction(e,t,a+1)},_actionHandlers.modifyDataSetEditItems=function(e,t,a){for(var o,n=t[a],r=n.repeatersToAddTo,i=r||n.repeatersToRemoveFrom,s=0;s<i.length;s++){var u=i[s],d=$ax.getElementIdsFromPath(u.path,e)[0];if(d)if("this"==u.addType){var l=$ax.repeater.getScriptIdFromElementId(e.srcElement);o=$ax.repeater.getItemIdFromElementId(e.srcElement);var p=$ax.getParentRepeaterFromScriptId(l);r?$ax.repeater.addEditItems(p,[o]):$ax.repeater.removeEditItems(p,[o])}else if("all"==u.addType){var f=$ax.repeater.getAllItemIds(d);r?$ax.repeater.addEditItems(d,f):$ax.repeater.removeEditItems(d,f)}else{for(var c=e.targetElement,v=$ax.repeater.getAllItemIds(d),m=[],x=0;x<v.length;x++)o=v[x],e.targetElement=$ax.repeater.createElementId(d,o),"true"==$ax.expr.evaluateExpr(u.query,e)&&(m[m.length]=String(o)),e.targetElement=c;r?$ax.repeater.addEditItems(d,m):$ax.repeater.removeEditItems(d,m)}}_dispatchAction(e,t,a+1)},_action.repeaterInfoNames={addItemsToDataSet:"dataSetsToAddTo",deleteItemsFromDataSet:"dataSetItemsToRemove",updateItemsInDataSet:"dataSetsToUpdate",addFilterToRepeater:"repeatersToAddFilter",removeFilterFromRepeater:"repeatersToRemoveFilter",addSortToRepeater:"repeaterToAddSort",removeSortFromRepeater:"repeaterToRemoveSort",setRepeaterToPage:"repeatersToSetPage",setItemsPerRepeaterPage:"repeatersToSetItemCount"},_actionHandlers.addItemsToDataSet=function(e,t,a){for(var o=t[a],n=0;n<o.dataSetsToAddTo.length;n++){var r=o.dataSetsToAddTo[n],i=$ax.getElementIdsFromPath(r.path,e)[0];if(i&&!_ignoreAction(i)){for(var s=r.data,u=0;u<s.length;u++)$ax.repeater.addItem(i,$ax.deepCopy(s[u]),e);s.length&&_addRefresh(i)}}_dispatchAction(e,t,a+1)},_actionHandlers.deleteItemsFromDataSet=function(e,t,a){for(var o=t[a],n=0;n<o.dataSetItemsToRemove.length;n++){var r=o.dataSetItemsToRemove[n],i=$ax.getElementIdsFromPath(r.path,e)[0];i&&!_ignoreAction(i)&&($ax.repeater.deleteItems(i,e,r.type,r.rule),_addRefresh(i))}_dispatchAction(e,t,a+1)},_actionHandlers.updateItemsInDataSet=function(e,t,a){for(var o=t[a],n=0;n<o.dataSetsToUpdate.length;n++){var r=o.dataSetsToUpdate[n],i=$ax.getElementIdsFromPath(r.path,e)[0];i&&!_ignoreAction(i)&&($ax.repeater.updateEditItems(i,r.props,e,r.type,r.rule),_addRefresh(i))}_dispatchAction(e,t,a+1)},_actionHandlers.setRepeaterToDataSet=function(e,t,a){for(var o=t[a],n=0;n<o.repeatersToSet.length;n++){var r=o.repeatersToSet[n],i=$ax.getElementIdsFromPath(r.path,e)[0];i&&$ax.repeater.setDataSet(i,r.localDataSetId)}_dispatchAction(e,t,a+1)},_actionHandlers.addFilterToRepeater=function(e,t,a){for(var o=t[a],n=0;n<o.repeatersToAddFilter.length;n++){var r=o.repeatersToAddFilter[n],i=$ax.getElementIdsFromPath(r.path,e)[0];i&&!_ignoreAction(i)&&($ax.repeater.addFilter(i,r.removeOtherFilters,r.label,r.filter,e.srcElement),_addRefresh(i))}_dispatchAction(e,t,a+1)},_actionHandlers.removeFilterFromRepeater=function(e,t,a){for(var o=t[a],n=0;n<o.repeatersToRemoveFilter.length;n++){var r=o.repeatersToRemoveFilter[n],i=$ax.getElementIdsFromPath(r.path,e)[0];i&&!_ignoreAction(i)&&(r.removeAll?$ax.repeater.removeFilter(i):""!=r.filterName&&$ax.repeater.removeFilter(i,r.filterName),_addRefresh(i))}_dispatchAction(e,t,a+1)},_actionHandlers.addSortToRepeater=function(e,t,a){for(var o=t[a],n=0;n<o.repeatersToAddSort.length;n++){var r=o.repeatersToAddSort[n],i=$ax.getElementIdsFromPath(r.path,e)[0];i&&!_ignoreAction(i)&&($ax.repeater.addSort(i,r.label,r.columnName,r.ascending,r.toggle,r.sortType),_addRefresh(i))}_dispatchAction(e,t,a+1)},_actionHandlers.removeSortFromRepeater=function(e,t,a){for(var o=t[a],n=0;n<o.repeatersToRemoveSort.length;n++){var r=o.repeatersToRemoveSort[n],i=$ax.getElementIdsFromPath(r.path,e)[0];i&&!_ignoreAction(i)&&(r.removeAll?$ax.repeater.removeSort(i):""!=r.sortName&&$ax.repeater.removeSort(i,r.sortName),_addRefresh(i))}_dispatchAction(e,t,a+1)},_actionHandlers.setRepeaterToPage=function(e,t,a){for(var o=t[a],n=0;n<o.repeatersToSetPage.length;n++){var r=o.repeatersToSetPage[n],i=$ax.getElementIdsFromPath(r.path,e)[0];if(i&&!_ignoreAction(i)){var s=e.targetElement;e.targetElement=i,$ax.repeater.setRepeaterToPage(i,r.pageType,r.pageValue,e),e.targetElement=s,_addRefresh(i)}}_dispatchAction(e,t,a+1)},_actionHandlers.setItemsPerRepeaterPage=function(e,t,a){for(var o=t[a],n=0;n<o.repeatersToSetItemCount.length;n++){var r=o.repeatersToSetItemCount[n],i=$ax.getElementIdsFromPath(r.path,e)[0];i&&!_ignoreAction(i)&&(r.noLimit?$ax.repeater.setNoItemLimit(i):$ax.repeater.setItemLimit(i,r.itemCountValue,e),_addRefresh(i))}_dispatchAction(e,t,a+1)},_actionHandlers.refreshRepeater=function(e,t,a){for(var o=t[a],n=0;n<o.repeatersToRefresh.length;n++){var r=$ax.getElementIdsFromPath(o.repeatersToRefresh[n],e)[0];r&&_tryRefreshRepeater(r,e)}_dispatchAction(e,t,a+1)};var _tryRefreshRepeater=function(e,t){var a=_repeatersToRefresh.indexOf(e);-1!=a&&($ax.splice(_repeatersToRefresh,a,1),$ax.repeater.refreshRepeater(e,t))};_action.tryRefreshRepeaters=function(e,t){for(var a=0;a<e.length;a++)_tryRefreshRepeater(e[a],t)},_actionHandlers.scrollToWidget=function(e,t,a){var o=t[a],n=$ax.getElementIdsFromPath(o.objectPath,e);n.length>0&&$ax("#"+n[0]).scroll(o.options),_dispatchAction(e,t,a+1)},_actionHandlers.enableDisableWidgets=function(e,t,a){for(var o=t[a],n=0;n<o.pathToInfo.length;n++)for(var r=$ax.getElementIdsFromPath(o.pathToInfo[n].objectPath,e),i=o.pathToInfo[n].enableDisableInfo.enable,s=0;s<r.length;s++)$ax("#"+r[s]).enabled(i);_dispatchAction(e,t,a+1)},_actionHandlers.setImage=function(e,t,a){var o=e.targetElement,n=t[a],r=$ax.adaptive.currentViewId;e.image=!0;for(var i=0;i<n.imagesToSet.length;i++){var s=n.imagesToSet[i];s=r&&s.adaptive[r]?s.adaptive[r]:s.base;for(var u=$ax.getElementIdsFromPath(n.imagesToSet[i].objectPath,e),d=0;d<u.length;d++){var l=u[d];e.targetElement=l;var p=_evaluateImages(s,e),f=p.normal;if($ax.style.IsWidgetDisabled(l))s.disabled&&(f=p.disabled);else if($ax.style.IsWidgetSelected(l))s.selected&&(f=p.selected);else if($ax.event.mouseDownObjectId==l&&s.mouseDown)f=p.mouseDown;else if(-1!=$ax.event.mouseOverIds.indexOf(l)&&s.mouseOver){f=p.mouseOver,$ax.event.mouseOverIds.indexOf($ax.event.mouseOverObjectId)<$ax.event.mouseOverIds.indexOf(l)&&($ax.event.mouseOverObjectId=l)}else s.mouseOver&&l==e.srcElement&&(f=p.mouseOver);$jobj($ax.GetImageIdFromShape(l)).attr("src",f),$ax.style.mapElementIdToImageOverrides(l,p),$ax.style.updateElementIdImageStyle(l),(p.mouseOver||p.mouseDown)&&$ax.event.updateIxStyleEvents(l)}}e.targetElement=o,e.image=!1,_dispatchAction(e,t,a+1)};var _evaluateImages=function(e,t){var a={};for(var o in e)if(e.hasOwnProperty(o)){var n=e[o][$ax.adaptive.getSketchKey()]||$ax.expr.evaluateExpr(e[o].literal,t);n||(n=$axure.utils.getTransparentGifPath()),a[o]=n}return a};$ax.clearRepeaterImageOverrides=function(e){for(var t=$ax.getChildElementIdsForRepeater(e),a=t;a<t.length;a++)$ax.style.deleteElementIdToImageOverride(t[a])},_actionHandlers.setFocusOnWidget=function(e,t,a){var o=t[a];if(o.objectPaths.length>0){var n=$ax.getElementIdsFromPath(o.objectPaths[0],e);if(n.length>0&&($ax("#"+n[0]).focus(),o.selectText&&!$ax.placeholderManager.isActive(n[0])))for(var r=document.getElementById(n[0]).children,i=0;i<r.length;i++)if(-1!=r[i].id.indexOf("_input")){var s=r[i].tagName;!s||"input"!=s.toLowerCase()&&"textarea"!=s.toLowerCase()||r[i].select()}}_dispatchAction(e,t,a+1)},_actionHandlers.expandCollapseTree=function(e,t,a){for(var o=t[a],n=0;n<o.pathToInfo.length;n++)for(var r=o.pathToInfo[n],i=$ax.getElementIdsFromPath(r.treeNodePath,e),s=0;s<i.length;s++)$ax("#"+i[s]).expanded(r.expandCollapseInfo.expand);_dispatchAction(e,t,a+1)},_actionHandlers.other=function(e,t,a){var o=t[a];$ax.navigate({url:$axure.utils.getOtherPath()+"#other="+encodeURI(o.otherDescription),target:"popup",includeVariables:!1,popupOptions:o.popup}),_dispatchAction(e,t,a+1)},_actionHandlers.fireEvents=function(e,t,a){var o=t[a],n=e.srcElement,r=e.thiswidget,i=$ax.getObjectFromElementId(n),s=i?$ax.getRdoParentFromElementId(n):"",u=$ax.getObjectFromElementId(s),d=u?$ax.pageData.masters[u.masterId]:$ax.pageData.page,l=e.isMasterEvent;i&&$ax.public.fn.IsReferenceDiagramObject(i.type)&&e.isMasterEvent&&(s=n,u=i,d=$ax.pageData.masters[u.masterId]);for(var p=0;p<o.firedEvents.length;p++){for(var f=o.firedEvents[p],c=0==f.objectPath.length,v=c?[s]:$ax.getElementIdsFromPath(f.objectPath,e),m=0;m<v.length;m++){var x=v[m],g=c?u:$ax.getObjectFromElementId(x);e.srcElement=x||"",e.thiswidget=$ax.getWidgetInfo(e.srcElement),e.isMasterEvent=!1;var h=f.raisedEventIds;if(h)for(var y=0;y<h.length;y++){var $=g.interactionMap&&g.interactionMap.raised&&g.interactionMap.raised[h[y]];$&&$ax.event.handleEvent(x,e,$,!1,!0)}c&&(e.isMasterEvent=!0,e.label=$ax.pageData.page.name,e.friendlyType="Page");var T=c?d:g,_=f.firedEventNames;if(_)for(y=0;y<_.length;y++)($=T.interactionMap&&T.interactionMap[_[y]])&&$ax.event.handleEvent(c?"":x,e,$,!1,!0);c&&(e.isMasterEvent=l)}e.srcElement=n,e.thiswidget=r,e.isMasterEvent=l}_dispatchAction(e,t,a+1)}});