$axure.internal(function(e){var t={};e.repeater=t;var r=t.refreshType={reset:1,persist:2,preEval:3},i={},n={},a={},o={},l={},s={},d={};t.loadRepeaters=function(){e(function(t){return e.public.fn.IsRepeater(t.type)}).each(function(t,r){l[r]=e.deepCopy(t.data),l[r].props=t.dataProps,i[r]=[],h(t,r),u(r,r);for(var n=t.repeaterPropMap.itemIds,a=0;a<n.length;a++)e.addItemIdToRepeater(n[a],r);e.visibility.initRepeater(r)})};var c={},f=!1;t.initRefresh=function(){f=!0,e(function(t,r){return e.public.fn.IsRepeater(t.type)}).each(function(e,t){v(t,void 0,r.reset,!c[t])})};var u=function(e,t){s[e]=l[t],d[e]=x(e),n[e]=[],a[e]=[]};t.setDataSet=u;var v=function(t,i,n,a){if(n||(n=r.reset),f){n==r.reset&&e.style.clearStateForRepeater(t);for(var l=e.getPathFromScriptId(t);l.length>0;){if(!e.getScriptIdFromPath(l))return void M(t);e.splice(l,l.length-1,1)}if(e.action.refreshStart(t),e.style.ClearCacheForRepeater(t),e.visibility.limboIds[t])return M(t),void e.dynamicPanelManager.fitParentPanel(t);i&&i.repeaterDeleteMap&&delete i.repeaterDeleteMap[t];var s=e.getPathFromScriptId(t);s.pop(),i&&(i=e.eventCopy(i));var d=e.getObjectFromScriptId(t),u=d.repeaterPropMap,v=e.adaptive.currentViewId||"",h=y(u,"wrap",v,t,d),m=y(u,"vertical",v,t,d),P=u[b(v,t,d)];v&&(a=!1);var x=[];if(a)for(var E=$jobj(t).children(),w=1;w<E.length;w++)x.push(O($(E[w]).attr("id")));else x=N(t,i);var F=[],j=y(u,"backColor",v,t,d),S=y(u,"hasAltColor",v,t,d),C=S?y(u,"altColor",v,t,d):void 0,L=!1;if(a)var R=0,_=x.length;else{var T=I(o[t],a?d.data.length:x.length);R=T[0],_=T[1]}var A=$jobj(t),H={},B=_-R,Y=-1==h?B:Math.min(B,h),V=-1==h?1:Math.ceil(B/h),W=m?V:Y,k=m?Y:V,U=y(u,"paddingTop",v,t,d),G=y(u,"paddingLeft",v,t,d),q=U+y(u,"paddingBottom",v,t,d),K=G+y(u,"paddingRight",v,t,d),X=y(u,"horizontalSpacing",v,t,d),J=P.width+X,Q=y(u,"verticalSpacing",v,t,d),Z=P.height+Q,ee={width:K,height:q};if(ee.width+=P.width+(W-1)*J,ee.height+=P.height+(k-1)*Z,e.visibility.setResizedSize(t,ee.width,ee.height),a){var te=[t];$("#"+t+"_script").html().replace(/(id|for)="?u([0-9]+(p([0-9]){3})?(_[_a-z0-9]*)?)"?/g,function(e,t,r){r.indexOf("_")<=0&&-1==r.indexOf("p")&&te.push("u"+r)});for(w=0;w<te.length;w++)for(var re=0;re<x.length;re++)F.push(D(te[w],x[re]));for(var ie=R;ie<_;ie++){var ne=x[ie];pe=D(t,ne);var ae=$jobj(pe);ae.hasClass("preeval")&&(n=r.preEval);for(w=0;w<te.length;w++)e.initializeObjectEvents(e("#"+D(te[w],ne)),n);n==r.preEval&&(H[ne]=!0,ae.removeClass("preeval")),e.visibility.setResizedSize(pe,e.getNumFromPx(ae.css("width")),e.getNumFromPx(ae.css("height"))),e.visibility.setMovedLocation(pe,e.getNumFromPx(ae.css("left")),e.getNumFromPx(ae.css("top")))}}else{var oe=$("#"+t+"_script").html(),le=$("<div></div>");le.html(oe),le.find("."+e.visibility.HIDDEN_CLASS).removeClass(e.visibility.HIDDEN_CLASS),le.find("."+e.visibility.UNPLACED_CLASS).removeClass(e.visibility.UNPLACED_CLASS),le.css({width:P.width,height:P.height}),g(j,le);var se=le;S&&(se=g(C,le.clone()));var de=e.visibility.IsIdVisible(t);de&&(document.getElementById(t).style.visibility="hidden"),M(t),z(t,P,T,x,m,h);w=0;var ce=U,fe=G;"border-box"==A.css("box-sizing")&&(ce-=e.getNumFromPx(A.css("border-top-width"))||0,fe-=e.getNumFromPx(A.css("border-left-width"))||0);var ue=ce,ve=fe;for(ie=R;ie<_;ie++){ne=x[ie];var pe=D(t,ne);e.addItemIdToRepeater(ne,t),F.push(pe);var he=function(e,t,r){var i=D("u"+r,ne);return r.indexOf("_")<=0&&-1==r.indexOf("p")&&F.push(i),t+'="'+i+'"'},me=(L?se:le).clone();if(L=!L,me.attr("id",pe),me.html(le.html().replace(/(id|for)="?u([0-9]+(p([0-9]){3})?(_[_a-z0-9]*)?)"?/g,he)),d.repeaterPropMap.isolateRadio)for(var ge=me.find(":radio"),be=0;be<ge.length;be++){var ye=$(ge[be]),Ie=ye.attr("name")||"";Ie&&ye.attr("name",Ie+"-"+ne)}me.css({position:"absolute",top:ue+"px",left:ve+"px",width:d.width+"px",height:d.height+"px"}),$("#"+t).append(me),e.visibility.setResizedSize(pe,P.width,P.height),e.visibility.setMovedLocation(pe,ve,ue),w++,-1!=h&&w%h==0?m?(ue=ce,ve+=J):(ve=fe,ue+=Z):m?ue+=Z:ve+=J}A.css(ee);for(w=0;w<F.length;w++){var Pe=F[w],xe=$jobj(Pe);d.repeaterPropMap.isolateSelection&&xe.attr("selectiongroup")&&xe.attr("selectiongroup",D(xe.attr("selectiongroup"),O(Pe))),e.initializeObjectEvents(e("#"+Pe),n)}}var Ne=p(t);v?e.adaptive.applyView(v,Ne):e.visibility.resetLimboAndHiddenToDefaults(p(t,H)),e.annotation.createFootnotes(Ne,!0);for(var Ee=0;Ee<F.length;Ee++)Pe=F[Ee],e.ieColorManager&&e.ieColorManager.applyBackground(e("#"+Pe)),e.applyHighlight(e("#"+Pe),!0);for(e.messageCenter.startCombineEventMessages(),e.cacheRepeaterInfo(t,e.getWidgetInfo(t)),ie=R;ie<_;ie++)ne=x[ie],pe=D(t,ne),H[x[ie]]||e.event.raiseSyntheticEvent(pe,"onItemLoad",!0),e.loadDynamicPanelsAndMasters(d.objects,s,ne);e.removeCachedRepeaterInfo(t),e.messageCenter.endCombineEventMessages(),de&&!a&&(document.getElementById(t).style.visibility="inherit"),e.dynamicPanelManager.fitParentPanel(t),n!=r.preEval&&e.style.updateStateClass(t),e.action.refreshEnd()}else c[t]=!0};t.refreshRepeater=v;var p=function(t,r){return e(function(i,n){if(r){var a=O(n);if(r[a])return!1}var o=T(n);return e.getParentRepeaterFromScriptId(o)==t&&o!=t})};t.refreshAllRepeaters=function(){e("*").each(function(t,i){e.public.fn.IsRepeater(t.type)&&(e.visibility.isElementIdLimboOrInLimboContainer(i)||(h(t,i),v(i,e.getEventInfoFromEvent(e.getjBrowserEvent()),r.persist)))})},t.refreshRepeaters=function(e,t){for(var r=0;r<e.length;r++)v(e[r],t)};var h=function(t,r){var i={},n=t.repeaterPropMap,a=e.adaptive.currentViewId||"",l=y(n,"itemsPerPage",a,r,t);-1==l?i.noLimit=!0:(i.itemsPerPage=l,i.currPage=y(n,"currPage",a,r,t)),o[r]=i};t.initialize=function(){e(function(t){return e.public.fn.IsRepeater(t.type)}).each(function(e,t){m(t)})};var m=function(t){var r=e.getObjectFromScriptId(t),i=r.repeaterPropMap,n=e.adaptive.currentViewId||"",a=y(i,"wrap",n,t,r),l=y(i,"vertical",n,t,r),s=[],d=[],c=y(i,"backColor",n,t,r),f=y(i,"hasAltColor",n,t,r),u=f?y(i,"altColor",n,t,r):void 0,v=!1,p=I(o[t],r.data.length),h=p[0],m=p[1];if(h!=m){var b=$jobj(e.repeater.createElementId(t,h+1)).html().match(/(id|for)="?u([0-9]+)/g),P=[];if(b)for(var x=0;x<b.length;x++){var N=b[x].split("=")[1].substr(1);-1==P.indexOf(N)&&P.push(N)}for(var E=h;E<m;E++){for(d.push(e.repeater.createElementId(t,E+1)),x=0;x<P.length;x++)d.push(e.repeater.createElementId(P[x],E+1));var w=E+1;s[E]=w;var F=$jobj(e.repeater.createElementId(t,E+1));g(v?u:c,F),f&&(v=!v)}z(t,void 0,p,s,l,a)}else e.action.refreshEnd(t)},g=function(t,r){var i=t.r+", "+t.g+", "+t.b,n=0==t.a?"":1==t.a?"rgb("+i+")":"rgba("+i+", "+t.a+")";if(e.ieColorManager&&0!=t.a&&1!=t.a){var a=e.ieColorManager.getColorFromArgb(255*t.a,t.r,t.g,t.b,!0);a&&(n=a)}return r.css("background-color",n),r},b=function(t,r,i){if("Axure:Master"!=i.owner.type)return t;var n=e("#"+r).getParents(!0,["rdo"])[0][0],a=e.style.generateState(n);return e.style.computeFullStyle(n,a,t).viewOverride},y=t.getAdaptiveProp=function(t,r,i,n,a){for(var o=e.style.getViewIdChain(i,n,a),l=o.length-1;l>=0;l--){var s=t[i=o[l]];if(s.hasOwnProperty(r))return s[r]}var d="Axure:Master"!=a.owner.type?t[""]:t["19e82109f102476f933582835c373474"];return d.hasOwnProperty(r)?d[r]:t.default[r]};t.getItemCount=function(e){var t=d[e].length,r=o[e];if(!r.noLimit){var i=Math.min(t,r.itemsPerPage*r.currPage);t=Math.min(t,i+r.itemsPerPage)-i}return t},t.setDisplayProps=function(e,t,r){var i=d[t],n=o[t],a=0,l=i.length;n.noLimit||(a=Math.min(l,n.itemsPerPage*(n.currPage-1)),l=Math.min(l,a+n.itemsPerPage));for(var s=l-a,c=-1,f=0;f<s;f++)i[a+f].index==r&&(c=f+1);-1!=c&&(e.index=c,e.isfirst=1==c,e.islast=c==l-a,e.iseven=c%2==0,e.isodd=c%2==1)};var I=function(e,t){var r=[0,t];if(!e.noLimit){var i=e.itemsPerPage*e.currPage,n=i-e.itemsPerPage;n>=t&&(e.currPage=Math.floor((t-1)/e.itemsPerPage)+1,e.currPage<=0&&(e.currPage=1),n=(i=e.itemsPerPage*e.currPage)-e.itemsPerPage),i=Math.min(i,t),r[0]=n,r[1]=i}return r};t.getVisibleDataCount=function(e){var t=I(o[e],d[e].length);return t[1]-t[0]},t.getDataCount=function(e){return s[e].length};var P=t.getFilteredDataCount=function(e){return d[e].length};t.getPageCount=function(e){var t=o[e];return t.noLimit?1:Math.ceil(P(e)/t.itemsPerPage)},t.getPageIndex=function(e){var t=o[e];return t.noLimit?1:t.currPage};var x=function(t){for(var r=e.deepCopy(s[t]),i=0;i<r.length;i++)r[i].index=i+1;return r},N=function(e,t){var r=d[e]=x(e);j(e,r,t);var i=a[e]||[];if(0!=i.length&&r.length>1){for(var n=function(e,t,r,i){var a=Math.floor((t+r)/2);a-t>1&&n(e,t,a,i),r-a>1&&n(e,a,r,i);for(var o=t,l=a,s=[];o<a&&l<r;)s[s.length]=e[i(e[o],e[l])>0?l++:o++];for(;o<a;)s[s.length]=e[o++];for(;l<r;)s[s.length]=e[l++];for(var d=0;d<s.length;d++)e[t+d]=s[d]},o=function(e,t,r,i){return function(n,a){var o=n[e]&&n[e].text||"",l=a[e]&&a[e].text||"";if("Text"==r&&(o=o.toLowerCase(),l=l.toLowerCase()),o==l)return i?i(n,a):0;if("Text"==r||"Text (Case Sensitive)"==r)return o<l^t?1:-1;if("Number"==r){var s=""==o?NaN:Number(o),d=""==l?NaN:Number(l);return isNaN(s)&&isNaN(d)?0:isNaN(s)||isNaN(d)?isNaN(s)?1:-1:s<d^t?1:-1}if("Date - YYYY-MM-DD"==r||"Date - MM/DD/YYYY"==r){var c="Date - YYYY-MM-DD"==r?E:w,f=c(o),u=c(l);if(!f.valid&&!u.valid)return 0;if(!f.valid||!u.valid)return f.valid?-1:1;var v=u.year-f.year;return 0==v&&(v=u.month-f.month),0==v&&(v=u.day-f.day),0==v?0:v>0^t?1:-1}return console.log("unhandled sort type"),0}},l=null,s=0;s<i.length;s++)l=o(i[s].columnName,i[s].ascending,i[s].sortType,l);n(r,0,r.length,l)}var c=[];for(s=0;s<r.length;s++)c[s]=r[s].index;return c},E=function(e){var t={valid:!1},r=e.split("-");return 1==r.length&&(r=e.split("/")),3!=r.length||(t.year=Number(r[0]),t.month=Number(r[1]),t.day=Number(r[2]),t.valid=!isNaN(t.year),t.valid&=!isNaN(t.month)&&t.month>0&&t.month<=12,t.valid&=!isNaN(t.day)&&t.day>0&&t.day<=F(t.month,t.year)),t},w=function(e){var t={valid:!1},r=e.split("-");return 1==r.length&&(r=e.split("/")),3!=r.length||(t.month=Number(r[0]),t.day=Number(r[1]),t.year=Number(r[2]),t.valid=!isNaN(t.year),t.valid&=!isNaN(t.month)&&t.month>0&&t.month<=12,t.valid&=!isNaN(t.day)&&t.day>0&&t.day<=F(t.month,t.year)),t},F=function(e,t){return 9==e||4==e||6==e||11==e?30:2!=e?31:t%4!=0?28:t%100!=0||t%400==0?29:28},j=function(t,r,i){var a=[],o=n[t]||[];if(0!=o.length){i||(i=e.getBasicEventInfo());var l=i.targetElement,s=i.srcElement,d=i.thiswidget,c=i.item,f={};e:for(var u=1;u<=r.length;u++){for(var v=0;v<o.length;v++)if(i.targetElement=D(t,u),i.srcElement=o[v].thisId,f[i.srcElement]||(f[i.srcElement]=e.getWidgetInfo(i.srcElement)),i.thiswidget=f[i.srcElement],i.item=e.getItemInfo(i.srcElement),"true"!=e.expr.evaluateExpr(o[v].filter,i))continue e;a[a.length]=r[u-1]}for(u=0;u<a.length;u++)r[u]=a[u];for(;r.length>a.length;)r.pop();i.targetElement=l,i.srcElement=s,i.thiswidget=d,i.item=c}};t.addFilter=function(e,t,r,i,a){t&&S(e);var o=n[e];o||(n[e]=o=[]);var l={filter:i,thisId:a};r&&(l.label=r),o[o.length]=l};var S=function(t,r){var i=n[t];if(i)if(r)for(var a=i.length-1;a>=0;a--){var o=i[a];o.label&&o.label==r&&e.splice(i,a,1)}else n[t]=[]};t.removeFilter=S;t.addSort=function(t,r,i,n,o,l){var s=a[t];s||(a[t]=s=[]);for(var d=0;d<s.length;d++)if(i==s[d].columnName){var c=e.splice(s,d,1)[0];o&&(n=!c.ascending);break}var f={columnName:i,ascending:n,sortType:l};r&&(f.label=r),s[s.length]=f};t.removeSort=function(t,r){var i=a[t];if(i)if(r)for(var n=i.length-1;n>=0;n--){var o=i[n];o.label&&o.label==r&&e.splice(i,n,1)}else a[t]=[]};t.setRepeaterToPage=function(t,r,i,n){var a=o[t];if(!a.noLimit){var l=d[t];l||(l=s[t]);var c=Math.max(1,Math.ceil(l.length/a.itemsPerPage));if("Value"==r){var f=Number(e.expr.evaluateExpr(i,n));isNaN(f)||f<1?f=1:f>c&&(f=c),a.currPage=f}else"Previous"==r?a.currPage>1&&a.currPage--:"Next"==r?a.currPage<c&&a.currPage++:"Last"==r?a.currPage=c:console.log("Unknown type")}};t.setNoItemLimit=function(e){var t=o[e];delete t.currPage,delete t.itemsPerPage,t.noLimit=!0};t.setItemLimit=function(t,r,i){var n=o[t];n.noLimit&&(n.noLimit=!1,n.currPage=1);var a=i.targetElement;i.targetElement=t;var l=Number(e.expr.evaluateExpr(r,i));i.targetElement=a,isNaN(l)?l=20:l<1&&(l=1),n.itemsPerPage=l};var M=function(t){for(var r=e.getChildElementIdsForRepeater(t),i=e.getItemIdsForRepeater(t),n=0;n<i.length;n++)$jobj(D(t,i[n])).remove();e.visibility.clearLimboAndHiddenIds(r),e.visibility.clearMovedAndResizedIds(r),e.clearItemsForRepeater(t)},C={},z=function(t,r,i,n,a,o){var l=!r;l&&(r={});var s={};s.vert=a;for(var d={},c=[],f=-1==o?c:[],u=0;u+i[0]<i[1];u++){var v=n[u+i[0]];if(l){var p=$jobj(D(t,v));r.width=e.getNumFromPx(p.css("width")),r.height=e.getNumFromPx(p.css("height"))}var h={itemId:v,width:r.width,height:r.height};f.push(h),d[h.itemId]=h,f.length==o&&(c.push(f),f=[])}-1!=o&&f.length>0&&c.push(f),s.sizes=c,s.sizesMap=d,C[t]=s};t.getItemSize=function(e,t){var r=C[e];return!!r&&r.sizesMap[t]},t.setItemSize=function(t,r,i,n){var a=C[t];if(!a)return!1;var o=a.sizesMap[r],l=i-o.width,s=n-o.height;return!(!l&&!s)&&(a.resized=!0,l&&L(t,r,l,!1,!0),s&&L(t,r,s,!0,!0),(l||s)&&e.event.raiseSyntheticEvent(D(t,r),"onItemResize"),!0)};var L=t.pushItems=function(t,r,i,n,a){if(0!=i){var o=n?"height":"width",l=D(t,r),s=$jobj(l);s.css(o,e.getNumFromPx(s.css(o))+i),e.visibility.setResizedSize(l,e.getNumFromPx(s.css("width")),e.getNumFromPx(s.css("height")));var d=$jobj(t),c=C[t],f=c.sizes,u=null!=f[0].length,v=c.vert;if(!u&&v!=n){for(var p=0,h=0,m=0,g=0;g<f.length;g++){var b=f[g];b.itemId==r?(p=b[o],b[o]+=i,h=b[o]):m=m?Math.max(m,b[o]):b[o]}var I=i;return 1!=f.length&&(I=h>=m?h-Math.max(m,p):p>m?m-p:0),R(o,d,I,v),void(a||e.event.raiseSyntheticEvent(D(t,r),"onItemResize"))}var P=0,x=0;if(u)e:for(;P<f.length;P++){var N=f[P];for(x=0;x<N.length;x++)if(N[x].itemId==r)break e}else for(;P<f.length&&f[P].itemId!=r;P++);var E=[];if(v==n){if(I=i,u&&f.length>1){var w=e.adaptive.currentViewId||"",F=$obj(t),j=y(F.repeaterPropMap,(v?"vertical":"horizontal")+"Spacing",w,t,F);for(g=0;g<f.length;g++){for(var S=0,M=f[g],$=0;$<M.length;$++)0!=$&&(S+=j),S+=M[$][o];g==P?h=(p=S)+i:m=m?Math.max(m,S):S}I=h>=m?h-Math.max(m,p):p>m?m-p:0}I&&R(o,d,I,v);var z=u?f[P]:f;for(z[g=u?x:P][o]+=i,g++;g<z.length;g++)E.push(z[g].itemId)}else{var L=0,_=f[P];for(g=0;g<_.length;g++)g!=x&&(L=Math.max(L,_[g][o]));var T=Math.max(L,_[x][o]);_[x][o]+=i;var O=Math.max(L,_[x][o]);if(O==T)return;for(g=P+1;g<f.length;g++)for(_=f[g],$=0;$<_.length;$++)E.push(_[$].itemId);R(o,d,i=O-T,v)}for(g=0;g<E.length;g++){var A=E[g],H=D(t,A),B=n?"top":"left",Y=$jobj(H),V=e.getNumFromPx(Y.css(B));Y.css(B,V+i),e.visibility.setMovedLocation(H,e.getNumFromPx(Y.css("left")),e.getNumFromPx(Y.css("top")))}a||e.event.raiseSyntheticEvent(D(t,r),"onItemResize")}},R=function(t,r,i,n){if(0!=i){var a=e.getNumFromPx(r.css(t))+i,o=0;a+=o+=n?e.getNumFromPx(r.css("border-top-width"))+e.getNumFromPx(r.css("border-bottom-width")):e.getNumFromPx(r.css("border-left-width"))+e.getNumFromPx(r.css("border-right-width")),r.css(t,a),e.visibility.setResizedSize(r.attr("id"),e.getNumFromPx(r.css("width")),e.getNumFromPx(r.css("height"))),e.dynamicPanelManager.fitParentPanel(r.attr("id"))}};t.getData=function(t,r,i,n,a){var o=void 0,l=t&&t.repeaterDeleteMap&&t.repeaterDeleteMap[r];if(l&&(o=l.idToRow[i]),!o){var d=_(t,r,Number(i));o=s[r][d]}var c=o[n]||{text:""};switch(a){case"data":return"text"==c.type?c.text:c;case"img":return c.img&&c.img[e.adaptive.getSketchKey()]||c.text;default:return a&&c[a]||c.text}},t.hasData=function(t,r){if(!O(t))return!1;var i=e.getParentRepeaterFromScriptId(T(t));return Boolean(s[i]&&-1!=s[i].props.indexOf(r))};var _=function(e,t,r){var i=0,n=e.repeaterDeleteMap&&e.repeaterDeleteMap[t],a=n&&n.deletedIds;if(!a)return r-1;for(var o=0;o<a.length;o++)a[o]<r&&i++;return r-i-1};t.addItem=function(t,r,i){i.data=!0;var n=i.targetElement;i.targetElement=t;var a=l[t];for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];if("literal"==s.type){var d=e.expr.evaluateExpr(s.literal,i);("string"==typeof d||d instanceof Date)&&(d={type:"text",text:d}),r[o]=d}}i.targetElement=n,a[a.length]=r,i.data=!1};t.deleteItems=function(t,r,n,a){var o,l=s[t],d=function(e,t){var r=e.repeaterDeleteMap;r||(r=e.repeaterDeleteMap={});var i=r[t];return i||((i=r[t]={}).deletedIds=[],i.idToRow={}),i}(r,t);if("this"==n)o=[O(r.srcElement)];else if("marked"==n)o=e.deepCopy(i[t]);else{var c=s[t];o=[];for(var f=r.targetElement,u=0;u<c.length+d.deletedIds.length;u++){var v=u+1;-1==d.deletedIds.indexOf(v)&&(r.targetElement=D(t,v),"true"==e.expr.evaluateExpr(a,r).toLowerCase()&&o.push(v))}r.targetElement=f}o.sort(function(e,t){return t-e});var p=i[t];for(u=0;u<o.length;u++){var h=o[u];if(-1==d.deletedIds.indexOf(h)){var m=e.splice(l,_(r,t,h),1)[0];d.deletedIds.push(h),d.idToRow[h]=m;for(var g=p.length-1;g>=0;g--){var b=p[g];b==h?e.splice(p,g,1):b>h&&(p[g]=b-1)}}}};t.updateEditItems=function(t,r,n,a,o){var l,d=n.targetElement,c=s[t];if("this"==a)l=[O(n.srcElement)];else if("marked"==a)l=i[t];else{var f=s[t];l=[],d=n.targetElement;for(var u=0;u<f.length;u++){var v=u+1;n.targetElement=D(t,v),"true"==e.expr.evaluateExpr(o,n).toLowerCase()&&l.push(v)}n.targetElement=d}for(var p in n.data=!0,r)if(r.hasOwnProperty(p))for(u=0;u<l.length;u++){var h=r[p],m=l[u];"literal"==h.type&&(n.targetElement=D(t,m),"object"==typeof(h=e.expr.evaluateExpr(h.literal,n))&&h.isWidget&&(h=h.text),"string"==typeof h&&(h={type:"text",text:h})),c[_(n,t,m)][p]=h}n.targetElement=d,n.data=!1};t.getAllItemIds=function(e){for(var t=[],r=s[e],i=0;i<r.length;i++)t.push(i+1);return t};t.addEditItems=function(e,t){for(var r=0;r<t.length;r++){var n=Number(t[r]),a=i[e];-1==a.indexOf(n)&&(a[a.length]=n)}};t.removeEditItems=function(t,r){for(var n=0;n<r.length;n++){var a=r[n],o=i[t],l=o.indexOf(Number(a));-1!=l&&e.splice(o,l,1)}},t.isEditItem=function(e,t){return-1!=i[e].indexOf(Number(t))};var D=function(e,t){if(!t)return e;var r=e.indexOf("_"),i=r>-1?[e.substring(0,r),e.substring(r+1)]:[e],n=i[0]+"-"+t;return i.length>1?n+"_"+i[1]:n};t.createElementId=D;t.getElementId=function(t,r){var i=t;if(e.getParentRepeaterFromScriptId(t)){var n=e.repeater.getItemIdFromElementId(r);i=e.repeater.createElementId(t,n)}return i};var T=function(e){if(!e)return e;var t=e.split("-"),r=t[0];return t.length<=1?r:(t=t[1].split("_")).length>1?r+"_"+t[1]:r};t.getScriptIdFromElementId=T;var O=function(e){var t=e.split("-");return t.length<2?"":(t=t[1].split("_"))[0]};t.getItemIdFromElementId=O;t.applySuffixToElementId=function(e,t){return e+t};t.removeSuffixFromElementId=function(e){var t=e.indexOf("_");if(-1!=t)return e.substr(0,t);var r=e.indexOf("p");return-1!=r?D(e.substr(0,r),O(e)):e}}),$axure.internal(function(e){var t=e.dynamicPanelManager={},r=t.isIdFitToContent=function(t){var r=$obj(t);return!!(r&&e.public.fn.IsDynamicPanel(r.type)&&r.fitToContent)&&!$jobj(t).attr("data-notfit")},i=function(t){var r=I(t);if(r)h(r)&&i(r);else{var a=y(t);if(a){var o=a.parent;return n(o,a.stateId,!0),void(b(o,a.state)&&i(o))}var l=e.getParentRepeaterFromElementId(t),s=$obj(l);if(s&&t!=l&&s.repeaterPropMap.fitToContent){var d=e.repeater.getItemIdFromElementId(t),c=e.repeater.createElementId(l,d),f=e("#"+c).childrenBoundingRect();e.repeater.setItemSize(l,d,f.right,f.bottom)}else e.adaptive.updateMobileScrollOnBody()}};t.fitParentPanel=i;var n=t.updateMobileScroll=function(t,r,i){if(!t)return!1;if(e.dynamicPanelManager.isIdFitToContent(t))return!1;var n=$obj(t);if(!n||"none"==n.scrollbars.toLowerCase())return!1;var a=$jobj(r);if(e.adaptive.removeNiceScroll(a,i),!e.adaptive.isDeviceMode()||MOBILE_DEVICE)return a.css("cursor",""),!1;var o=r+"_content",l=e("#"+o).childrenBoundingRect(),s=l.right,d=l.bottom;if($("#"+o).css({height:d+"px",width:s+"px"}),n.isExpo){var c=n.headerHeight?n.headerHeight:0,f=n.footerHeight?n.footerHeight:0;e.adaptive.addNiceScroll(a,{emulatetouch:!0,bouncescroll:!1,grabcursorenabled:!1,railmargin:{top:c,bottom:f},scrollbarid:r+"-sb"}),a.find(".nicescroll-rails").css("margin-top",c+"px")}else e.adaptive.addNiceScroll(a,{emulatetouch:!0,horizrailenabled:"verticalAsNeeded"!=n.scrollbars},i);a.css("cursor","url(resources/css/images/touch.cur), auto"),a.css("cursor","url(resources/css/images/touch.svg) 32 32, auto")};t.initMobileScroll=function(){var t=[];e("*").each(function(r,i){var n=e.repeater.getScriptIdFromElementId(i);e.public.fn.IsDynamicPanel(r.type)&&"None"!=r.scrollbars&&"none"!=r.scrollbars&&!e.visibility.isElementIdLimboOrInLimboContainer(n)&&(t[t.length]=i)});for(var r=t.length-1;r>=0;r--){var i=t[r],a=e.repeater.applySuffixToElementId(i,"_state0");n(i,a,!0)}},t.initialize=function(){$axure.resize(l),$(window).scroll(d)};var a=[],o=!1,l=function(){if(o)for(var t in a)p(t);else e("*").each(function(e,t){s(e)&&p(t)}),o=!0;u()},s=t.isPercentWidthPanel=function(t){return t&&e.public.fn.IsDynamicPanel(t.type)&&t.percentWidth};t.updatePanelContentPercentWidth=function(e){$jobj(e).children(".panel_state").children(".panel_state_content").each(function(){$(this).children(".ax_dynamic_panel").each(function(){p(this.id)})})},t.updatePercentPanelCache=function(e){e.each(function(e,t){s(e)&&v(e,t,!0)&&p(t)})};var d=function(){u()},c=[],f=!1,u=function(){f||($axure(function(e){return e.fixedHorizontal&&"center"==e.fixedHorizontal&&!e.percentWidth}).each(function(e,t){c.push(t)}),f=!0);for(var t=0;t<c.length;t++){var r=c[t],i=e("#"+r).offsetBoundingRect(),n=i.left,a=$(window).width(),o=$("#"+r);if(n>=0&&a>=i.width)o.css("left","50%");else{var l=-e.getNumFromPx(o.css("margin-left"));o.css("left",l+"px")}}};t.resetFixedPanel=function(e,t){"center"==e.fixedHorizontal&&(t.style.marginLeft=""),"middle"==e.fixedVertical&&(t.style.marginTop="")},t.resetAdaptivePercentPanel=function(e,t){s(e)&&("center"==e.fixedHorizontal?t.style.marginLeft="":"right"==e.fixedHorizontal&&(t.style.width=""))};var v=function(t,i,n){var o=!1,l=$jobj(i),s=e("#"+i);if((null==a[i]||n)&&("center"==t.fixedHorizontal?a[i]=e.getNumFromPx(l.css("margin-left")):"right"==t.fixedHorizontal?a[i]=s.width()+e.getNumFromPx(l.css("right")):a[i]=e.getNumFromPx(l.css("left")),o=!0),"right"==t.fixedHorizontal&&r(i)){var d=e.visibility.GetPanelState(i)+"_content",c=e("#"+d).childrenBoundingRect().right;a[i]=c+e.getNumFromPx(l.css("right")),o=!0}return o},p=t.updatePanelPercentWidth=function(t){var r=$obj(t);if(s(r)){var i,n;if(v(r,t,!1),r.fixedHorizontal)n=0,i=$(window).width();else{var o=y(t);if(o){var l=o.parent;if(i=e("#"+l).width(),$obj(l).percentWidth){var d=e.repeater.applySuffixToElementId(l,"_state"+o.state)+"_content";n=-e.getNumFromPx($jobj(d).css("margin-left"))}else n=0}else{var c=e.getParentRepeaterFromScriptId(e.repeater.getScriptIdFromElementId(t));if(c){var f=e.repeater.getItemIdFromElementId(t),u=e.repeater.createElementId(c,f);n=0,i=e("#"+u).width()}else{i=$(window).width();var p=e.getNumFromPx($("body").css("left")),h=e.getNumFromPx($("body").css("width")),m="center"==e.adaptive.getPageStyle().pageAlignment;i=Math.max(i,h),n=m?-(i-h)/2-p:0}}}var g=$jobj(t);"left"==r.fixedHorizontal?g.css("left",n+"px"):"center"==r.fixedHorizontal?(g.css("left",n+"px"),g.css("margin-left","0px")):g.css("left",n+"px"),g.css("width",i+"px"),e.visibility.setResizedSize(t,i,e("#"+t).height());for(var b=a[t],I=g;-1!=I.children()[0].id.indexOf(e.visibility.CONTAINER_SUFFIX);)I=I.children();var P=I.children(".panel_state");P.css("width",i+"px"),"center"==r.fixedHorizontal?P.children(".panel_state_content").css("left","50%").css("margin-left",b+"px"):"right"==r.fixedHorizontal?P.children(".panel_state_content").css("left",i-b+"px"):P.children(".panel_state_content").css("margin-left",b-n+"px")}};t.updateParentsOfNonDefaultFitPanels=function(){e("*").each(function(t,r){e.public.fn.IsDynamicPanel(t.type)&&t.fitToContent&&(e.visibility.isElementIdLimboOrInLimboContainer(r)||e.visibility.GetPanelState(r)!=e.repeater.applySuffixToElementId(r,"_state0")&&i(r))})},t.updateAllLayerSizeCaches=function(){var t=[];e("*").each(function(r,i){e.public.fn.IsLayer(r.type)&&(e.visibility.isElementIdLimboOrInLimboContainer(i)||(t[t.length]=i))});for(var r=t.length-1;r>=0;r--){var i=t[r];h(i)}};var h=function(t){var r=e("#"+t),i=r.offsetBoundingRect(),n=r.childrenBoundingRect(),a=n.size,o=n.location,l=i.width!=a.width||i.height!=a.height,s=i.x!=o.x||i.y!=o.y;return!(!l&&!s)&&(l&&(e.visibility.setResizedSize(t,a.width,a.height),e.event.raiseSyntheticEvent(t,"onResize")),s&&(e.visibility.setMovedLocation(t,o.x,o.y),e.event.raiseSyntheticEvent(t,"onMove")),!0)};t.setFitToContentCss=function(t,r,i,n){if(e.dynamicPanelManager.isIdFitToContent(t)!=r){var a,o=$jobj(t),l=$obj(t).scrollbars;if(r)o.attr("style",""),o.removeAttr("data-notfit"),(a={}).position="relative","none"!=l&&(a.overflow="visible",a["-webkit-overflow-scrolling"]="visible"),"verticalAsNeeded"==l?(a["overflow-x"]="visible",a["-ms-overflow-x"]="visible"):"horizontalAsNeeded"==l&&(a["overflow-y"]="visible",a["-ms-overflow-y"]="visible"),o.children().css(a);else{o.attr("data-notfit","true");var s={width:i,height:n};a={width:i,height:n},s.overflow="hidden",a.position="absolute","none"!=l&&(a.overflow="auto",a["-webkit-overflow-scrolling"]="touch"),"verticalAsNeeded"==l?(a["overflow-x"]="hidden",a["-ms-overflow-x"]="hidden"):"horizontalAsNeeded"==l&&(a["overflow-y"]="hidden",a["-ms-overflow-y"]="hidden"),o.css(s),o.children().css(a)}}};var m=function(t){var r=$obj(t);if(!r||!e.public.fn.IsDynamicPanel(r.type))return t;for(var i=e.visibility.applyWidgetContainer(t,!0,!1,!0).children(),n=0;n<i.length;n++){for(var a=i[n];e.visibility.isContainer(a.id);)a=$(a).children()[0];if(a&&a.style&&"none"!=a.style.display)return a.id}return t},g=function(t){return e("#"+m(t))};t.getShownState=function(e){return $jobj(m(e))};var b=function(t,r){if(!t)return!1;if(!e.dynamicPanelManager.isIdFitToContent(t))return!1;var i=e.repeater.applySuffixToElementId(t,"_state"+r),n=i+"_content",a=$jobj(i),o=e("#"+n).childrenBoundingRect(),l={width:o.right,height:o.bottom},s=a.width(),d=a.height();if(s==l.width&&d==l.height)return!1;var c=$obj(t).percentWidth;return c||a.width(l.width),a.height(l.height),$jobj(n).children(".ax_dynamic_panel").each(function(){p(this.id)}),i==e.visibility.GetPanelState(t)&&(e.visibility.setResizedSize(t,c?e("#"+t).width():l.width,l.height),P(t,s,d,l.width,l.height),e.event.raiseSyntheticEvent(t,"onResize"),e.flyoutManager.updateFlyout(t),!0)},y=function(t,r,i){r=r||e.getPathFromScriptId(e.repeater.getScriptIdFromElementId(t));var n=$obj(t);if(n.parentDynamicPanel){r[r.length-1]=n.parentDynamicPanel;var a=e.getScriptIdFromPath(r);if(!a)return;a=e.repeater.getElementId(a,t);for(var o=$obj(a),l={parent:a},s=0;s<o.diagrams.length;s++){var d=e.repeater.applySuffixToElementId(a,"_state"+s);if(0!=$jobj(d).find("#"+(i||t)).length){l.state=s,l.stateId=d;break}}return l}if(1!=r.length){r.pop();var c=e.getScriptIdFromPath(r);if(c)if(c=e.repeater.getElementId(c,t),e.repeater.getItemIdFromElementId(c)==e.repeater.getItemIdFromElementId(t))return y(c,r,i||t)}},I=function(t,r){r=r||e.getPathFromScriptId(e.repeater.getScriptIdFromElementId(t));var i=e.getLayerParentFromElementId(t);if(i)return i;if(1!=r.length){r.pop();var n=e.getScriptIdFromPath(r);if(n){n=e.repeater.getElementId(n,t);var a=y(t);if(a){var o=y(n);if(!o||a.parent!=o.parent)return}if(e.repeater.getItemIdFromElementId(n)==e.repeater.getItemIdFromElementId(t))return I(n,r)}}},P=t.adjustFixed=function(t,r,i,n,a){var o=x(t,r,i,n,a);o&&e.action.addAnimation(t,e.action.queueTypes.move,function(){e.move.MoveWidget(t,o[0],o[1],{easing:"none",duration:0},!1,null,!0)})},x=t.getFixedPosition=function(e,t,r,i,n){var a=$obj(e),o=0,l=0;return"center"==a.fixedHorizontal&&(o=(t-i)/2),"middle"==a.fixedVertical&&(l=(r-n)/2),0==o&&0==l?void 0:[o,l]};t.getFixedInfo=function(t){var r=$obj(t);if(!r||!e.public.fn.IsDynamicPanel(r.type))return{};var i=$jobj(t);if("absolute"==i.css("position"))return{};var n={},a=r.fixedHorizontal;return a?(n.fixed=!0,n.horizontal=a,n.vertical=r.fixedVertical,"left"==n.horizontal?n.x=e.getNumFromPx(i.css("left")):"center"==n.horizontal?n.x=e.getNumFromPx(i.css("margin-left")):"right"==n.horizontal&&(n.x=e.getNumFromPx(i.css("right"))),"top"==n.vertical?n.y=e.getNumFromPx(i.css("top")):"middle"==n.vertical?n.y=e.getNumFromPx(i.css("margin-top")):"bottom"==n.vertical&&(n.y=e.getNumFromPx(i.css("bottom"))),n):n};t.compressToggle=function(t,r,i,n,a){var o,l,s=e.getTypeFromElementId(t)==e.constants.LAYER_TYPE,d=r?"top":"left",c=r?"height":"width";o=e("#"+t)[d](!0),l=s?e("#"+t)[c]():g(t)[c](),i||(o+=l,l*=-1),N(t,r,o,l,n,a)};t.compressDelta=function(t,r,i,n,a,o){var l=$jobj(r),s=$jobj(i),d=n?"top":"left",c=n?"height":"width",f=e("#"+t)[d](!0);f+=l[c]();var u=s[c]()-l[c](),v=n?"width":"height",p=Math.max(l[v](),s[v]());N(t,n,f,u,a,o,p)};var N=function(t,r,i,n,a,o,l){var s={prop:r?"left":"top",offset:r?"width":"height"};if(e.getTypeFromElementId(t)==e.constants.LAYER_TYPE)s.start=e("#"+t)[s.prop](!0),s.end=s.start+e("#"+t)[s.offset]();else{var d=$jobj(t);void 0===l&&(l=function(t){var r=$obj(t);return r&&e.public.fn.IsDynamicPanel(r.type)?g(t):e("#"+t)}(t)[s.offset]()),s.start=e.getNumFromPx(d.css(s.prop)),s.end=s.start+l}if(!(isNaN(s.start)||isNaN(s.end)||isNaN(i)||isNaN(n))){if("fixed"==$jobj(t).css("position")){var c=$("#base").position().left;s.start-=c,s.end-=c}a||(a="none",o=0);for(var f=e("#"+t).getParents(!1,["item","state","layer"])[0],u=f&&e.getObjectFromElementId(e.repeater.removeSuffixFromElementId(f));u&&e.public.fn.IsLayer(u.type)&&e.visibility.IsIdVisible(f);){var v=e.visibility.applyWidgetContainer(f,!0,!0);if(v.length){var p=e.getNumFromPx(v.css("left")),h=e.getNumFromPx(v.css("top")),m="left"==s.prop?p:h,b="left"==s.prop?h:p;i+=b,s.start+=m,s.end+=m}u=(f=e("#"+f).getParents(!1,["item","state","layer"])[0])&&e.getObjectFromElementId(e.repeater.removeSuffixFromElementId(f))}var y=u&&e.public.fn.IsLayer(u.type)&&f;if(y){var I=!$jobj(y+"_container").length&&!e.visibility.IsIdVisible(y);e.visibility.pushContainer(y,!1),I&&(v=$jobj(y+"_container"),p=e.getNumFromPx(v.css("left")),h=e.getNumFromPx(v.css("top")),m="left"==s.prop?p:h,i-=b="left"==s.prop?h:p,s.start-=m,s.end-=m)}var P=f?$("#"+f):void 0,x=f?P.scrollLeft():0,N=f?P.scrollTop():0;f&&$jobj(f+"_content").length>0&&(f+="_content"),f&&$jobj(f+"_container").length>0&&(f+="_container");var E=$(window),F=E.scrollLeft(),j=E.scrollTop(),S=$(f?"#"+f:"#base");S.hide(),w(t,S.children(),r,i,n,s,a,o),S.show(),0!=x&&P.scrollLeft(x),0!=N&&P.scrollTop(N),E.scrollLeft()!=F&&E.scrollLeft(F),E.scrollTop()!=j&&E.scrollTop(j),y&&e.visibility.popContainer(y,!1);var M=e.repeater.getItemIdFromElementId(t);if(M){var C=e.getParentRepeaterFromElementId(t);f==e.repeater.createElementId(C,M)&&(u.repeaterPropMap.fitToContent||e.repeater.pushItems(C,M,n,r))}}},E=function(t,r,i,n,a){var o,l,s=e("#"+t).offsetBoundingRect();if(o=(r?s.top:s.left)+(r?s.height:s.width),(l="left"==n.prop?[s.left]:[s.top])[1]=l[0]+("width"==n.offset?s.width:s.height),a){var d=e("#"+a);o-=Number(d[r?"top":"left"](!0)),l[0]-=Number(d[n.prop](!0))}return!(isNaN(o)||isNaN(l[0])||isNaN(l[1])||o<i||l[1]<=n.start||l[0]>=n.end)},w=function(t,r,i,n,a,o,l,s,d){for(var c=[],f=!0,u=0;u<r.length;u++){var v=$(r[u]);v[0]&&"A"==v[0].tagName&&v.hasClass("basiclink")&&(v=v.children());var p=v.attr("id");if(p!=t&&p&&"u"==p[0]&&$obj(p)&&!$obj(p).fixedVertical)if(e.getTypeFromElementId(p)!=e.constants.LAYER_TYPE){var h=p.substring(1).split("-");if(!(h.length<1||isNaN(Number(h[0]))||2==h.length&&isNaN(Number(h[1]))||h.length>2)){var m,b,y=e("#"+p),I=i?"top":"left";if(m=Number(y[I](!0)),b=[Number(y[o.prop](!0))],d){var P=e("#"+d);m-=Number(P[I](!0)),b[0]-=Number(P[o.prop](!0))}var x=g(p);b[1]=b[0]+x[o.offset](),isNaN(m)||isNaN(b[0])||isNaN(b[1])||m<n||b[1]<=o.start||b[0]>=o.end?f=!1:c.push(p)}}else{if(!E(p,i,n,o,d)){f=!1;continue}e.visibility.pushContainer(p,!1);var N=e.visibility.applyWidgetContainer(p,!0,!0),F=(N.length?N:v).children(),j=-e.getNumFromPx(N.css("left")),S=-e.getNumFromPx(N.css("top")),M="left"==o.prop?j:S,C="left"==o.prop?S:j,z={prop:o.prop,offset:o.offset,start:o.start+M,end:o.end+M};w(t,F,i,n+C,a,z,l,s,p)?c.push(p):f=!1,e.visibility.popContainer(p,!1)}else{var L=p&&p.split("_")[1];f=f&&("ann"==L||"ref"==L)}}if(f&&d)return!0;for(u=0;u<c.length;u++)e("#"+c[u]).moveBy(i?0:a,i?a:0,"none"==l?{}:{duration:s,easing:l});return!1};t.parentHandlesStyles=function(t){var r=e("#"+t).getParents(!0,["dynamicPanel","layer"])[0];if(!r)return!1;for(var i=!0,n=0;n<r.length;n++){var a=r[n];if($obj(a).propagate)return{id:a,direct:i};i=!1}return!1};t.propagateMouseOver=function(e,t){F(e,!0,t)};t.propagateMouseDown=function(e,t){F(e,!1,t)};var F=function(t,r,i){var n=function(t){if(t)for(var a=0;a<t.length;a++){var o=t[a].id,l=$obj(o);null==l&&(o=o.split("_")[0],l=$obj(o)),null!=l&&((!e.public.fn.IsDynamicPanel(l.type)&&!e.public.fn.IsLayer(l.type)||l.propagate)&&(r?e.style.SetWidgetHover(o,i):e.style.SetWidgetMouseDown(o,i),e.annotation.updateLinkLocations(o),n(t[a].children)))}};n(e("#"+t).getChildren(!0)[0].children)}});