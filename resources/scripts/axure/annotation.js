$axure.internal(function(n){n.annotation={};var t=n.annotation.updateLinkLocations=function(t){var e=n.GetTextPanelId(t);if(e){var a=n.getObjectFromElementId(t).style.rotation;if(WEBKIT&&a){var i=document.getElementById(t).style["-webkit-transform"],o=document.getElementById(e).style["-webkit-transform"];$("#"+t).css("-webkit-transform","scale(1)"),$("#"+e).css("-webkit-transform","scale(1)")}$("#"+e).find('div[id$="_ann"]').each(function(n,t){var e=t.id.replace("_ann",""),a=$("#"+e),i=a.position();i.left+=a.width();var o=i.left,r=i.top-5;$(t).css("left",o).css("top",r)}),WEBKIT&&a&&($("#"+t).css("-webkit-transform",i||""),$("#"+e).css("-webkit-transform",o||""))}};n.annotation.initialize=function(){e(n("*"),!0)};var e=n.annotation.createFootnotes=function(e,i){if(n.document.configuration.showAnnotations&&n.pageData.notesData.widgetNotes){var o=n.pageData.notesData.ownerToFns;$.isEmptyObject(o)||e.each(function(e,s){var l=o[e.id];if(void 0!==l){var c=$("#"+s);if("hyperlink"==e.type){var f=n.GetParentIdFromLink(s);i&&(c.after("<div id='"+s+"_ann' class='annnote'>&#8203;</div>"),r($("#"+s+"_ann"),l)),t(f)}else i&&(c.after("<div id='"+s+"_ann' class='annnote'>&#8203;</div>"),r($("#"+s+"_ann"),l)),a(s,e);if(i){$("#"+s+"_ann").click(function(t){return function(t,e){let a=$(window),i=a.scrollTop(),o=a.scrollLeft(),r=e.pageX-o,s=e.pageY-i,l=window.frameElement,c=window.parent;for(;l&&"mainFrame"!==l.name;){let n=l.getBoundingClientRect();if(r+=n.x,s+=n.y,!c)break;l=c.frameElement,c=c.parent}let f={id:t,x:r,y:s};$axure.utils.isInPlayer()||(f.page=n.pageData.notesData),n.messageCenter.postMessage("toggleAnnDialog",f)}(e.id,t),!1});if(!(n.public.fn.IsReferenceDiagramObject(e.type)?e.visible:n.visibility.IsIdVisible(s))){var d=document.getElementById(s+"_ann");d&&n.visibility.SetVisible(d,!1)}}}})}function r(n,t){for(var e=0;e<t.length;e++)n.append("<div class='annnotelabel' >"+t[e]+"</div>")}};n.annotation.updateAllFootnotes=function(){e(n("*"),!1)},n.annotation.jQueryAnn=function(n){var t=[];n.each(function(n,e){n.annotation&&(t[t.length]=e)});var e=jQuery.map(t,function(n){return"#"+n+"_ann"}),a=e.length>0?e.join(", "):"";return $(a)},$(window.document).ready(function(){n.messageCenter.addMessageListener(function(n,t){"annotationToggle"==n&&(1==t?$("div.annnote").show():$("div.annnote").hide())})});var a=n.annotation.adjustIconLocation=function(t,e){var a=document.getElementById(t+"_ann");if(a){var i=n.public.fn.getCornersFromComponent(t),o=$(a).width(),r=n.public.fn.vectorPlus(i.relativeTopRight,i.centerPoint);a.style.left=r.x-o+"px";var s=e?e.type:n.getTypeFromElementId(t),l=n.public.fn.IsTableCell(s)?0:-8;a.style.top=r.y+l+"px"}var c=document.getElementById(t+"_ref");if(c){i||(i=n.public.fn.getCornersFromComponent(t));var f=n.public.fn.vectorPlus(i.relativeBottomRight,i.centerPoint);c.style.left=f.x-8+"px",c.style.top=f.y-10+"px"}}});