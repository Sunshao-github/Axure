$axure.internal(function(e){var t=e.features={},n=t.supports={};(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Tablet PC/i)||navigator.userAgent.match(/Windows Phone/i)||navigator.maxTouchPoints||navigator.msMaxTouchPoints)&&(n.touchstart=void 0!==window.ontouchstart,n.touchmove=void 0!==window.ontouchmove,n.touchend=void 0!==window.ontouchend,n.pointerdown=void 0!==window.onpointerdown,n.pointerup=void 0!==window.onpointerup,n.pointermove=void 0!==window.onpointermove),n.mobile=n.touchstart&&n.touchend&&n.touchmove,n.windowsMobile=navigator.userAgent.match(/Tablet PC/i)||navigator.userAgent.match(/Windows Phone/i);var o=t.eventNames={};o.mouseDownName=n.touchstart?"touchstart":n.pointerdown?"pointerdown":"mousedown",o.mouseUpName=n.touchend?"touchend":n.pointerup?"pointerup":"mouseup",o.mouseMoveName=n.touchmove?"touchmove":n.pointermove?"pointermove":"mousemove"}),$axure.internal(function(e){var t=!1,n=!0,o=[];$axure.messageCenter.addStateListener("isTracing",function(a,i){if(n=!1,t=i)for(var r=0;r<o.length;r++)e.messageCenter.postMessage(o[r].message,o[r].data);o=[]});var a=function(a,i){n?o.push({message:a,data:i}):t&&e.messageCenter.postMessage(a,i)},i={},r=void 0;e.setjBrowserEvent=function(e){r=e},e.getjBrowserEvent=function(){return r};var s={};e.event=s,s.mouseOverObjectId="",s.mouseDownObjectId="",s.mouseOverIds=[];var c=["mouseenter","mouseleave","contextmenu","change","focus","blur"];e.features.supports.mobile||(c[c.length]="click",c[c.length]="dblclick",c[c.length]="mousemove"),c[c.length]=e.features.eventNames.mouseDownName,c[c.length]=e.features.eventNames.mouseUpName;for(var l=0;l<c.length;l++){var u=c[l];s[u]=function(t){return function(n,o){var a=$jobj(n),i=e.getTypeFromElementId(n);if(a.is("a"))R(n,t,o);else if(e.IsTreeNodeObject(i))_(n,t,o);else if(!e.IsImageFocusable(i)||"focus"!=t&&"blur"!=t){var r=e.INPUT(n),s=0!=$jobj(r).length;N($jobj(!s||"focus"!=t&&"blur"!=t?n:r),n,t,o)}else{for(var c,l=e.repeater.applySuffixToElementId(n,"_img"),u=e.repeater.applySuffixToElementId(n,"_div"),d=0;d<a[0].children.length;d++)a[0].children[d].id==l&&(c=l),c||a[0].children[d].id!=u||(c=u);c||(c=l),N($jobj(c),n,t,o)}}}(u)}var d={onMouseOver:"mouseenter",onMouseOut:"mouseleave",onContextMenu:"contextmenu",onChange:"change",onFocus:"focus",onLostFocus:"blur"};e.features.supports.mobile||(d.onClick="click",d.onDoubleClick="dblclick",d.onMouseMove="mousemove"),d.onMouseDown=e.features.eventNames.mouseDownName,d.onMouseUp=e.features.eventNames.mouseUpName;var p={},v={OnFocus:"onFocus",OnLostFocus:"onLostFocus"},f=["OnContextMenu","OnKeyUp","OnKeyDown","OnPageContextMenu","OnPageKeyUp","OnPageKeyDown"],m=["OnFocus","OnResize","OnMouseOut","OnMouseOver"],g=!0,h=[],E=function(e){(g=e)&&(h=[$(window).scrollLeft(),$(window).scrollTop()])},b=function(t){var n=$jobj(t);return e.public.fn.isCompoundVectorHtml(n[0])},y={},I={};s.addSuppressedEvent=function(e,t){y[e]||(y[e]=[]);var n=y[e];-1==n.indexOf(t)&&n.push(t)},s.blockEvent=function(e,t){I[e]||(I[e]={});var n=I[e];return n[t]?++n[t]:n[t]=1,function(){T(e,t)}};var w=function(e,t){var n=y[e];if(n)if(1==n.length)delete y[e];else{for(var o=n.indexOf(t)+1;o<n.length;o++)n[o-1]=n[o];n.pop()}},T=function(e,t){var n=I[e];n&&--n[t]>0||w(e,t)},O=(T=function(e,t){var n=I[e];n&&--n[t]>0||w(e,t)},0),M=(new Date).getTime(),S=e.event.handleEvent=function(t,n,o,i,r){var s=o.eventType;if(!U[t]||"OnMouseEnter"!=s)if(function(e,t){var n=y[e],o=I[e];return n&&-1!=n.indexOf(t)||o&&o[t]}(t,s))w(t,s);else if(o.proxy){var c=F[t];if(c){var l=$obj(c),u=l.interactionMap&&l.interactionMap[v[s]];u||(u=o),S(c,n,u,i,r)}}else{var d=(new Date).getTime();if(d-M>100&&(M=d,O=0),0===O&&e.recording.maybeRecordEvent(t,n,o,d),O+=1,(r||function(){if(0==h.length)return g;var e=[$(window).scrollLeft(),$(window).scrollTop()];return g&&h[0]==e[0]&&h[1]==e[1]}()||"OnClick"!=s&&"OnPageClick"!=s)&&!K[s]){var p=e.getjBrowserEvent();if((r||!p||!p.originalEvent||!p.originalEvent.handled||n.isMasterEvent)&&(r||!t||e.style.getObjVisible(t)||!function(t){var n=e.getTypeFromElementId(t);return!(e.public.fn.IsReferenceDiagramObject(n)||e.public.fn.IsLayer(n)||e.public.fn.IsVector(n)&&b(t))}(t))){var E=$obj(t),T=E?E.label:n.label,C=E?E.friendlyType:n.friendlyType;i&&"OnPageLoad"!=s||a("axEvent",{label:T,type:C,event:o});var P=!0,x=!i&&D(o);if(x)j(t,n,o,r),P=!1;else{var k=[],_=[];k[0]=_;for(var N={},R=0,L=0;L<o.cases.length;L++){var B=o.cases[L];B.isNewIfGroup&&0!=L&&(R++,_=[],k[k.length]=_),_[_.length]=B;for(var Y=0;Y<B.actions.length;Y++){var H=B.actions[Y];if("wait"==H.action)break;if("refreshRepeater"==H.action)for(var W=0;W<H.repeatersToRefresh.length;W++){var J=e.getElementIdsFromPath(H.repeatersToRefresh[W],n)[0];J&&(N[J]=R)}}}for(L=0;L<k.length;L++){var V=[];for(var z in N)N[z]==L&&(V[V.length]=z);P=A(n,k[L],V)&&P}}if(P&&F[t])(c=F[t])&&((u=(l=$obj(c)).interactionMap&&l.interactionMap[v[s]])||(u=o),S(c,n,u,i,r));else{!P&&G[s]&&(K[G[s]]=!0),e.action.flushAllResizeMoveActions(n);for(var X=e.deepCopy(e.action.repeatersToRefresh);e.action.repeatersToRefresh.length;)e.action.repeatersToRefresh.pop();for(L=0;L<X.length;L++)e.repeater.refreshRepeater(X[L],n);p&&p.originalEvent&&(p.originalEvent.handled=!r&&!P&&-1==m.indexOf(s),p.originalEvent.handled&&-1!=f.indexOf(s)&&p.preventDefault()),O-=1,x||a("axEventComplete")}}}}},C=function(e,t,n,o,a,i,r,s){if(i){i.onScroll&&S(e,t,i.onScroll,r,s);var c=n.handled;i.onScrollUp&&o?(n.handled=!1,S(e,t,i.onScrollUp,r,s)):i.onScrollDown&&a&&(n.handled=!1,S(e,t,i.onScrollDown,r,s)),n.handled|=c}},j=function(t,n,o,i){if(0==o.cases.length)return!0;var r=t+"linkBox";$("#"+r).remove();var s=$("<div class='intcases' id='"+r+"'></div>");if(x(o)){var c=o.description+":<br>";for(p=0;p<o.cases.length;p++){var l=o.cases[p];c+="&nbsp;&nbsp;"+l.description.replace(/<br>/g,"<br>&nbsp;&nbsp;")+":<br>";for(var u=0;u<l.actions.length;u++)c+="&nbsp;&nbsp;&nbsp;&nbsp;"+l.actions[u].description.replace(/<br>/g,"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;")+"<br>"}c=c.substring(0,c.length-4),(v=$("<div class='intcaselink'>"+c+"</div>")).click(function(){S(t,n,o,!0,i),a("axEventComplete"),$("#"+r).remove()}),s.append(v)}else for(var d=e.eventCopy(n),p=0;p<o.cases.length;p++){var v;(v=$("<div class='intcaselink'>"+o.cases[p].description+"</div>")).click(function(t){return function(){var n=o.cases[t];a("axCase",{item:n.description,description:n.conditionString,color:n.caseColorHex});for(var i=0;i<n.actions.length;i++){var s=n.actions[i];for(var c in a("axAction",{name:s.displayName}),s.actionInfoDescriptions){var l=s.actionInfoDescriptions[c];for(var u in l)a("axInfo",{item:c,description:u,longDescription:l[u]})}}a("axEventComplete");var p=e.action.dispatchAction(d,o.cases[t].actions);return e.action.flushAllResizeMoveActions(d),$("#"+r).remove(),p}}(p)),s.append(v)}s.mouseleave(function(t){e.legacy.SuppressBubble(t)}),$("body").append(s),P(n,r)},P=function(t,n){var o=window.document.getElementById(n);o.style.top=t.pageY;var a=t.pageX;o.style.left=a,e.visibility.SetVisible(o,!0),e.legacy.BringToFront(n,!0)},D=function(t){return"alwaysDisplayTargets"==e.document.configuration.linkStyle||"neverDisplayTargets"!=e.document.configuration.linkStyle&&(0!=t.cases.length&&(!x(t)&&t.cases.length>=2))},x=function(e){for(var t=0;t<e.cases.length;t++)if(e.cases[t].condition)return!0;return!1},A=function(t,n,o){for(var i=0;i<n.length;i++){var r=n[i];if(!r.condition||k(r.condition,t)){a("axCase",{item:r.description,description:r.conditionString,color:r.caseColorHex});for(var s=0;s<r.actions.length;s++){var c=r.actions[s];if("refreshRepeater"!=c.action)for(var l in a("axAction",{name:c.displayName}),c.actionInfoDescriptions){var u=c.actionInfoDescriptions[l];for(var d in u)a("axInfo",{item:l,description:d,longDescription:u[d]})}}for(s=0;s<r.actions.length;s++){var p=r.actions[s];if("wait"==p.action)break;if("refreshRepeater"==p.action)for(var v=0;v<p.repeatersToRefresh.length;v++){var f=e.getElementIdsFromPath(p.repeatersToRefresh[i],t)[i];if(f){var m=o.indexOf(f);-1!=m&&e.splice(o,m)}}}return e.action.tryRefreshRepeaters(o,t),e.action.dispatchAction(t,r.actions),!1}}return e.action.tryRefreshRepeaters(o,t),!0},k=function(t,n){return e.expr.evaluateExpr(t,n)},_=function(e,t,n){"click"==t&&(window.document.getElementById(e).style.cursor="pointer"),R(e,t,n)},N=function(t,n,o,a){var i=function(){return!!e.style.IsWidgetDisabled(n)||a.apply(this,arguments)};!t[o]?t.bind(o,i):t[o](i)},R=function(e,t,n){var o=i[e];o||(i[e]=o={});var a=o[t];a||(o[t]=a=[]),a[a.length]=n},L=function(e,t,n){var o=window.document.getElementById(e),a=i[e]&&i[e][t];if(a)for(var r=0;r<a.length;r++)a[r].apply(o,n);O-=1},B={},F={};s.layerMapFocus=function(t,n){var o=t.objs[0];if(o){var a=e.getElementIdFromPath([o.id],{relativeTo:n});if(F[a]=n,e.public.fn.IsLayer(o.type)){s.layerMapFocus(o,a);var i=B[a];i&&(B[n]=i)}else B[n]=a}};var Y=function(t,n,o){if(e.public.fn.IsLayer(t.type))return!1;if(t.interactionMap&&t.interactionMap[o])return!1;var a=F[n];return!!a&&H(a,o)},H=function(e,t){var n=$obj(e);if(n.interactionMap&&n.interactionMap[t])return!0;var o=F[e];return!!o&&H(o,t)};e.event.getFocusableWidgetOrChildId=function(t){var n=B[t];n&&(t=n);var o=e.repeater.applySuffixToElementId(t,"_input");if($jobj(o).length>0)return o;var a=e.repeater.applySuffixToElementId(t,"_img");if($jobj(a).length>0)return a;var i=e.repeater.applySuffixToElementId(t,"_div");return $jobj(i).length>0?i:t};var U={},G={},W={},K={},J=function(t,n){var o=new Set;t.each(function(t,a){if(null!=t){var i=$jobj(a),r=e.repeater.getItemIdFromElementId(a);if(e.public.fn.IsTextArea(t.type)||e.public.fn.IsTextBox(t.type)||e.public.fn.IsCheckBox(t.type)||e.public.fn.IsRadioButton(t.type)||e.public.fn.IsListBox(t.type)||e.public.fn.IsComboBox(t.type)||e.public.fn.IsButton(t.type)||t.tabbable&&(e.public.fn.IsImageBox(t.type)||e.public.fn.IsVector(t.type)||e.IsTreeNodeObject(t.type)||e.public.fn.IsTableCell(t.type))){var c=$jobj(e.event.getFocusableWidgetOrChildId(a));c.focus(function(){window.lastFocusedControl=a,e.style.SetWidgetFocused(a,!0)}),c.blur(function(){e.style.SetWidgetFocused(a,!1)})}!function(e,t){var n=Y(e,t,"onFocus"),o=Y(e,t,"onLostFocus");(n||o)&&(e.interactionMap||(e.interactionMap={}),n&&(e.interactionMap.onFocus={proxy:!0,eventType:"OnFocus"}),o&&(e.interactionMap.onLostFocus={proxy:!0,eventType:"OnLostFocus"}))}(t,a);var l=e.public.fn.IsDynamicPanel(t.type);t.interactionMap&&function(t,n,o){var a=e.repeater.applySuffixToElementId(n,"_input"),i=$jobj(a).length?a:n;for(var r in t.interactionMap){var c=d[r];c&&(s[c](i,function(t){return function(a){if("mouseenter"==a.type&&o){if(p[n])return;p[n]=!0}e.setjBrowserEvent(a);var i=e.getEventInfoFromEvent(e.getjBrowserEvent(),!1,n);S(n,i,t)}}(t.interactionMap[r])),"mouseenter"==c.toLowerCase()&&o&&$jobj(n).on("mouseleave touchend",function(){p[n]=!1}))}}(t,a,l),(IE||$axure.browser.isEdge)&&i.mouseenter(function(){U[a]=!0}).mouseleave(function(){U[a]=!1}),Q(t,a,i);var u=e("#"+a),v=n==e.repeater.refreshType.reset;if(!r||v){if((e.public.fn.IsVector(t.type)||e.public.fn.IsImageBox(t.type)||l||e.public.fn.IsLayer(t.type)||e.public.fn.IsTextBox(t.type)||e.public.fn.IsTextArea(t.type)||e.public.fn.IsComboBox(t.type)||e.public.fn.IsListBox(t.type)||e.public.fn.IsCheckBox(t.type)||e.public.fn.IsRadioButton(t.type))&&(t.disabled&&u.enabled(!1),t.selected&&!o.has(a))){var f=$("#"+a).attr("selectiongroup");if(f)for(var m of $("[selectiongroup='"+f+"']"))o.add(m.id);u.selected(!0)}}else n==e.repeater.refreshType.preEval?((i.hasClass("disabled")||(e.IsLayer(t.type)||e.IsDynamicPanel(t.type))&&i.attr("disabled"))&&u.enabled(!1),i.hasClass("selected")&&u.selected(!0)):i.removeClass("selected");var g=""==t.placeholderText||Boolean(t.placeholderText);if((e.public.fn.IsTextArea(t.type)||e.public.fn.IsTextBox(t.type))&&g){var h=$jobj(e.INPUT(a));h.bind("focus",function(){if(t.HideHintOnFocused){var n=this.id,o=n.indexOf("_input");if(-1==o)return;var a=n.substring(0,o);if(!e.placeholderManager.isActive(a))return;e.placeholderManager.updatePlaceholder(a,!1,!0)}e.placeholderManager.moveCaret(this.id)}).bind("mouseup",function(){e.placeholderManager.moveCaret(this.id)}).bind("blur",function(){var t=this.id,n=t.indexOf("_input");if(-1!=n){var o=t.substring(0,n);$jobj(t).val()||e.placeholderManager.updatePlaceholder(o,!0)}}),ANDROID?h.bind("input",function(){if(!t.HideHintOnFocused){var n=this.id,o=n.indexOf("_input");if(-1==o)return;var a=n.substring(0,o);e.placeholderManager.isActive(a)?e.placeholderManager.updatePlaceholder(a,!1,!0):$jobj(n).val()||(e.placeholderManager.updatePlaceholder(a,!0,!1),e.placeholderManager.moveCaret(n,0))}}):h.bind("keydown",function(){if(!t.HideHintOnFocused){var n=this.id,o=n.indexOf("_input");if(-1==o)return;var a=n.substring(0,o);if(!e.placeholderManager.isActive(a))return;e.placeholderManager.updatePlaceholder(a,!1,!0)}}).bind("keyup",function(n){var o=this.id,a=o.indexOf("_input");if(-1!=a){var i=o.substring(0,a);e.placeholderManager.isActive(i)||(t.HideHintOnFocused||$jobj(o).val()||(e.placeholderManager.updatePlaceholder(i,!0),e.placeholderManager.moveCaret(o,0)),n.preventDefault())}}),e.placeholderManager.registerPlaceholder(a,t.placeholderText,"password"==h.attr("type")),e.placeholderManager.updatePlaceholder(a,!$jobj(e.repeater.applySuffixToElementId(a,"_input")).val())}if(t.submitButton&&i.keyup(function(n){if("13"==n.keyCode){var o=e.repeater.getScriptIdFromElementId(a),i=e.deepCopy(t.submitButton.path);i[i.length]=t.submitButton.id;var r=e.repeater.getItemIdFromElementId(a),s=e.getScriptIdFromPath(i,o);r&&e.getParentRepeaterFromScriptId(s)==e.getParentRepeaterFromScriptId(o)&&(s=e.repeater.createElementId(s,r));var c=e.INPUT(s);$jobj(c).length&&(s=c),e.setjBrowserEvent(n),e.event.fireClick(s)}}).keydown(function(e){"13"==e.keyCode&&e.preventDefault()}),(e.public.fn.IsTextArea(t.type)||e.public.fn.IsTextBox(t.type)||e.public.fn.IsListBox(t.type)||e.public.fn.IsComboBox(t.type)||e.public.fn.IsCheckBox(t.type)||e.public.fn.IsRadioButton(t.type))&&i.bind(e.features.eventNames.mouseDownName,function(e){e.originalEvent.donotdrag=!0}),i.bind(e.features.eventNames.mouseDownName,function(){E(!0)}),l&&i.children().scroll(function(){E(!1)}),!e.public.fn.IsTreeNodeObject(t.type)||t.interactionMap&&t.interactionMap.onClick||i.css("cursor","default"),e.event.HasClick(t)&&i&&i.css("cursor","pointer"),l&&i.children().each(function(){var t=this.id.split("_");0!=t[t.length-1].substring(5)&&e.visibility.SetVisible(this,!1)}),e.public.fn.IsTreeNodeObject(t.type)){if(i.hasClass("treeroot"))return;var b=a+"_children";if(i.children('[id="'+b+'"]:first').length>0){var y="u"+(parseInt(e.repeater.getScriptIdFromElementId(a).substring(1))+1);r&&(y=e.repeater.createElementId(y,r)),$jobj(y).children().first().is("img")||(y=""),e.tree.InitializeTreeNode(a,y,b)}i.click(function(){e.tree.SelectTreeNode(a,!0)})}if(e.public.fn.IsMenuObject(t.type)&&i.hasClass("sub_menu")){var I=e.getElementIdFromPath([t.parentCellId],{relativeTo:a});e.menu.InitializeSubmenu(a,I)}(l||e.public.fn.IsLayer(t.type))&&t.propagate&&i.mouseenter(function(){w(this.id)}).mouseleave(function(){T(this.id)}).bind(e.features.eventNames.mouseDownName,function(){Z(this.id)}).bind(e.features.eventNames.mouseUpName,function(){ee(this.id)});var w=function(t,n){var o=e.dynamicPanelManager.parentHandlesStyles(t);o&&(w(o.id,!0),o.direct)||-1==$.inArray(t,s.mouseOverIds)&&(n||(s.mouseOverIds[s.mouseOverIds.length]=t),t!=s.mouseOverObjectId&&(s.mouseOverObjectId=t,e.dynamicPanelManager.propagateMouseOver(t,!0)))},T=function(t,n){var o=e.dynamicPanelManager.parentHandlesStyles(t);if(!o||(T(o.id,!0),!o.direct)){var a=$.inArray(t,s.mouseOverIds);-1!=a&&n||(e.splice(s.mouseOverIds,a,1),t==s.mouseOverObjectId&&(s.mouseOverObjectId=""),e.dynamicPanelManager.propagateMouseOver(t,!1))}};e.public.fn.IsTreeNodeObject(t.type)&&i.click(function(){return L(this.id,"click",arguments),!1}).each(function(){this.style.cursor||(this.style.cursor="default")});var O=t.interactionMap;if(O&&(O.onDragStart||O.onDrag||O.onDragDrop||O.onSwipeLeft||O.onSwipeRight||O.onSwipeUp||O.onSwipeDown))if(l)for(var M=t.diagrams,j=0;j<M.length;j++){var P=e.repeater.applySuffixToElementId(a,"_state"+j);document.getElementById(P).addEventListener(e.features.eventNames.mouseDownName,function(t){e.drag.StartDragWidget(t,a)})}else i.bind(e.features.eventNames.mouseDownName,function(t){e.drag.StartDragWidget(t.originalEvent,a)});if(l&&O&&(O.onScroll||O.onScrollUp||O.onScrollDown))for(M=t.diagrams,j=0;j<M.length;j++){(function(t){null==$("#"+t).data("lastScrollTop")&&$("#"+t).data("lastScrollTop","0"),N($("#"+t),a,"scroll",function(n){e.setjBrowserEvent(n);var o=e.getjBrowserEvent(),i=e.getEventInfoFromEvent(o,!1,a),r=$("#"+t).scrollTop(),s=$("#"+t).data("lastScrollTop");C(a,i,o.originalEvent,r<s,r>s,O),$("#"+t).data("lastScrollTop",r)})})(P=e.repeater.applySuffixToElementId(a,"_state"+j))}if(O&&O.onMouseHover){var D,x=0;i.mouseenter(function(t){var n;e.setjBrowserEvent(t),D=e.getEventInfoFromEvent(e.getjBrowserEvent(),!1,a),n=x,window.setTimeout(function(){n==x&&ae(a,"onMouseHover",!1,D,!0)},1e3)}).mouseleave(function(t){e.setjBrowserEvent(t),x++}).mousemove(function(t){e.setjBrowserEvent(t),D=e.getEventInfoFromEvent(e.getjBrowserEvent(),!1,a)})}if(O&&O.onLongClick){var A=0;i.bind(e.features.eventNames.mouseDownName,function(t){!function(n){e.setjBrowserEvent(t);var o=e.getEventInfoFromEvent(e.getjBrowserEvent(),!1,a);window.setTimeout(function(){n==A&&ae(a,"onLongClick",!1,o,!0)},750),t.preventDefault&&t.preventDefault()}(A)}).bind(e.features.eventNames.mouseUpName,function(t){e.setjBrowserEvent(t),A++})}if(e.event.HasSelectionChanged(t)&&i.bind("change",function(t){e.setjBrowserEvent(t),ae(a,"onSelectionChange")}),e.event.HasKeyUpOrDown(t)&&s.initKeyEvents(i),e.event.HasTextChanged(t)){var k=$jobj(e.INPUT(a));e.updateElementText(a,k.val()),k.bind("keydown",function(t){e.setjBrowserEvent(t),e.event.TryFireTextChanged(a)}).bind("keyup",function(t){e.setjBrowserEvent(t),e.event.TryFireTextChanged(a)})}if(e.public.fn.IsCheckBox(t.type)||e.public.fn.IsRadioButton(t.type)){var _=$jobj(e.INPUT(a));if(e.public.fn.IsRadioButton(t.type)){var R=_.attr("name");_.prop("selected")&&e.updateRadioButtonSelected(R,a);var B=function(){if(R!==a)for(var t=$("input[name='"+R+"']").parent(),n=0;n<t.length;n++)e.style.SetWidgetSelected(t[n].id,!1,!0);e.style.SetWidgetSelected(a,!0,!0)}}else B=function(){e.style.SetWidgetSelected(a,!e.style.IsWidgetSelected(a),!0)};_.click(B)}var F=O&&(O.onClick||O.onDoubleClick),H=O&&O.onMouseMove;if(s.initMobileEvents(F?i:$(),H?i:$(),a),"hyperlink"==t.type&&i.mouseenter(function(){var t=this.id;if(-1!=s.mouseOverIds.indexOf(t))return!0;s.mouseOverIds[s.mouseOverIds.length]=t;var n=s.mouseOverObjectId;if(n&&e.style.IsWidgetDisabled(n))return!0;e.style.SetLinkHover(t);var o=L(t,"mouseenter",arguments);return e.annotation.updateLinkLocations(e.GetParentIdFromLink(t)),o}).mouseleave(function(){var t=this.id;e.splice(s.mouseOverIds,s.mouseOverIds.indexOf(t),1);var n=s.mouseOverObjectId;if(n&&e.style.IsWidgetDisabled(n))return!0;e.style.SetLinkNotHover(t);var o=L(t,"mouseleave",arguments);return e.annotation.updateLinkLocations(e.GetParentIdFromLink(t)),o}).bind(e.features.eventNames.mouseDownName,function(){var t=this.id,n=s.mouseOverObjectId;if(!e.style.IsWidgetDisabled(n))return n&&e.style.SetWidgetMouseDown(n,!0),e.style.SetLinkMouseDown(t),e.annotation.updateLinkLocations(e.GetParentIdFromLink(t)),!1}).bind(e.features.eventNames.mouseUpName,function(){var t=this.id,n=s.mouseOverObjectId;n&&e.style.IsWidgetDisabled(n)||(n&&e.style.SetWidgetMouseDown(n,!1),e.style.SetLinkNotMouseDown(t),e.annotation.updateLinkLocations(e.GetParentIdFromLink(t)))}).click(function(){var t=this.id,n=s.mouseOverObjectId;if(!n||!e.style.IsWidgetDisabled(n))return L(t,"click",arguments)}),"inlineFrame"==t.type){var G=t.target,W="";if(G.includeVariables&&G.url){var K=G.url;W=-1==K.toLowerCase().indexOf("http://")?e.globalVariableProvider.getLinkUrl(K):K}else G.urlLiteral&&(W=e.expr.evaluateExpr(G.urlLiteral,e.getEventInfoFromEvent(void 0,!0,a),!0));W&&$jobj(e.INPUT(a)).attr("src",W)}}})};function V(e){s.mouseDownObjectId&&$("#"+s.mouseDownObjectId).trigger({type:"mouseup",checkMouseOver:e.data&&e.data.checkMouseOver})}e.initializeObjectEvents=J,$axure.initializeObjectEvents=function(t,n,o){J(e(t),e.repeater.refreshType.persist)},e.event.updateIxStyleEvents=function(t){q(t),Q(e.getObjectFromElementId(t),t,$jobj(t),!0)};var z,X,q=function(t){$jobj(t).off("mouseenter.ixStyle").off("mouseleave.ixStyle").off(e.features.eventNames.mouseDownName+".ixStyle").off(e.features.eventNames.mouseUpName+".ixStyle")},Q=function(t,n,o,a){var i=e.public.fn.IsDynamicPanel(t.type);(a||e.event.HasIxStyles(t))&&"hyperlink"!=t.type&&!e.public.fn.IsLayer(t.type)&&!i&&t.type!=e.constants.TEXT_TYPE&&!e.public.fn.IsRepeater(t.type)&&!e.public.fn.IsTreeNodeObject(t.type)&&(o.on("mouseenter.ixStyle",function(){var t=this.id,n=e.dynamicPanelManager.parentHandlesStyles(t);n&&n.direct||-1==$.inArray(t,s.mouseOverIds)&&(s.mouseOverIds[s.mouseOverIds.length]=t,t!=s.mouseOverObjectId&&(s.mouseOverObjectId=t,e.style.SetWidgetHover(t,!0),e.annotation.updateLinkLocations(t)))}).on("mouseleave.ixStyle",function(){var t=this.id,n=e.dynamicPanelManager.parentHandlesStyles(t);n&&n.direct||(e.splice(s.mouseOverIds,$.inArray(t,s.mouseOverIds),1),t==s.mouseOverObjectId&&(s.mouseOverObjectId=""),e.style.SetWidgetHover(t,!1),e.annotation.updateLinkLocations(t))}),o.on(e.features.eventNames.mouseDownName+".ixStyle",function(){var t=this.id,n=e.dynamicPanelManager.parentHandlesStyles(t);n&&(Z(n.id),n.direct)||(s.mouseDownObjectId=t,$(document).one("mouseup",{checkMouseOver:!0},V),$("#"+t).one("dragend",V),e.style.SetWidgetMouseDown(this.id,!0),e.annotation.updateLinkLocations(t))}).on(e.features.eventNames.mouseUpName+".ixStyle",function(t){var n=this.id,o=e.dynamicPanelManager.parentHandlesStyles(n);o&&(ee(o.id),o.direct)||($(document).off("mouseup",V),s.mouseDownObjectId&&($("#"+s.mouseDownObjectId).off("dragend",V),s.mouseDownObjectId=""),e.style.ObjHasMouseDown(n)&&(e.style.SetWidgetMouseDown(n,!1,t.checkMouseOver),e.annotation.updateLinkLocations(n)))}))},Z=function(t){var n=e.dynamicPanelManager.parentHandlesStyles(t);n&&(Z(n.id),n.direct)||(s.mouseDownObjectId=t,e.dynamicPanelManager.propagateMouseDown(t,!0))},ee=function(t){var n=e.dynamicPanelManager.parentHandlesStyles(t);n&&(ee(n.id),n.direct)||(s.mouseDownObjectId="",e.dynamicPanelManager.propagateMouseDown(t,!1))};!function(){var t={ctrl:!1,alt:!1,shift:!1,keyCode:0};e.event.keyState=function(){return e.deepCopy(t)};var n=[16,17,18],o=!1;e.event.initKeyEvents=function(a){a.keydown(function(a){o&&(o=!1,t.keyCode=0);var i=this.id;t.ctrl=a.ctrlKey,t.alt=a.altKey,t.shift=a.shiftKey,-1==n.indexOf(a.keyCode)&&(t.keyCode=a.keyCode),e.setjBrowserEvent(a),i?ae(i,"onKeyDown",!1,void 0,!0):ue("onKeyDown",void 0,!1,[e.constants.PAGE_TYPE,e.constants.REFERENCE_DIAGRAM_OBJECT_TYPE,e.constants.DYNAMIC_PANEL_TYPE,e.constants.REPEATER],[e.constants.PAGE_TYPE,e.constants.REFERENCE_DIAGRAM_OBJECT_TYPE,e.constants.LAYER_TYPE])}),a.keyup(function(a){var i=this.id;if(-1==n.indexOf(a.keyCode)?o=!0:o&&(o=!1,t.keyCode=0),e.setjBrowserEvent(a),i?ae(i,"onKeyUp",!1,void 0,!0):ue("onKeyUp",void 0,!1,[e.constants.PAGE_TYPE,e.constants.REFERENCE_DIAGRAM_OBJECT_TYPE,e.constants.DYNAMIC_PANEL_TYPE,e.constants.REPEATER],[e.constants.PAGE_TYPE,e.constants.REFERENCE_DIAGRAM_OBJECT_TYPE,e.constants.LAYER_TYPE]),!a.isDefaultPrevented()&&!i)switch(a.which){case 188:e.messageCenter.postMessage("previousPage");break;case 190:e.messageCenter.postMessage("nextPage");break;default:return}})}}(),s.initMobileEvents=function(t,n,o){e.features.supports.mobile&&(t.bind("touchstart",function(t){var n=t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0];if(n&&(z=[n.pageX,n.pageY],(new Date).getTime()-X<500)){var a=""===o?e.pageData.page:e.getObjectFromElementId(o);a&&a.interactionMap&&a.interactionMap.onDoubleClick&&t.preventDefault()}}).bind("touchend",function(t){var n=t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0];if(n&&z&&!e.style.IsWidgetDisabled(o)){var a=[n.pageX,n.pageY],i=a[0]-z[0],r=a[1]-z[1];if(i*i+r*r<625){e.setjBrowserEvent(t),ae(o,"onClick",!1,void 0,!0);var s=(new Date).getTime();s-X<500&&(ae(o,"onDoubleClick",!1,void 0,!0),t.originalEvent&&t.originalEvent.handled&&t.preventDefault()),X=s}}}),n.bind("touchmove",function(t){e.setjBrowserEvent(t),ae(o,"onMouseMove",!1,void 0,!0),t.originalEvent&&t.originalEvent.handled&&t.preventDefault()}))},function(){var t;s.attachClick=function(n,o){e.features.supports.mobile?($(n).bind("touchstart",function(e){var n=e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0];n&&(t=[n.pageX,n.pageY])}),$(n).bind("touchend",function(e){var n=e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0];if(n){var a=[n.pageX,n.pageY],i=a[0]-t[0],r=a[1]-t[1];i*i+r*r<625&&o()}})):n.click(o)}}(),s.fireClick=function(t){e.features.supports.mobile?ae(t,"onClick",!1,void 0,!0):$("#"+t).click()};var te=e.mouseLocation={x:0,y:0},ne=e.lastMouseLocation={x:0,y:0},oe=function(t,n){var o,a;t&&(IE_10_AND_BELOW&&"unknown"==typeof t.type||"mousemove"!=t.type&&"touchstart"!=t.type&&"touchmove"!=t.type&&"touchend"!=t.type||(IE_10_AND_BELOW?(o=t.clientX+$("html").scrollLeft(),a=t.clientY+$("html").scrollTop()):(o=t.pageX,a=t.pageY),te.x==o&&te.y==a||(ne.x=te.x,ne.y=te.y,te.x=o,te.y=a,e.geometry.tick(te.x,te.y,n))))};s.updateMouseLocation=oe;s.leavingState=function(t){var n=s.mouseOverIds;if(0!=n.length)for(var o=$jobj(t),a=n.length-1;a>=0;a--){var i=n[a];o.find("#"+i).length&&(e.splice(n,$.inArray(i,n),1),e.style.SetWidgetMouseDown(i,!1),e.style.SetWidgetHover(i,!1))}};e.event.raiseSelectedEvents=function(t,n){e.event.raiseSyntheticEvent(t,"onSelectedChange"),n?e.event.raiseSyntheticEvent(t,"onSelect"):e.event.raiseSyntheticEvent(t,"onUnselect")};var ae=function(t,n,o,a,i){var r=""===t?e.pageData.page:e.getObjectFromElementId(t),s=r&&r.interactionMap&&r.interactionMap[n];s&&(a=a||e.getEventInfoFromEvent(e.getjBrowserEvent(),o,t),S(t,a,s,!1,!i))};e.event.raiseSyntheticEvent=ae;e.event.hasSyntheticEvent=function(t,n){var o=e.getObjectFromScriptId(t),a=o&&o.interactionMap&&o.interactionMap[n];return Boolean(a)};e.event.addEvent=function(t,n,o,a){var i=void 0;return t.attachEvent?i=e.features.supports.windowsMobile?t.attachEvent(n,o):t.attachEvent("on"+n,o):t.addEventListener&&(t.addEventListener(n,o,a),i=!0),i};e.event.removeEvent=function(t,n,o,a,i){var r=void 0;return t.detachEvent?r=!i&&e.features.supports.windowsMobile?t.detachEvent(n,o):t.detachEvent("on"+n,o):t.removeEventListener&&(t.removeEventListener(n,o,a),r=!0),r};s.initialize=function(){e.repeater.loadRepeaters(),s.initKeyEvents($(window)),function(){for(var e in G.OnLongClick="OnClick",W.onMouseDown="OnClick",W){var t=d[e];t&&$("body").bind(t,function(){K[W[e]]=!1})}}(),J(e(function(t,n){return!e.repeater.getItemIdFromElementId(n)})),de(),$(".basiclink").click(function(){return!1})},e.event.HasIxStyles=function(e){if(e.style.stateStyles)return!0;if(e.adaptiveStyles)for(var t in e.adaptiveStyles)if(e.adaptiveStyles[t].stateStyles)return!0;return!1},e.event.HasTextChanged=function(t){if(!e.public.fn.IsTextBox(t.type)&&!e.public.fn.IsTextArea(t.type))return!1;var n=t.interactionMap;return n&&n.onTextChange},e.event.TryFireTextChanged=function(t){var n=$jobj(e.repeater.applySuffixToElementId(t,"_input"));e.hasElementTextChanged(t,n.val())&&(e.updateElementText(t,n.val()),e.event.raiseSyntheticEvent(t,"onTextChange"))},e.event.HasSelectionChanged=function(t){if(!e.public.fn.IsListBox(t.type)&&!e.public.fn.IsComboBox(t.type))return!1;var n=t.interactionMap;return n&&n.onSelectionChange},e.event.HasKeyUpOrDown=function(t){if(e.public.fn.IsTextBox(t.type)||e.public.fn.IsTextArea(t.type))return!0;var n=t.interactionMap;return n&&(n.onKeyUp||n.onKeyDown)},e.event.HasCheckedChanged=function(t){if(!e.public.fn.IsCheckBox(t.type)&&!e.public.fn.IsRadioButton(t.type))return!1;var n=t.interactionMap;return n&&n.onSelectedChange},e.event.HasClick=function(e){var t=e.interactionMap;return t&&t.onClick};e.loadDynamicPanelsAndMasters=function(t,n,o){ue("onLoad",t,!0,[e.constants.PAGE_TYPE,e.constants.REFERENCE_DIAGRAM_OBJECT_TYPE,e.constants.DYNAMIC_PANEL_TYPE],[e.constants.ALL_TYPE],n,o)};e.viewChangePageAndMasters=function(t){ue("onAdaptiveViewChange",void 0,!0,[e.constants.PAGE_TYPE,e.constants.REFERENCE_DIAGRAM_OBJECT_TYPE,e.constants.DYNAMIC_PANEL_TYPE],[e.constants.PAGE_TYPE,e.constants.REFERENCE_DIAGRAM_OBJECT_TYPE]),ie(t)};var ie=function(t){try{if("mainFrame"==window.name||!CHROME_5_LOCAL&&window.parent.$&&window.parent.$("#mainFrame").length>0){var n={viewId:e.adaptive.currentViewId,forceSwitchTo:t};$axure.messageCenter.postMessage("adaptiveViewChange",n)}}catch(e){}};e.postAdaptiveViewChanged=ie;e.postResize=function(t){return e.setjBrowserEvent(t),ue("onResize",void 0,!1,[e.constants.PAGE_TYPE,e.constants.REFERENCE_DIAGRAM_OBJECT_TYPE,e.constants.DYNAMIC_PANEL_TYPE,e.constants.REPEATER],[e.constants.PAGE_TYPE,e.constants.REFERENCE_DIAGRAM_OBJECT_TYPE])};var re,se=function(t,n,o,a,i,r){i||(i=[]);var s=i.slice();s[i.length]=t.id;var c=e.getScriptIdFromPath(s);if(e.event.raiseSyntheticEvent(c,n,o,a,!r),t.objects)for(var l=0;l<t.objects.length;l++){var u=t.objects[l];e.public.fn.IsTableCell(u.type)?(s[i.length]=u.id,c=e.getScriptIdFromPath(s),e.event.raiseSyntheticEvent(c,n,o,a,!r)):(e.public.fn.IsTable(t.type)||e.public.fn.IsMenuObject(t.type)||e.public.fn.IsTreeNodeObject(t.type))&&se(u,n,o,a,i,r)}},ce=function(t,n,o,a,i,r){if(o){var c=o[n],l="onScroll"===n;if(l&&!c&&(c=o.onScrollUp||o.onScrollDown),c){var u=e.getjBrowserEvent(),d=e.getEventInfoFromEvent(u,i,t);a?(d.label=e.pageData.page.name,d.friendlyType="Page"):d.isMasterEvent=!0,l?C(t,d,u.originalEvent,s.windowScrollingUp,s.windowScrollingDown,o,i,r):S(t,d,c,i,r)}}},le=function(t,n){for(var o=0;o<t.length;o++){var a=t[o];if(a===e.constants.ALL_TYPE||a===n)return!0}return!1},ue=function(t,n,o,a,i,r,c){var l="onLoad"==t;if(!n){if(le(i,e.constants.PAGE_TYPE)){if("onScroll"===t){var u=SAFARI&&IOS||SHARE_APP?$("#ios-safari-html").scrollTop():$(window).scrollTop();s.windowScrollingUp=u<re,s.windowScrollingDown=u>re}ce("",t,e.pageData.page.interactionMap,!0,l,o)}return-1!=a.indexOf(e.constants.PAGE_TYPE)&&ue(t,e.pageData.page.diagram.objects,o,a,i),void(u&&(re=u,s.windowScrollingUp=void 0,s.windowScrollingDown=void 0))}r||(r=[]);for(var d=[],p=0;p<r.length;p++)d[p]=r[p];for(var v=0;v<n.length;v++){var f=n[v];if(d[r.length]=f.id,e.public.fn.IsReferenceDiagramObject(f.type)||e.public.fn.IsDynamicPanel(f.type)||e.public.fn.IsRepeater(f.type)||e.public.fn.IsLayer(f.type)){var m=e.getScriptIdFromPath(d);if(m)if(c&&(m=e.repeater.createElementId(m,c)),e.public.fn.IsReferenceDiagramObject(f.type))le(i,e.constants.REFERENCE_DIAGRAM_OBJECT_TYPE)&&ce(m,t,e.pageData.masters[f.masterId].interactionMap,!1,l,o),-1!=a.indexOf(e.constants.REFERENCE_DIAGRAM_OBJECT_TYPE)&&ue(t,e.pageData.masters[f.masterId].diagram.objects,o,a,i,d,c);else if(e.public.fn.IsDynamicPanel(f.type)){if(le(i,e.constants.DYNAMIC_PANEL_TYPE)&&e.event.raiseSyntheticEvent(m,t,l,void 0,!o),-1!=a.indexOf(e.constants.DYNAMIC_PANEL_TYPE)){var g=f.diagrams;for(p=0;p<g.length;p++)ue(t,g[p].objects,o,a,i,r,c)}}else if(e.public.fn.IsRepeater(f.type)){if(le(i,e.constants.REPEATER)&&e.event.raiseSyntheticEvent(m,t,l,void 0,!o),-1!=a.indexOf(e.constants.REPEATER)){var h=e.getItemIdsForRepeater(m);for(p=0;p<h.length;p++)ue(t,f.objects,o,a,i,r,h[p])}}else e.public.fn.IsLayer(f.type)&&(le(i,e.constants.LAYER_TYPE)&&e.event.raiseSyntheticEvent(m,t,l,void 0,!o),f.objs&&f.objs.length>0&&ue(t,f.objs,o,a,i,r,c))}else if(le(i))if(e.public.fn.IsTable(f.type)||e.public.fn.IsMenuObject(f.type)||e.public.fn.IsTreeNodeObject(f.type))se(f,t,l,void 0,r,!o);else{var E=e.getScriptIdFromPath(d);E&&c&&(E=e.repeater.createElementId(E,c)),e.event.raiseSyntheticEvent(E,t,l,void 0,!o)}}O-=1},de=function(){var t={onScroll:[window,"scroll"],onScrollUp:[window,"scrollup"],onScrollDown:[window,"scrolldown"],onContextMenu:[window,"contextmenu"]},n=$(window);for(key in e.features.supports.mobile?(s.initMobileEvents(n,n,""),n.bind(e.features.eventNames.mouseDownName,oe),n.bind(e.features.eventNames.mouseUpName,function(e){oe(e,!0)})):(t.onClick=["html","click"],t.onDoubleClick=["html","dblclick"],t.onMouseMove=["html","mousemove"]),n.scroll(function(){E(!1)}),n.bind(e.features.eventNames.mouseDownName,function(){E(!0)}),n.bind(e.features.eventNames.mouseMoveName,oe),n.scroll(e.flyoutManager.reregisterAllFlyouts),t)t.hasOwnProperty(key)&&function(n){var o=t[n],a=o[1];if("scrollup"!=a&&"scrolldown"!=a){var i=o[0];(SAFARI&&IOS||SHARE_APP)&&(i="#ios-safari-html"),$(i)[a](function(t){return e.setjBrowserEvent(t),ue(n,void 0,!1,[e.constants.PAGE_TYPE,e.constants.REFERENCE_DIAGRAM_OBJECT_TYPE,e.constants.DYNAMIC_PANEL_TYPE,e.constants.REPEATER],[e.constants.PAGE_TYPE,e.constants.REFERENCE_DIAGRAM_OBJECT_TYPE])})}}(key);O-=1,re=0};s.pageLoad=de});