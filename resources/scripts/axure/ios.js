$axure.internal(function(e){if(IOS&&SAFARI||SHARE_APP){var t=document.documentElement;t.id="ios-safari";var i=document.createElement("html");i.id="ios-safari-html",t.appendChild(i);var n=document.body;i.appendChild(n),Object.defineProperty(document,"body",{get:function(){return n}});var o=document.createElement("body");o.id="ios-safari-fixed",t.appendChild(o);var a=document.createElement("div");a.id="base-fixed",o.appendChild(a);var r,d,s,c=!1,l=0,f=function(e,t,i,n){var o=$("#ios-safari-html");if(o.css("overflow",""),o.css("overflow-x",""),o.css("height",""),c)o.width(l/n),o.css("overflow-x","hidden");else{var a=0!=window.orientation&&180!=window.orientation?window.screen.height:window.screen.width;o.width((a-e)/n)}1==t?(o.css("overflow-x","hidden"),o.css("height",i/n+"px")):2==t&&o.css("overflow","hidden")};f(0),$axure("*").each(function(e,t){e&&e.fixedVertical&&e.fixedKeepInFront&&($axure("#"+t).getParents(!1,["item","state"])[0]||$("#base-fixed").append($("#"+t)))}),$axure.messageCenter.addMessageListener(function(e,t){"setContentScale"==e?f(t.panelWidthOffset,t.scale,t.viewportHeight,t.scaleN):"setDeviceMode"==e&&((c=t.device&&!t.scaleToWidth)&&(l=t.width),f(0))}),$("#ios-safari-html").scroll(function(){$axure.updateWindowInfo()}),$axure("*").each(function(t,i){if(t&&t.scrollbars&&"none"!=t.scrollbars.toLowerCase()){if("horizontalAsNeeded"==t.scrollbars)return;$("#"+i).on("touchstart",function(t){s=t.pageY;var n=e.visibility.GetPanelState($("#"+i).attr("id"));r=$("#"+n).scrollTop(),d=$("#"+n)[0].scrollHeight-$("#"+n).height()}),$("#"+i).on("touchmove",function(e){if(d<=0)return!1;0==r&&e.pageY>s&&e.preventDefault(),r==d&&e.pageY<s&&e.preventDefault()})}})}});