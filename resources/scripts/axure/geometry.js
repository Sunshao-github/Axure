$axure.internal(function(n){var t=n.geometry={},r={},e=[];t.unregister=function(t){var p=e.indexOf(t);if(-1!=p){var i=n.splice(e,p+1);n.splice(e,p,e.length-p),e=e.concat(i)}delete r[t]};var p=function(n){return Boolean(r[n])};t.polygonRegistered=p;t.registerPolygon=function(n,t,p,i){-1==e.indexOf(n)&&e.push(n),r[n]={points:t,callback:p,info:i}};t.getPolygonInfo=function(n){if(p(n))return r[n].info};t.genRect=function(n,t){var r=n.pagex(),e=n.pagey(),p=n.width(),i=n.height();t&&(r%1!=0&&(r=Math.floor(r),p++),e%1!=0&&(e=Math.floor(e),i++));var x=r+p,a=e+i;return{X:function(){return r},Y:function(){return e},Wigth:function(){return p},Height:function(){return i},Left:function(){return r},Right:function(){return x},Top:function(){return e},Bottom:function(){return a}}};var i=function(n,t){return{x:n,y:t}};t.genPoint=i;var x=i(0,0);t.tick=function(n,t,p){var o={p1:x,p2:x=i(n,t)};if(e.length){for(var f=0;f<e.length;f++)for(var l=r[e[f]],u=l.points,y=0;y<u.length;y++){var c=u[y],s=u[(y+1)%u.length],g=a(o,{p1:c,p2:s});if(g){l.callback(g);break}}p&&(r={},e=[])}};var a=function(n,t){var r={},e={},p=n.p1.x<n.p2.x||n.p1.x==n.p2.x&&n.p1.y<n.p2.y?n.p1:n.p2,i=n.p1.x<n.p2.x||n.p1.x==n.p2.x&&n.p1.y<n.p2.y?n.p2:n.p1,x=(i.y-p.y)/(i.x-p.x),a=t.p1.x<t.p2.x||t.p1.x==t.p2.x&&t.p1.y<t.p2.y?t.p1:t.p2,o=t.p1.x<t.p2.x||t.p1.x==t.p2.x&&t.p1.y<t.p2.y?t.p2:t.p1,f=(o.y-a.y)/(o.x-a.x),l=n.p1.x==n.p2.x,u=t.p1.x==t.p2.x;if(l||u){if(l&&u){if(p.x!=a.x)return!1;if(i.y<a.y||p.y>o.y)return!1;var y=p.y>=a.y?p:a,c=i.y<=o.y?i:o;return r.parallel={first:p==n.p1?y:c,second:i==n.p2?c:y,sameDirection:p==n.p1==(a==t.p1)},r}var s=u?p.x:a.x,g=u?i.x:o.x,v=u?a.x:p.x,h=u?p.y+(v-s)*x:a.y+(v-s)*f,d=u?a.y:p.y,m=u?o.y:i.y;return v>=s&&v<=g&&h>=d&&h<=m&&(r.point={x:v,y:h},r.exiting=u==(d==(u?t.p1.y:n.p1.y))==(s==(u?n.p1.x:t.p1.x)),r.entering=!r.exiting,s==v?(e[u?"l1":"l2"]=s==(u?n.p1.x:t.p1.x)?"start":"end",r.ties=e):g==v&&(e[u?"l1":"l2"]=g==(u?n.p2.x:t.p2.x)?"end":"start",r.ties=e),d==h?(e[u?"l2":"l1"]=d==(u?t.p1.y:n.p1.y)?"start":"end",r.ties=e):m==h&&(e[u?"l2":"l1"]=m==(u?t.p2.y:n.p2.y)?"end":"start",r.ties=e),r)}if(x==f){if(p.y!=a.y+(p.x-a.x)*x)return!1;if(i.x<a.x||p.x>o.x)return!1;var k=p.x>=a.x?p:a,M=i.x<=o.x?i:o;return r.parallel={first:p==n.p1?k:M,second:i==n.p2?M:k,sameDirection:p==n.p1==(a==t.p1)},r}var R=(a.y-a.x*f-p.y+p.x*x)/(x-f);if(R>=p.x&&R<=i.x&&R>=a.x&&R<=o.x){h=p.y+(R-p.x)*x;return r.point={x:R,y:h},r.entering=x>f==(p==n.p1)==(a==t.p1),r.exiting=!r.entering,n.p1.x==R?(e.l1="start",r.ties=e):n.p2.x==R&&(e.l1="end",r.ties=e),t.p1.x==R?(e.l2="start",r.ties=e):t.p2.x==R&&(e.l2="end",r.ties=e),r}return!1};t.checkInsideRegion=function(t,e){return!!p(t)&&o(r[t].points,e||n.mouseLocation)};var o=function(n,t){var r,e=n[0].x,p=e;for(r=1;r<n.length;r++){var x=n[r].x;e=Math.min(e,x),p=Math.max(p,x)}var o={p1:i(--e,t.y),p2:i(++p,t.y)},f=!1,l=o.p1.x,u=-2,y=function(n){var t=n.p2.x-n.p1.x,r=n.p2.y-n.p1.y;return t/Math.sqrt(t*t+r*r)};for(r=0;r<n.length;r++){var c={p1:n[r],p2:n[(r+1)%n.length]},s=a(o,c);if(s)if(s.parallel){if(s.parallel.first.x<=t.x&&s.parallel.second.x>=t.x)return!0}else{var g=s.point.x;if(!(g>t.x||g<l)){if(g==t.x)return!0;g!=l&&(u=-2),s.ties?"end"==s.ties.l2&&(c={p1:c.p2,p2:c.p1}):c.p1.x>c.p2.x&&(c={p1:c.p2,p2:c.p1});var v=y(c);v>u&&(u=v,l=g,f=s.entering)}}}return f};t.checkInside=o});