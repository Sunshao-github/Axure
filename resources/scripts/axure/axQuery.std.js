$axure.internal(function(t){t.constants={},t.constants.TABLE_TYPE="table",t.constants.MENU_OBJECT_TYPE="menuObject",t.constants.MASTER_TYPE="master",t.constants.PAGE_TYPE="page",t.constants.REFERENCE_DIAGRAM_OBJECT_TYPE="referenceDiagramObject",t.constants.REPEATER_TYPE="repeater",t.constants.DYNAMIC_PANEL_TYPE="dynamicPanel",t.constants.LAYER_TYPE="layer",t.constants.TEXT_BOX_TYPE="textBox",t.constants.TEXT_AREA_TYPE="textArea",t.constants.LIST_BOX_TYPE="listBox",t.constants.COMBO_BOX_TYPE="comboBox",t.constants.CHECK_BOX_TYPE="checkbox",t.constants.RADIO_BUTTON_TYPE="radioButton",t.constants.BUTTON_TYPE="button",t.constants.IMAGE_MAP_REGION_TYPE="imageMapRegion",t.constants.IMAGE_BOX_TYPE="imageBox",t.constants.VECTOR_SHAPE_TYPE="vectorShape",t.constants.SNAPSHOT_TYPE="screenshot",t.constants.TREE_NODE_OBJECT_TYPE="treeNodeObject",t.constants.TABLE_CELL_TYPE="tableCell",t.constants.VERTICAL_LINE_TYPE="verticalLine",t.constants.HORIZONTAL_LINE_TYPE="horizontalLine",t.constants.INLINE_FRAME_TYPE="inlineFrame",t.constants.CONNECTOR_TYPE="connector",t.constants.ALL_TYPE="*",t.constants.TEXT_TYPE="richTextPanel",t.constants.LINK_TYPE="hyperlink",t.public.fn.IsTable=function(e){return e==t.constants.TABLE_TYPE},t.public.fn.IsMenuObject=function(e){return e==t.constants.MENU_OBJECT_TYPE},t.public.fn.IsMaster=function(e){return e==t.constants.MASTER_TYPE},t.public.fn.IsPage=function(e){return e==t.constants.PAGE_TYPE},t.public.fn.IsReferenceDiagramObject=function(e){return e==t.constants.REFERENCE_DIAGRAM_OBJECT_TYPE},t.public.fn.IsRepeater=function(e){return e==t.constants.REPEATER_TYPE},t.public.fn.IsDynamicPanel=t.IsDynamicPanel=function(e){return e==t.constants.DYNAMIC_PANEL_TYPE},t.public.fn.IsLayer=t.IsLayer=function(e){return e==t.constants.LAYER_TYPE},t.public.fn.IsTextBox=function(e){return e==t.constants.TEXT_BOX_TYPE},t.public.fn.IsTextArea=function(e){return e==t.constants.TEXT_AREA_TYPE},t.public.fn.IsListBox=function(e){return e==t.constants.LIST_BOX_TYPE},t.public.fn.IsComboBox=function(e){return e==t.constants.COMBO_BOX_TYPE},t.public.fn.IsCheckBox=function(e){return e==t.constants.CHECK_BOX_TYPE},t.public.fn.IsRadioButton=function(e){return e==t.constants.RADIO_BUTTON_TYPE},t.public.fn.IsButton=function(e){return e==t.constants.BUTTON_TYPE},t.public.fn.IsIamgeMapRegion=function(e){return e==t.constants.IMAGE_MAP_REGION_TYPE},t.public.fn.IsImageBox=function(e){return e==t.constants.IMAGE_BOX_TYPE},t.public.fn.IsVector=function(e){return e==t.constants.VECTOR_SHAPE_TYPE},t.public.fn.IsSnapshot=function(e){return e==t.constants.SNAPSHOT_TYPE},t.public.fn.IsTreeNodeObject=function(e){return e==t.constants.TREE_NODE_OBJECT_TYPE},t.public.fn.IsTableCell=function(e){return e==t.constants.TABLE_CELL_TYPE},t.public.fn.IsInlineFrame=function(e){return e==t.constants.INLINE_FRAME_TYPE},t.public.fn.IsConnector=function(e){return e==t.constants.CONNECTOR_TYPE},t.public.fn.IsContainer=function(e){return e==t.constants.VECTOR_SHAPE_TYPE||e==t.constants.TABLE_TYPE||e==t.constants.MENU_OBJECT_TYPE||e==t.constants.TREE_NODE_OBJECT_TYPE};var e=[t.constants.TEXT_BOX_TYPE,t.constants.TEXT_AREA_TYPE,t.constants.LIST_BOX_TYPE,t.constants.COMBO_BOX_TYPE,t.constants.CHECK_BOX_TYPE,t.constants.RADIO_BUTTON_TYPE,t.constants.BUTTON_TYPE];t.public.fn.IsResizable=function(t){return-1!==$.inArray(t,n)};var n=[t.constants.BUTTON_TYPE,t.constants.DYNAMIC_PANEL_TYPE,t.constants.IMAGE_BOX_TYPE,t.constants.IMAGE_MAP_REGION_TYPE,t.constants.INLINE_FRAME_TYPE,t.constants.LAYER_TYPE,t.constants.LIST_BOX_TYPE,t.constants.COMBO_BOX_TYPE,t.constants.VECTOR_SHAPE_TYPE,t.constants.TEXT_AREA_TYPE,t.constants.TEXT_BOX_TYPE,t.constants.SNAPSHOT_TYPE];t.public.fn.IsSelectionButton=function(e){return e==t.constants.RADIO_BUTTON_TYPE||e==t.constants.CHECK_BOX_TYPE},t.public.fn.SupportsRichText=function(){var e=$obj(this.getElementIds()[0]);return e.type==t.constants.TREE_NODE_OBJECT_TYPE?"Tree Node"==e.friendlyType:-1!=$.inArray(e.type,i)};for(var i=[t.constants.CHECK_BOX_TYPE,t.constants.RADIO_BUTTON_TYPE,t.constants.IMAGE_BOX_TYPE,t.constants.VECTOR_SHAPE_TYPE,t.constants.TABLE_CELL_TYPE,t.constants.CONNECTOR_TYPE],o=function(e){t.public.fn[e]=function(){var t=$.fn[e].apply(this.jQuery(),arguments);return arguments[0]?this:t}},r=["text","val","css"],a=0;a<r.length;a++)o(r[a]);for(var s=function(e){t.public.fn[e]=function(){try{$.fn[e].apply(this.jQuery(),arguments)}catch(t){console.log("Couldn't find the event: "+e)}return this}},l=["click","mouseenter","mouseleave","bind"],c=0;c<l.length;c++)s(l[c]);t.public.fn.openLink=function(e,n){return this.jQuery().each(function(){if($(this).is("iframe")){var i=$(this).get(0);t.navigate({url:e,target:"frame",includeVariables:n,frame:i})}}),this},t.public.fn.SetPanelState=function(e,n,i){for(var o=f(n&&n.animateIn,500),r=f(n&&n.animateOut,500),a=this.getElementIds(),s=0;s<a.length;s++){var l=a[s];if(t.public.fn.IsDynamicPanel(t.getTypeFromElementId(l))){var c=t.visibility.GetPanelStateId(l,Number(e)-1),u=t.visibility.IsIdVisible(l);n.compress&&t.dynamicPanelManager.isIdFitToContent(l)&&u&&t.dynamicPanelManager.compressDelta(l,t.visibility.GetPanelState(l),c,n.vertical,n.compressEasing,n.compressDuration),t.visibility.SetPanelState(l,c,r.easingType,r.direction,r.duration,o.easingType,o.direction,o.duration,i),n.compress&&!u&&i&&t.dynamicPanelManager.compressToggle(l,n.vertical,!0,n.compressEasing,n.compressDuration)}}return this},t.public.fn.show=function(e,n){for(var i=this.getElementIds(),o=0;o<i.length;o++){var r=i[o],a=t.repeater.applySuffixToElementId(r,"_lightbox"),s=$jobj(a);if(e&&"lightbox"==e.showType){if(t.flyoutManager.unregisterPanel(r,!0),0==s.length){(s=$("<div></div>")).attr("id",a);var l="rgb("+e.lightbox.r+","+e.lightbox.g+","+e.lightbox.b+")";s.css({position:"fixed",left:"0px",top:"0px",width:"10000px",height:"10000px","background-color":l,opacity:e.lightbox.a/255});for(var c=t("#"+r).getParents(!0,["dynamicPanel"])[0],f=void 0,d=0;d<c.length;d++){var p=c[d];if("auto"!=$jobj(p).css("z-index")||t.features.supports.mobile){f=c[d];break}}f?$jobj(f).append(s):$("#base").append(s);var g=t.visibility.IsIdVisible(r);(function(e,n){t.event.attachClick(e,function(){t.action.addAnimation(r,t.action.queueTypes.fade,function(){g?t.action.fireAnimationFromQueue(r,t.action.queueTypes.fade):n.hide(),e.remove()})})})(s,this)}t.legacy.BringToFront(a,!0),t.legacy.BringToFront(r,!0)}else if(e&&"flyout"==e.showType){s.remove();var h=n.thiswidget,b=t.getWidgetInfo(r),m={};h.valid&&(m.src=t.geometry.genRect(h,!0)),b.valid&&(m.target=t.geometry.genRect(b,!0)),t.flyoutManager.registerFlyout(m,r,n.srcElement),t.legacy.BringToFront(r)}else s.remove(),t.flyoutManager.unregisterPanel(r,!0);u(r,!0,e)}return this};var f=function(t,e,n){var i,o,r;t?(n?(i=t.durationHide,o=t.easingHide,r=t.animationHide):(i=t.duration,o=t.easing,r=t.animation),"none"==r&&(r="swing")):(i=e,o="none",r="swing");var a={duration:i};switch(o){case"fade":a.easingType="fade",a.direction="";break;case"slideLeft":a.easingType=r,a.direction="left";break;case"slideRight":a.easingType=r,a.direction="right";break;case"slideUp":a.easingType=r,a.direction="up";break;case"slideDown":a.easingType=r,a.direction="down";break;case"flipLeft":a.easingType="flip",a.direction="left";break;case"flipRight":a.easingType="flip",a.direction="right";break;case"flipUp":a.easingType="flip",a.direction="up";break;case"flipDown":a.easingType="flip",a.direction="down";break;default:a.easingType="none",a.direction=""}return a};t.public.fn.hide=function(t){for(var e=this.getElementIds(),n=0;n<e.length;n++){var i=e[n];u(i,!1,t,!0)}return this},t.public.fn.toggleVisibility=function(e){for(var n=this.getElementIds(),i=0;i<n.length;i++){var o=n[i],r=!t.visibility.IsIdVisible(o);u(o,r,e,!r)}return this};var u=function(e,n,i,o){var r=f(i,0,o),a=t.visibility.IsIdVisible(e);i&&"compress"==i.showType&&a!=n&&t.dynamicPanelManager.compressToggle(e,i.vertical,n,i.compressEasing,i.compressDuration);t.visibility.SetWidgetVisibility(e,{value:n,easing:r.easingType,direction:r.direction,duration:r.duration,animation:r.animation,fire:!0,onComplete:function(){t.dynamicPanelManager.fitParentPanel(e)}}),i&&i.bringToFront&&t.legacy.BringToFront(e)};t.public.fn.setOpacity=function(e,n,i){n&&i||(n="none",i=0);for(var o=this.getElementIds(),r=0;r<o.length;r++){var a=o[r],s=function(){t.action.fireAnimationFromQueue(a,t.action.queueTypes.fade)},l=$jobj(a);0==i||"none"==n?(l.css("opacity",e),s()):l.animate({opacity:e},{duration:i,easing:n,queue:!1,complete:s})}};var d=function(e,n,i,o,r){o.easing||(o.easing="none"),o.duration||(o.duration=500);var a=$obj(e);if(t.public.fn.IsLayer(a.type))t.move.MoveWidget(e,n,i,o,r,function(){o.onComplete&&o.onComplete(),t.dynamicPanelManager.fitParentPanel(e)},!1);else{var s=n,l=i;if(r){var c=$jobj(e);s=n-t.getNumFromPx(c.css("left")),l=i-t.getNumFromPx(c.css("top"))}t.move.MoveWidget(e,s,l,o,!1,function(){t.dynamicPanelManager.fitParentPanel(e)},!0)}};t.public.fn.moveTo=function(t,e,n){for(var i=this.getElementIds(),o=0;o<i.length;o++)d(i[o],t,e,n,!0);return this},t.public.fn.moveBy=function(e,n,i){var o=this.getElementIds();if(0==e&&0==n){for(var r=0;r<o.length;r++){var a=o[r];t.move.nopMove(a,i),t.action.fireAnimationFromQueue(a,t.action.queueTypes.move)}return this}for(var s=0;s<o.length;s++)d(o[s],e,n,i,!1);return this},t.public.fn.circularMoveAndRotate=function(e,n,i,o,r,a,s,l,c){l||(l={x:0,y:0});for(var f=this.getElementIds(),u=0;u<f.length;u++){var d=f[u],p=function(){t.dynamicPanelManager.fitParentPanel(d),c&&c()};t.move.circularMove(d,e,{x:i,y:o},a,l,s,n,!0,p,r),r?t.move.rotate(d,e,n.easing,n.duration,!1,!0,function(){t.dynamicPanelManager.fitParentPanel(d)}):t.action.fireAnimationFromQueue(d,t.action.queueTypes.rotate)}},t.public.fn.rotate=function(e,n,i,o,r){for(var a=this.getElementIds(),s=0;s<a.length;s++){var l=a[s];e=parseFloat(e),t.move.rotate(l,e,n,i,o,r,function(){t.dynamicPanelManager.fitParentPanel(l)})}},t.public.fn.resize=function(e,n,i,o,r){var a=this.getElementIds();if(a)for(var s=function(e,n){i&&(t.action.fireAnimationFromQueue(n,t.action.queueTypes.resize),o&&t.action.fireAnimationFromQueue(n,t.action.queueTypes.move)),r&&r()},l=0;l<a.length;l++){var c=a[l],f=$obj(c);if(t.public.fn.IsResizable(f.type)){var u=t("#"+c).size(),d=u.width,p=u.height,g=$jobj(c),h=t.public.fn.IsDynamicPanel(f.type);if(h){if(t.dynamicPanelManager.setFitToContentCss(c,!1,d,p),"fixed"==g.css("position")&&(f.fixedHorizontal&&"center"==f.fixedHorizontal||f.fixedVertical&&"middle"==f.fixedVertical)){o=!0;var b=t.dynamicPanelManager.getFixedPosition(c,d,p,e.width,e.height);b&&(0==b[0]||t.dynamicPanelManager.isPercentWidthPanel(f)||(e["margin-left"]="+="+(Number(e["margin-left"].substr(2))+b[0])),0!=b[1]&&(e["margin-top"]="+="+(Number(e["margin-top"].substr(2))+b[1])))}var m=function(){t.flyoutManager.updateFlyout(c),t.dynamicPanelManager.fitParentPanel(c),t.dynamicPanelManager.updatePanelPercentWidth(c),t.dynamicPanelManager.updatePanelContentPercentWidth(c),s(0,c),t.event.raiseSyntheticEvent(c,"onResize")}}else m=function(){t.dynamicPanelManager.fitParentPanel(c),s(0,c),t.annotation.adjustIconLocation(c),t.event.raiseSyntheticEvent(c,"onResize")};for(var E=g.children().not("div.text");E&&E.length&&-1!=$(E[0]).attr("id").indexOf("container");)E=E.children().not("div.text");if(E&&0!==E.length){var T=[],v=t.public.fn.IsConnector(f.type);E.each(function(n,i){var o={width:e.width,height:e.height},r=t("#"+i.id).size();if((r.width-d!=0||r.height-p!=0||v)&&"IMG"==i.tagName){var a=d?(r.width-d)*e.width/d:r.width,s=p?(r.height-p)*e.height/p:r.height;o.width+=a,o.height+=s}"absolute"===$(i).css("position")&&(i.offsetLeft&&(r.left=i.offsetLeft,o.left=d?i.offsetLeft*e.width/d:i.offsetLeft),i.offsetTop&&(r.top=i.offsetTop,o.top=p?i.offsetTop*e.height/p:i.offsetTop)),T.push({obj:i,sizingObj:r,sizingCss:o})})}if(e.left||e.top){var I=e.deltaX,y=e.deltaY;t.visibility.moveMovedLocation(c,I,y)}if(e.width||e.height){var P=e.width,_=e.height;t.visibility.setResizedSize(c,P,_)}if(n.easing&&"none"!=n.easing)if(T&&$(T).each(function(e,i){i.resizeMatrixFunction?$(i.sizingObj).animate(i.sizingCss,{queue:!1,duration:n.duration,easing:n.easing,step:function(e){var n=(i.width-1)*e+1,o=(i.height-1)*e+1;$(i.obj).css(t.public.fn.setTransformHowever(i.resizeMatrixFunction(n,o)))}}):$(i.sizingObj).animate(i.sizingCss,{queue:!1,duration:n.duration,easing:n.easing,step:function(t,e){$(i.obj).css(e.prop,t)}})}),h)g.animate(e,{queue:!1,duration:n.duration,easing:n.easing,complete:m});else{var x={left:t.public.fn.GetFieldFromStyle(g,"left"),top:t.public.fn.GetFieldFromStyle(g,"top"),width:t.public.fn.GetFieldFromStyle(g,"width"),height:t.public.fn.GetFieldFromStyle(g,"height")};$(x).animate(e,{queue:!1,duration:n.duration,easing:n.easing,step:function(t,e){g.css(e.prop,t)},complete:m})}else T&&$(T).each(function(e,n){n.resizeMatrixFunction?$(n.obj).css(t.public.fn.setTransformHowever(n.resizeMatrixFunction(n.width,n.height))):$(n.obj).animate(n.sizingCss,{queue:!1,duration:0})}),g.animate(e,{queue:!1,duration:0,complete:m})}else s(0,c)}},t.public.fn.bringToFront=function(){for(var e=this.getElementIds(),n=0;n<e.length;n++)t.legacy.BringToFront(e[n]);return this},t.public.fn.sendToBack=function(){for(var e=this.getElementIds(),n=0;n<e.length;n++)t.legacy.SendToBack(e[n]);return this},t.public.fn.text=function(){if(null==arguments[0]){var e=this.getElementIds()[0];if(!e)return;return p(e)}for(var n=this.getElementIds(),i=0;i<n.length;i++){var o=n[i],r=t.getTypeFromElementId(o);if(t.public.fn.IsTextBox(r)||t.public.fn.IsTextArea(r))SetWidgetFormText(o,arguments[0]);else{var a="#"+o;if(0==$(a).length&&(a="#u"+(Number(o.substring(1))+1)),0!=$(a).length&&$(a).find("p").find("span").length>0){$(a).find("p:not(:first)").remove(),$(a).find("p").find("span:not(:first)").remove();var s=arguments[0].replace(/\n/g,"--NEWLINE--"),l=$("<div/>").text(s).html();$(a).find("span").html(l.replace(/--NEWLINE--/g,"<br>"))}}}return this};var p=function(e){var n=$jobj(e),i=$jobj(t.INPUT(e));if(i.length&&(n=i),n.is("input")&&(t.public.fn.IsCheckBox(n.attr("type"))||"radio"==n.attr("type"))&&(n=n.parent().find("label").find("div")),n.is("div")){var o=n.hasClass("text")?n:n.find(".text");if(0==o.length)return"";var r="";return o.children("p,ul,ol").each(function(t){if(0!=t&&(r+="\n"),!g($(this).children())){var e=$(this).html();e=e.replace(/<br[^>]*>/gi,"\n").replace(/&nbsp;/gi," "),r+=$(e).text()}}),r}var a=n.val();return null==a?"":a},g=function(t){var e=!(1!=t.length||!t.is("span"))&&t.children();return e&&1==e.length&&e.is("br")&&""==e.text().trim()};t.public.fn.setRichTextHtml=function(){if(null!=arguments[0]){for(var e=this.getElementIds(),n=0;n<e.length;n++){var i=e[n],o=t.getTypeFromElementId(i);if(!t.public.fn.IsTextBox(o)&&!t.public.fn.IsTextArea(o)){var r="#"+i;0==$(r).length&&(r="#u"+(parseInt(i.substring(1))+1)),0!=$(r).length&&SetWidgetRichText(r,arguments[0])}}return this}},t.public.fn.value=function(){if(null==arguments[0]){var e=this.getElementIds()[0];if(!e)return;var n=t.getTypeFromElementId(e);return t.public.fn.IsComboBox(n)||t.public.fn.IsListBox(n)?$("#"+e+" :selected").text():t.public.fn.IsCheckBox(n)||t.public.fn.IsRadioButton(n)?$("#"+e+"_input").is(":selected"):t.public.fn.IsTextBox(n)?$("#"+e+"_input").val():this.jQuery().first().val()}for(var i=this.getElementIds(),o=0;o<i.length;o++){n=t.getTypeFromElementId(i[o]);var r=$("#"+i[o]);t.public.fn.IsCheckBox(n)||t.public.fn.IsRadioButton(n)?1==arguments[0]?r.prop("selected",!0):0==arguments[0]&&r.prop("selected",!1):r.val(arguments[0])}return this},t.public.fn.checked=function(){return null==arguments[0]?this.selected():(this.selected(arguments[0]),this)};var h=function(e,n,i,o,r){var a,s=window.document.getElementById(e),l=t.legacy.GetScrollable(s),c=$(l),f=(a=c.is("body")?t("#"+e).viewportLocation():t("#"+e).pageBoundingRect(!0,c.attr("id")).location).left,u=a.top;n||(f=l.scrollLeft),i||(u=l.scrollTop),c.is("body")&&(c=$("html,body")),"none"==o?(i&&c.scrollTop(u),n&&c.scrollLeft(f)):n?i?c.animate({scrollTop:u,scrollLeft:f},r,o):c.animate({scrollLeft:f},r,o):c.animate({scrollTop:u},r,o)};t.public.fn.scroll=function(t){var e="none",n=500;t&&t.easing&&(e=t.easing,t.duration&&(n=t.duration));var i=!0,o=!0;"vertical"==t.direction?i=!1:"horizontal"==t.direction&&(o=!1);for(var r=this.getElementIds(),a=0;a<r.length;a++)h(r[a],i,o,e,n);return this},t.public.fn.enabled=function(){if(null==arguments[0]){var n=this.getElementIds()[0];if(!n)return;var i=t.getTypeFromElementId(n);return t.public.fn.IsImageBox(i)||t.public.fn.IsVector(i)||t.public.fn.IsLayer(i)?!t.style.IsWidgetDisabled(n):this.jQuery().children(":disabled").length<=0}for(var o=this.getElementIds(),r=0;r<o.length;r++){var a=o[r],s=(i=t.getTypeFromElementId(a),arguments[0]);if((t.public.fn.IsImageBox(i)||t.public.fn.IsVector(i)||t.public.fn.IsTextBox(i)||t.public.fn.IsTextArea(i)||t.public.fn.IsComboBox(i)||t.public.fn.IsListBox(i)||t.public.fn.IsCheckBox(i)||t.public.fn.IsRadioButton(i))&&t.style.SetWidgetEnabled(a,s),t.public.fn.IsDynamicPanel(i)||t.public.fn.IsLayer(i)){t.style.SetWidgetEnabled(a,s);for(var l=this.getChildren(!1,!0)[r].children,c=0;c<l.length;c++)$axure("#"+l[c]).enabled(s)}var f=$obj(a).images;if(-1!=e.indexOf(i)&&f){var u=$jobj(t.repeater.applySuffixToElementId(a,"_image_sketch")),d=(s?"normal~":"disabled~")+(t.adaptive.currentViewId||"");u.attr("src",f[d])}var p=$jobj(a),g=$jobj(t.INPUT(a));g.length&&(p=g),s?p.prop("disabled",!1):p.prop("disabled",!0)}return this},t.public.fn.visible=function(){for(var e=this.getElementIds(),n=0;n<e.length;n++)t.visibility.SetIdVisible(e[n],arguments[0]);return this},t.public.fn.selected=function(){if(null==arguments[0]){var e=this.getElementIds()[0];if(!e)return;var n=t.getTypeFromElementId(e);if(t.public.fn.IsTreeNodeObject(n)){for(var i="",o=t.getAllElementIds(),r=0;r<o.length;r++){var a=o[r],s=t.getObjectFromElementId(a);if(t.public.fn.IsVector(s.type)&&s.parent&&s.parent.scriptIds&&s.parent.scriptIds[0]==e){i=a;break}}if(""==i)return;return t.style.IsWidgetSelected(i)}return t.public.fn.IsImageBox(n)||t.public.fn.IsVector(n)||t.public.fn.IsTableCell(n)||t.public.fn.IsDynamicPanel(n)||t.public.fn.IsLayer(n)||t.public.fn.IsTextArea(n)||t.public.fn.IsTextBox(n)||t.public.fn.IsListBox(n)||t.public.fn.IsComboBox(n)?t.style.IsWidgetSelected(e):t.public.fn.IsCheckBox(n)||t.public.fn.IsRadioButton(n)?$jobj(t.INPUT(e)).prop("checked"):this}for(var l=this.getElementIds(),c="function"==typeof arguments[0]?arguments[0]:null,f=arguments[0],u=0;u<l.length;u++){a=l[u];c&&(f=c($axure("#"+a)));n=t.getTypeFromElementId(a);if(t.public.fn.IsTreeNodeObject(n)){$("#"+l[u]).parents(".treeroot").attr("id"),i="";var d=$jobj(a).children();for(r=0;r<d.length;r++){a=d[r].id;if((s=t.getObjectFromElementId(a))&&s.type==t.constants.VECTOR_SHAPE_TYPE&&s.parent&&s.parent.scriptIds&&s.parent.scriptIds[0]==l[u]){i=a;break}}if(""==i)continue;t.tree.SelectTreeNode(a,f)}else if(t.public.fn.IsImageBox(n)||t.public.fn.IsVector(n)||t.public.fn.IsTableCell(n)||t.public.fn.IsDynamicPanel(n)||t.public.fn.IsLayer(n)||t.public.fn.IsTextArea(n)||t.public.fn.IsTextBox(n)||t.public.fn.IsListBox(n)||t.public.fn.IsComboBox(n))t.style.SetWidgetSelected(l[u],f);else if(t.public.fn.IsCheckBox(n)||t.public.fn.IsRadioButton(n)){var p=$jobj(t.INPUT(a));p.prop("checked")!=f&&(p.prop("checked",f),t.style.SetWidgetSelected(l[u],f,!0))}}return this},t.public.fn.focus=function(){var e=this.getElementIds()[0],n=t.event.getFocusableWidgetOrChildId(e);return $("#"+n).triggerHandler("focus"),$("#"+n).focus(),this},t.public.fn.expanded=function(){if(null==arguments[0]){var e=this.getElementIds()[0];return e&&!t.public.fn.IsTreeNodeObject(t.getTypeFromElementId(e))&&t.visibility.IsIdVisible(e+"_children")}for(var n=this.getElementIds(),i=0;i<n.length;i++)if(t.public.fn.IsTreeNodeObject(t.getTypeFromElementId(n[i]))){var o=n[i],r=o+"_children",a=t.repeater.getScriptIdFromElementId(o),s=t.repeater.getItemIdFromElementId(o),l="u"+(parseInt(a.substring(1))+1);s&&(l=t.repeater.createElementId(l,s)),0!=$("#"+r).length&&$jobj(l).children().first().is("img")||(l=""),1==arguments[0]?t.tree.ExpandNode(o,r,l):0==arguments[0]&&t.tree.CollapseNode(o,r,l)}return this};var b=function(t){return t.right=t.left+t.width,t.bottom=t.top+t.height,t.x=t.left,t.y=t.top,t.location={x:t.left,y:t.top,left:t.left,top:t.top},t.size={width:t.width,height:t.height},t.centerPoint={x:t.width/2+t.left,y:t.height/2+t.top},t},m=function(e){for(var n={left:e.length>0?9999999:0,top:e.length>0?9999999:0,right:0,bottom:0},i=0;i<e.length;i++){var o=e[i],r=$obj(o);if(r&&!(t.visibility.limboIds[o]||!t.visibility.IsIdVisible(o)||t.public.fn.IsDynamicPanel(r.type)&&r.fixedHorizontal)){var a=t("#"+o).offsetBoundingRect();t.public.fn.IsLayer(r.type)&&0==a.width&&0==a.height||(n.left=Math.min(n.left,a.left),n.top=Math.min(n.top,a.top),n.right=Math.max(n.right,a.right),n.bottom=Math.max(n.bottom,a.bottom))}}return n.width=n.right-n.left,n.height=n.bottom-n.top,b(n)};t.public.fn.getPageSize=function(){for(var t=$("#base").children(),e=[],n=0;n<t.length;n++){var i=$(t[n]).attr("id");e.push(i)}return m(e)},t.public.fn.childrenBoundingRect=function(){var t=this.getChildren()[0].children;return m(t)};t.public.fn.offsetBoundingRect=function(e){var n=this.getElementIds()[0];if(n){var i,o,r,a,s,l,c=document.getElementById(n),f=t.visibility.getMovedLocation(n),u=t.visibility.getResizedSize(n);if(f)i=f;else if(c&&c.getAttribute("data-left"))i={left:Number(c.getAttribute("data-left")),top:Number(c.getAttribute("data-top"))};else if($obj(n)){s=t.style.generateState(n),i={left:(l=t.style.computeFullStyle(n,s,t.adaptive.currentViewId)).location.x,top:l.location.y},(v=l.outerShadow).on&&(v.offsetX<0&&(i.left+=v.offsetX,i.left-=v.blurRadius),v.offsetY<0&&(i.top+=v.offsetY,i.top-=v.blurRadius));for(var d=this.getParents(!0,"*")[0],p=0;p<d.length;p++){var g=d[p],h=t.getTypeFromElementId(g);if($axure.fn.IsReferenceDiagramObject(h)){var m=t("#"+g).offsetLocation();i.left+=m.x,i.top+=m.y;break}if(!$axure.fn.IsLayer(h))break}}else{a||(a=T(t.repeater.removeSuffixFromElementId(n)));var E=$(c).position();i={left:E.left,top:E.top}}if(u)o=u;else if(c&&c.getAttribute("data-width"))o={width:Number(c.getAttribute("data-width")),height:Number(c.getAttribute("data-height"))};else if($obj(n)){var v;s=s||t.style.generateState(n),o={width:(l=l||t.style.computeFullStyle(n,s,t.adaptive.currentViewId)).size.width,height:l.size.height},(v=l.outerShadow).on&&(v.offsetX<0?o.width-=v.offsetX:o.width+=v.offsetX,v.offsetY<0?o.height-=v.offsetY:o.height+=v.offsetY,o.width+=v.blurRadius,o.height+=v.blurRadius)}else{a||(a=T(t.repeater.removeSuffixFromElementId(n)));var I=$(c);o={width:I.outerWidth(),height:I.outerHeight()}}var y=function(e,n){var i=$obj(e);if(!i||!i.fixedVertical)return{valid:!1};var o=SAFARI&&IOS||SHARE_APP?$("#ios-safari-html"):$(window),r=o.width(),a=o.height(),s=o.scrollLeft(),l=o.scrollTop(),c=0,f=0,u=n.width,d=n.height,p=i.fixedHorizontal;"left"==p?c=s+(i.percentWidth?0:t.getNumFromPx($jobj(e).css("left"))):"center"==p?c=s+(r-u)/2+i.fixedMarginHorizontal:"right"==p&&(c=s+r-u-i.fixedMarginHorizontal);var g=i.fixedVertical;return"top"==g?f=l+t.getNumFromPx($jobj(e).css("top")):"middle"==g?f=l+(a-d)/2+i.fixedMarginVertical:"bottom"==g&&(f=l+a-d-i.fixedMarginVertical),{valid:!0,top:f,left:i.isPercentWidthPanel?0:c}}(n,o);y.valid&&(i.left=y.left,i.top=y.top);var P={left:i.left,top:i.top,width:o.width,height:o.height,isFixed:y.valid};if(!e){var _=t.visibility.getRotatedAngle(n);_?r=_:c&&c.getAttribute("data-rotation")?r=Number(c.getAttribute("data-rotation")):$obj(n)?(s=s||t.style.generateState(n),r=(l=l||t.style.computeFullStyle(n,s,t.adaptive.currentViewId)).rotation):(a||(a=T(t.repeater.removeSuffixFromElementId(n))),r=t.move.getRotationDegreeFromElement(c)),r&&0!=r&&(P=t.public.fn.getBoundingRectForRotate(b(P),r))}return a&&a(),b(P)}},t.public.fn.pageBoundingRect=function(e,n){var i=this.offsetBoundingRect(e);if(i){if(i.isFixed)return b(i);for(var o=i.location,r=this.getElementIds()[0],a=[],s=$obj(r).parent;t.public.fn.IsContainer(s.type);)a.push(t.getScriptIdFromPath([s.id],this.id)),s=s.parent;for(var l=t("#"+r).getParents(!0,["item","repeater","dynamicPanel"])[0],c=0;c<l.length;c++)a.push(l[c]);var f=n?n.split("_")[0]:n;for(c=0;c<a.length;c++){var u=a[c];if(u==f)break;var d=t("#"+u).offsetLocation();o={x:o.x+d.x,y:o.y+d.y,left:o.left+d.left,top:o.top+d.top};var p=$obj(u);if(p&&p.fixedVertical){i.isFixed=!0;break}}return i.left=o.x,i.top=o.y,b(i)}},t.public.fn.viewportBoundingRect=function(t){var e=this.pageBoundingRect(!0,t);if(e)return e.isFixed||(e.left=E(e.left,!1)),b(e)},t.public.fn.size=function(){var t=this.offsetBoundingRect(!0);return t?t.size:void 0},t.public.fn.width=function(){var t=this.offsetBoundingRect(!0);return t?t.width:void 0},t.public.fn.height=function(){var t=this.offsetBoundingRect(!0);return t?t.height:void 0},t.public.fn.offsetLocation=function(){var t=this.offsetBoundingRect(!0);return t?t.location:void 0},t.public.fn.viewportLocation=function(t){var e=this.viewportBoundingRect(t);return e?e.location:void 0};var E=$axure.fn.bodyToWorld=function(e,n){var i=$("body");if("relative"!=i.css("position"))return e;var o=t.getNumFromPx(i.css("left"))+Math.max(0,($(window).width()-i.width())/2);return n&&(o*=-1),e+o};t.public.fn.left=function(t){return t?this.offsetLocation().left:this.viewportLocation().left},t.public.fn.top=function(t){return t?this.offsetLocation().top:this.viewportLocation().top};var T=function(e){var n=t("#"+e).getParents(!0,"*")[0];n.push(e);for(var i=[],o=0;o<n.length;o++){var r=n[o],a=$jobj(r);"none"==a.css("display")&&(a.css("display","block"),i.push(r))}return function(){for(var t=0;t<i.length;t++)$jobj(i[t]).css("display","none")}}});